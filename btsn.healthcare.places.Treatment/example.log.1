DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3180001 BUFFERED at TreatmentService (T_in arrival)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Token 3180001 entering place: TreatmentService (buffer=0)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'TreatmentService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_TreatmentService token=3180001 eventType=ENTER
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_TreatmentService (EdgeNode) token=3180001  -> TreatmentService [ENTER] buffer=0
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3180001 ENTER at TreatmentService
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: About to check inputCollection.isEmpty() - size: 1
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: inputCollection contents: [null]
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: nodeType: EdgeNode
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: needsInputSynchronization: false
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Past inputCollection check, about to enter JOIN processing
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: inputCollection.get(0): null
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Zero-input service TreatmentService:executeTreatmentPlan executing with trigger token (no workflow data required)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing EdgeNode for TreatmentService.executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Processing EdgeNode/MergeNode for TreatmentService.executeTreatmentPlan
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for TreatmentService.executeTreatmentPlan with attribute 'diagnosisResults'
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation executeTreatmentPlan uses standard (AND) semantics
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan requires 1 inputs total (standard AND logic)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan needs 1 input - can call immediately with 'diagnosisResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Found single-input canonical binding - calling TreatmentService.executeTreatmentPlan immediately
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Invoking TreatmentService.executeTreatmentPlan via ServiceHelper (canonical binding)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION START ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Service: org.btsn.places.TreatmentService.executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SequenceID: 3180000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Input arguments count: 1
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Processing argument 1/1, raw length: 1195
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Unwrapped place response from key: DIAGNOSIS_PLACE_3180001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Found existing original_token to preserve
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted workflow_start_time=1770294899817
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Cleaned argument 1, length: 1195 (removed 0 bytes of metadata)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SERVICE INVOKE: Calling org.btsn.places.TreatmentService.executeTreatmentPlan with 1 CLEAN business data arguments
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Reflecting on org.btsn.places.TreatmentService.executeTreatmentPlan
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Looking for method with 1 String parameters
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TreatmentService
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Found standard method (1 String args)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Calling executeTreatmentPlan with 1 arguments
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SERVICE COMPLETE: org.btsn.places.TreatmentService.executeTreatmentPlan completed in 108ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Using wrapped response key 'TREATMENT_PLACE_3180000' instead of 'treatmentResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Successfully enriched service result with metadata
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION COMPLETE ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Service returned: {"TREATMENT_PLACE_3180000":{"serviceType":"treatmentResults","notAfter":1770298522688,"tokenId":"token_default","data":{"completion_time":"2026-02-05 22:35:23","confidence_level":"LOW","diagnosis_treated":"Unknown diagnosis","treatment_id":"TREAT_unknown_20260205223523_6401","clinical_reasoning":"Clinical synthesis: Patient presents with unspecified. Primary diagnosis: Clinical assessment based on available findings. Severity assessed as MILD.","symptom_improvement":"MINIMAL - Symptoms persist","protocol_id":"GENERAL_TREATMENT_01","overall_response":"POOR - Consider alternative treatment","differential_diagnoses":"[\"Differential diagnosis based on clinical presentation\"]","primary_diagnosis":"Clinical assessment based on available findings","disposition":"OBSERVATION","discharge_ready":"false","nurse":"RN_TREATMENT","physician":"DR_EM_EMERGENCY","treatment_goals_met":"false"},"workflow_start_time":1770294899817,"placeId":"TREATMENT_PLACE_3180000","service_start_time":1770294923293,"version":"v001","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"P1","service_processing_time_ms":108,"original_token":"{\"notAfter\":1770295019817,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770294899817,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770294923401,"status":"TREATMENT_COMPLETE"}}
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Token 3180001 exiting place: TreatmentService -> MonitorService [arc=$ANON11]
WARN ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'TreatmentService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_out_TreatmentService token=3180001 eventType=EXIT
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_out_TreatmentService (EdgeNode) token=3180001 TreatmentService -> MonitorService [EXIT] arc=$ANON11
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3180001 EXIT from TreatmentService -> MonitorService.acknowledgeTokenArrival [arc=$ANON11]
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService query returned 2 rows
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?channelId = ip0
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?port = 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ROUTING: External to MonitorService -> 'treatmentResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ROUTING: Token 3180001 -> 'treatmentResults' to MonitorService.acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Attribute treatmentResults = {"TREATMENT_PLACE_3180000":{"serviceType":"treatmentResults","notAfter":1770298522688,"tokenId":"token_default","data":{"completion_time":"2026-02-05 22:35:23","confidence_level":"LOW","diagnosis_treated":"Unknown diagnosis","treatment_id":"TREAT_unknown_20260205223523_6401","clinical_reasoning":"Clinical synthesis: Patient presents with unspecified. Primary diagnosis: Clinical assessment based on available findings. Severity assessed as MILD.","symptom_improvement":"MINIMAL - Symptoms persist","protocol_id":"GENERAL_TREATMENT_01","overall_response":"POOR - Consider alternative treatment","differential_diagnoses":"[\"Differential diagnosis based on clinical presentation\"]","primary_diagnosis":"Clinical assessment based on available findings","disposition":"OBSERVATION","discharge_ready":"false","nurse":"RN_TREATMENT","physician":"DR_EM_EMERGENCY","treatment_goals_met":"false"},"workflow_start_time":1770294899817,"placeId":"TREATMENT_PLACE_3180000","service_start_time":1770294923293,"version":"v001","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"P1","service_processing_time_ms":108,"original_token":"{\"notAfter\":1770295019817,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770294899817,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770294923401,"status":"TREATMENT_COMPLETE"}}
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - monitorIncomingEvents: true
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - TIMING: Using EventReactor arrival time=1770294922810 for seqID=3180001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - WRITE: Using captured workflowStartTime=1770294899817 for seqID=3180001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - === SERVICE TIMING RECORD ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Sequence ID: 3180001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Service: TreatmentService
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Operation: executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Arrival Time (EventReactor): 1770294922810
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Invocation Time: 1770294923179
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Publish Time: 1770294923583
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Workflow Start Time: 1770294899817
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   MARKING: Buffer=0, Total=1, Capacity=50
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ==============================
INFO ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote service timing record for sequenceID: 3180001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Queue Time (including priority queue): 369ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Service Time: 404ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Total Time: 773ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Buffer Utilization: 0.0%
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Cleaned up join 3180000
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Service TreatmentService sequence ID: 3180000 complete.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing:: diagnosisResults = {"DIAGNOSIS_PLACE_3190001":{"serviceType":"diagnosisResults","notAfter":1770298524020,"tokenId":"token_default","data":{"differential_diagnoses":["Differential diagnosis based on clinical presentation"],"primary_diagnosis":"Clinical assessment based on available findings","disposition":"OUTPATIENT_FOLLOWUP","confidence_level":"LOW","physician":"DR_EM_EMERGENCY","clinical_reasoning":"Clinical synthesis: Patient presents with unspecified. Primary diagnosis: Clinical assessment based on available findings. Severity assessed as MILD.","protocol_id":"GENERAL_DIAGNOSIS"},"workflow_start_time":1770294901045,"placeId":"DIAGNOSIS_PLACE_3190001","service_start_time":1770294923920,"version":"v001","sequenceId":"3190001","executionTime":0,"marking":0,"currentPlace":"P1","service_processing_time_ms":101,"original_token":"{\"notAfter\":1770295021045,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770294901045,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770294924021,"status":"DIAGNOSIS_COMPLETE"}}
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CAPTURE: WorkflowStartTime=1770294901045 for seqID=3190001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - Incoming Sequence ID = 3190001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - MonitorIncomingEvents+ = true
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - Using RuleBaseVersion: v003
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - FILTER: Event for TreatmentService.executeTreatmentPlan accepted by TreatmentService thread
WARN ServiceThread-TreatmentService-12106 org.btsn.json.jsonLibrary - Key "diagnosisResults" already exists. Skipping.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - JOIN-MAP: Added key=diagnosisResults to join 3190000 (tokenId=3190001, mapSize=1)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Loading rule base for operation: executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Treatment/RuleFolder.v003/executeTreatmentPlan/Service.ruleml
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Using cached knowledge base for version: v003
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Parsing knowledge base...
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Knowledge base parsed successfully
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for TreatmentService.executeTreatmentPlan with attribute 'diagnosisResults'
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation executeTreatmentPlan uses standard (AND) semantics
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan requires 1 inputs total (standard AND logic)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan needs 1 input - can call immediately with 'diagnosisResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Token 3190001 buffered at T_in_TreatmentService (buffer=0)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'TreatmentService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_TreatmentService token=3190001 eventType=BUFFERED
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_TreatmentService (EdgeNode) token=3190001  -> TreatmentService [BUFFERED] buffer=0
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3190001 BUFFERED at TreatmentService (T_in arrival)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Token 3190001 entering place: TreatmentService (buffer=0)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'TreatmentService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_TreatmentService token=3190001 eventType=ENTER
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_TreatmentService (EdgeNode) token=3190001  -> TreatmentService [ENTER] buffer=0
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3190001 ENTER at TreatmentService
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: About to check inputCollection.isEmpty() - size: 1
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: inputCollection contents: [null]
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: nodeType: EdgeNode
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: needsInputSynchronization: false
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Past inputCollection check, about to enter JOIN processing
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: inputCollection.get(0): null
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Zero-input service TreatmentService:executeTreatmentPlan executing with trigger token (no workflow data required)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing EdgeNode for TreatmentService.executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Processing EdgeNode/MergeNode for TreatmentService.executeTreatmentPlan
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for TreatmentService.executeTreatmentPlan with attribute 'diagnosisResults'
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation executeTreatmentPlan uses standard (AND) semantics
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan requires 1 inputs total (standard AND logic)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: executeTreatmentPlan needs 1 input - can call immediately with 'diagnosisResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Found single-input canonical binding - calling TreatmentService.executeTreatmentPlan immediately
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Invoking TreatmentService.executeTreatmentPlan via ServiceHelper (canonical binding)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION START ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Service: org.btsn.places.TreatmentService.executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SequenceID: 3190000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Input arguments count: 1
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - Processing argument 1/1, raw length: 1195
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Unwrapped place response from key: DIAGNOSIS_PLACE_3190001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Found existing original_token to preserve
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted workflow_start_time=1770294901045
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Cleaned argument 1, length: 1195 (removed 0 bytes of metadata)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SERVICE INVOKE: Calling org.btsn.places.TreatmentService.executeTreatmentPlan with 1 CLEAN business data arguments
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Reflecting on org.btsn.places.TreatmentService.executeTreatmentPlan
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Looking for method with 1 String parameters
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TreatmentService
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Found standard method (1 String args)
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - INVOKE: Calling executeTreatmentPlan with 1 arguments
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - SERVICE COMPLETE: org.btsn.places.TreatmentService.executeTreatmentPlan completed in 254ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Using wrapped response key 'TREATMENT_PLACE_3190000' instead of 'treatmentResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - ENRICHMENT: Successfully enriched service result with metadata
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION COMPLETE ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Service returned: {"TREATMENT_PLACE_3190000":{"serviceType":"treatmentResults","notAfter":1770298524020,"tokenId":"token_default","data":{"completion_time":"2026-02-05 22:35:24","confidence_level":"LOW","diagnosis_treated":"Unknown diagnosis","treatment_id":"TREAT_unknown_20260205223524_9434","clinical_reasoning":"Clinical synthesis: Patient presents with unspecified. Primary diagnosis: Clinical assessment based on available findings. Severity assessed as MILD.","symptom_improvement":"MODERATE - Partial symptom relief","protocol_id":"GENERAL_TREATMENT_01","overall_response":"GOOD - Continued monitoring needed","differential_diagnoses":"[\"Differential diagnosis based on clinical presentation\"]","primary_diagnosis":"Clinical assessment based on available findings","disposition":"OBSERVATION","discharge_ready":"false","nurse":"RN_TREATMENT","physician":"DR_EM_EMERGENCY","treatment_goals_met":"true"},"workflow_start_time":1770294901045,"placeId":"TREATMENT_PLACE_3190000","service_start_time":1770294924685,"version":"v001","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"P1","service_processing_time_ms":254,"original_token":"{\"notAfter\":1770295021045,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770294901045,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770294924939,"status":"TREATMENT_COMPLETE"}}
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Token 3190001 exiting place: TreatmentService -> MonitorService [arc=$ANON11]
WARN ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'TreatmentService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_out_TreatmentService token=3190001 eventType=EXIT
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_out_TreatmentService (EdgeNode) token=3190001 TreatmentService -> MonitorService [EXIT] arc=$ANON11
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - PETRI-NET: Token 3190001 EXIT from TreatmentService -> MonitorService.acknowledgeTokenArrival [arc=$ANON11]
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService query returned 2 rows
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?channelId = ip0
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?port = 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ROUTING: External to MonitorService -> 'treatmentResults'
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ROUTING: Token 3190001 -> 'treatmentResults' to MonitorService.acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Attribute treatmentResults = {"TREATMENT_PLACE_3190000":{"serviceType":"treatmentResults","notAfter":1770298524020,"tokenId":"token_default","data":{"completion_time":"2026-02-05 22:35:24","confidence_level":"LOW","diagnosis_treated":"Unknown diagnosis","treatment_id":"TREAT_unknown_20260205223524_9434","clinical_reasoning":"Clinical synthesis: Patient presents with unspecified. Primary diagnosis: Clinical assessment based on available findings. Severity assessed as MILD.","symptom_improvement":"MODERATE - Partial symptom relief","protocol_id":"GENERAL_TREATMENT_01","overall_response":"GOOD - Continued monitoring needed","differential_diagnoses":"[\"Differential diagnosis based on clinical presentation\"]","primary_diagnosis":"Clinical assessment based on available findings","disposition":"OBSERVATION","discharge_ready":"false","nurse":"RN_TREATMENT","physician":"DR_EM_EMERGENCY","treatment_goals_met":"true"},"workflow_start_time":1770294901045,"placeId":"TREATMENT_PLACE_3190000","service_start_time":1770294924685,"version":"v001","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"P1","service_processing_time_ms":254,"original_token":"{\"notAfter\":1770295021045,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770294901045,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770294924939,"status":"TREATMENT_COMPLETE"}}
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - monitorIncomingEvents: true
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - TIMING: Using EventReactor arrival time=1770294924151 for seqID=3190001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - WRITE: Using captured workflowStartTime=1770294901045 for seqID=3190001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - === SERVICE TIMING RECORD ===
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Sequence ID: 3190001
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Service: TreatmentService
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Operation: executeTreatmentPlan
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Arrival Time (EventReactor): 1770294924151
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Invocation Time: 1770294924448
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Publish Time: 1770294925303
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Workflow Start Time: 1770294901045
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   MARKING: Buffer=0, Total=1, Capacity=50
INFO ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ==============================
INFO ServiceThread-TreatmentService-12106 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote service timing record for sequenceID: 3190001
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Queue Time (including priority queue): 297ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Service Time: 855ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Total Time: 1152ms
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread -   Buffer Utilization: 0.0%
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Cleaned up join 3190000
DEBUG ServiceThread-TreatmentService-12106 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Service TreatmentService sequence ID: 3190000 complete.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing:: token = {"token":"workflow_1000000_v001"}
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CAPTURE: WorkflowStartTime=1770294951432 for seqID=1000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - Incoming Sequence ID = 1000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - MonitorIncomingEvents+ = true
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - Using RuleBaseVersion: v001
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - FILTER: Event for Treatment_CollectorService.collectAllData accepted by Treatment_CollectorService thread
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.json.jsonLibrary - Key "token" already exists. Skipping.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - JOIN-MAP: Added key=token to join 1000000 (tokenId=1000000, mapSize=1)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Loading rule base for operation: collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Treatment/RuleFolder.v001/collectAllData/Service.ruleml
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Treatment/RuleFolder.v001/collectAllData/Service.ruleml
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Loaded knowledge base length: 13649
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v001</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Parsing knowledge base...
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Knowledge base parsed successfully
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for Treatment_CollectorService.collectAllData with attribute 'token'
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Overrode inputCollection for canonical binding
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 1000000 buffered at T_in_Treatment_CollectorService (buffer=0)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_Treatment_CollectorService token=1000000 eventType=BUFFERED
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_Treatment_CollectorService (EdgeNode) token=1000000  -> Treatment_CollectorService [BUFFERED] buffer=0
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 1000000 BUFFERED at Treatment_CollectorService (T_in arrival)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 1000000 entering place: Treatment_CollectorService (buffer=0)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_Treatment_CollectorService token=1000000 eventType=ENTER
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_Treatment_CollectorService (EdgeNode) token=1000000  -> Treatment_CollectorService [ENTER] buffer=0
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 1000000 ENTER at Treatment_CollectorService
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: About to check inputCollection.isEmpty() - size: 1
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: inputCollection contents: [null]
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: nodeType: EdgeNode
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: needsInputSynchronization: false
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Past inputCollection check, about to enter JOIN processing
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: inputCollection.get(0): null
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Zero-input service Treatment_CollectorService:collectAllData executing with trigger token (no workflow data required)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing EdgeNode for Treatment_CollectorService.collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Processing EdgeNode/MergeNode for Treatment_CollectorService.collectAllData
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for Treatment_CollectorService.collectAllData with attribute 'token'
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Found single-input canonical binding - calling Treatment_CollectorService.collectAllData immediately
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Invoking Treatment_CollectorService.collectAllData via ServiceHelper (canonical binding)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION START ===
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Service: org.btsn.places.Treatment_CollectorService.collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SequenceID: 1000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Input arguments count: 1
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Processing argument 1/1, raw length: 33
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: First service - raw token IS original_token
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Initialized workflow start time (first service)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SERVICE INVOKE: Calling org.btsn.places.Treatment_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Reflecting on org.btsn.places.Treatment_CollectorService.collectAllData
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Looking for method with 1 String parameters
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Treatment_CollectorService
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Found standard method (1 String args)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Calling collectAllData with 1 arguments
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SERVICE COMPLETE: org.btsn.places.Treatment_CollectorService.collectAllData completed in 159ms
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Successfully enriched service result with metadata
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION COMPLETE ===
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Service returned: {"monitoredPlace":"TreatmentService","petriNetData":{"firingRecordCount":0,"workflowGroups":{},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Treatment_CollectorService","collectionTime":1770294951930,"performanceData":{"workflowGroups":{"1770294882291":[{"maxQueueCapacity":50,"arrivalTime":1770294906937,"totalTime":5025,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","serviceTime":3191,"queueTime":1834,"bufferSize":0}],"1770294862320":[{"maxQueueCapacity":50,"arrivalTime":1770294895076,"totalTime":3244,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","serviceTime":1809,"queueTime":1435,"bufferSize":0}],"1770294895835":[{"maxQueueCapacity":50,"arrivalTime":1770294920943,"totalTime":1348,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","serviceTime":601,"queueTime":747,"bufferSize":0}],"1770294846817":[{"maxQueueCapacity":50,"arrivalTime":1770294874697,"totalTime":4921,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","serviceTime":3331,"queueTime":1590,"bufferSize":0}],"1770294843035":[{"maxQueueCapacity":50,"arrivalTime":1770294846577,"totalTime":6273,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","serviceTime":4545,"queueTime":1728,"bufferSize":0}],"1770294886216":[{"maxQueueCapacity":50,"arrivalTime":1770294913598,"totalTime":2255,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","serviceTime":1138,"queueTime":1117,"bufferSize":0}],"1770294850248":[{"maxQueueCapacity":50,"arrivalTime":1770294877226,"totalTime":5152,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","serviceTime":2027,"queueTime":3125,"bufferSize":0}],"1770294899817":[{"maxQueueCapacity":50,"arrivalTime":1770294922810,"totalTime":773,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","serviceTime":404,"queueTime":369,"bufferSize":0}],"1770294888252":[{"maxQueueCapacity":50,"arrivalTime":1770294919116,"totalTime":1968,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","serviceTime":1010,"queueTime":958,"bufferSize":0}],"1770294901045":[{"maxQueueCapacity":50,"arrivalTime":1770294924151,"totalTime":1152,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","serviceTime":855,"queueTime":297,"bufferSize":0}],"1770294852714":[{"maxQueueCapacity":50,"arrivalTime":1770294873414,"totalTime":4520,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","serviceTime":3305,"queueTime":1215,"bufferSize":0}],"1770294854269":[{"maxQueueCapacity":50,"arrivalTime":1770294877337,"totalTime":4568,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","serviceTime":2815,"queueTime":1753,"bufferSize":0}],"1770294856500":[{"maxQueueCapacity":50,"arrivalTime":1770294881739,"totalTime":2653,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","serviceTime":714,"queueTime":1939,"bufferSize":0}],"1770294857010":[{"maxQueueCapacity":50,"arrivalTime":1770294883598,"totalTime":2707,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","serviceTime":832,"queueTime":1875,"bufferSize":0}],"1770294842219":[{"maxQueueCapacity":50,"arrivalTime":1770294861894,"totalTime":3488,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","serviceTime":1307,"queueTime":2181,"bufferSize":0}],"1770294843615":[{"maxQueueCapacity":50,"arrivalTime":1770294869097,"totalTime":3898,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","serviceTime":2977,"queueTime":921,"bufferSize":0}],"1770294859020":[{"maxQueueCapacity":50,"arrivalTime":1770294885006,"totalTime":3608,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","serviceTime":1313,"queueTime":2295,"bufferSize":0}]},"markingData":{"1770294882291":[{"publishTime":1770294911962,"maxQueueCapacity":50,"arrivalTime":1770294906937,"invocationTime":1770294908771,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294862320":[{"publishTime":1770294898320,"maxQueueCapacity":50,"arrivalTime":1770294895076,"invocationTime":1770294896511,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294895835":[{"publishTime":1770294922291,"maxQueueCapacity":50,"arrivalTime":1770294920943,"invocationTime":1770294921690,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294846817":[{"publishTime":1770294879618,"maxQueueCapacity":50,"arrivalTime":1770294874697,"invocationTime":1770294876287,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843035":[{"publishTime":1770294852850,"maxQueueCapacity":50,"arrivalTime":1770294846577,"invocationTime":1770294848305,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294886216":[{"publishTime":1770294915853,"maxQueueCapacity":50,"arrivalTime":1770294913598,"invocationTime":1770294914715,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294850248":[{"publishTime":1770294882378,"maxQueueCapacity":50,"arrivalTime":1770294877226,"invocationTime":1770294880351,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294899817":[{"publishTime":1770294923583,"maxQueueCapacity":50,"arrivalTime":1770294922810,"invocationTime":1770294923179,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294888252":[{"publishTime":1770294921084,"maxQueueCapacity":50,"arrivalTime":1770294919116,"invocationTime":1770294920074,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294901045":[{"publishTime":1770294925303,"maxQueueCapacity":50,"arrivalTime":1770294924151,"invocationTime":1770294924448,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294852714":[{"publishTime":1770294877934,"maxQueueCapacity":50,"arrivalTime":1770294873414,"invocationTime":1770294874629,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294854269":[{"publishTime":1770294881905,"maxQueueCapacity":50,"arrivalTime":1770294877337,"invocationTime":1770294879090,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294856500":[{"publishTime":1770294884392,"maxQueueCapacity":50,"arrivalTime":1770294881739,"invocationTime":1770294883678,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294857010":[{"publishTime":1770294886305,"maxQueueCapacity":50,"arrivalTime":1770294883598,"invocationTime":1770294885473,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294842219":[{"publishTime":1770294865382,"maxQueueCapacity":50,"arrivalTime":1770294861894,"invocationTime":1770294864075,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843615":[{"publishTime":1770294872995,"maxQueueCapacity":50,"arrivalTime":1770294869097,"invocationTime":1770294870018,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294859020":[{"publishTime":1770294888614,"maxQueueCapacity":50,"arrivalTime":1770294885006,"invocationTime":1770294887301,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","bufferSize":0}]},"timingRecordCount":17,"markingRecordCount":17},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 1000000 exiting place: Treatment_CollectorService -> MonitorService [arc=$ANON11]
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_out_Treatment_CollectorService token=1000000 eventType=EXIT
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_out_Treatment_CollectorService (EdgeNode) token=1000000 Treatment_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 1000000 EXIT from Treatment_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Querying activeService for MonitorService.writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService query returned 2 rows
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?channelId = ip0
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?port = 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ROUTING: External to MonitorService -> 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ROUTING: Token 1000000 -> 'token' to MonitorService.writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TreatmentService","petriNetData":{"firingRecordCount":0,"workflowGroups":{},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Treatment_CollectorService","collectionTime":1770294951930,"performanceData":{"workflowGroups":{"1770294882291":[{"maxQueueCapacity":50,"arrivalTime":1770294906937,"totalTime":5025,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","serviceTime":3191,"queueTime":1834,"bufferSize":0}],"1770294862320":[{"maxQueueCapacity":50,"arrivalTime":1770294895076,"totalTime":3244,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","serviceTime":1809,"queueTime":1435,"bufferSize":0}],"1770294895835":[{"maxQueueCapacity":50,"arrivalTime":1770294920943,"totalTime":1348,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","serviceTime":601,"queueTime":747,"bufferSize":0}],"1770294846817":[{"maxQueueCapacity":50,"arrivalTime":1770294874697,"totalTime":4921,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","serviceTime":3331,"queueTime":1590,"bufferSize":0}],"1770294843035":[{"maxQueueCapacity":50,"arrivalTime":1770294846577,"totalTime":6273,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","serviceTime":4545,"queueTime":1728,"bufferSize":0}],"1770294886216":[{"maxQueueCapacity":50,"arrivalTime":1770294913598,"totalTime":2255,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","serviceTime":1138,"queueTime":1117,"bufferSize":0}],"1770294850248":[{"maxQueueCapacity":50,"arrivalTime":1770294877226,"totalTime":5152,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","serviceTime":2027,"queueTime":3125,"bufferSize":0}],"1770294899817":[{"maxQueueCapacity":50,"arrivalTime":1770294922810,"totalTime":773,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","serviceTime":404,"queueTime":369,"bufferSize":0}],"1770294888252":[{"maxQueueCapacity":50,"arrivalTime":1770294919116,"totalTime":1968,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","serviceTime":1010,"queueTime":958,"bufferSize":0}],"1770294901045":[{"maxQueueCapacity":50,"arrivalTime":1770294924151,"totalTime":1152,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","serviceTime":855,"queueTime":297,"bufferSize":0}],"1770294852714":[{"maxQueueCapacity":50,"arrivalTime":1770294873414,"totalTime":4520,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","serviceTime":3305,"queueTime":1215,"bufferSize":0}],"1770294854269":[{"maxQueueCapacity":50,"arrivalTime":1770294877337,"totalTime":4568,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","serviceTime":2815,"queueTime":1753,"bufferSize":0}],"1770294856500":[{"maxQueueCapacity":50,"arrivalTime":1770294881739,"totalTime":2653,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","serviceTime":714,"queueTime":1939,"bufferSize":0}],"1770294857010":[{"maxQueueCapacity":50,"arrivalTime":1770294883598,"totalTime":2707,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","serviceTime":832,"queueTime":1875,"bufferSize":0}],"1770294842219":[{"maxQueueCapacity":50,"arrivalTime":1770294861894,"totalTime":3488,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","serviceTime":1307,"queueTime":2181,"bufferSize":0}],"1770294843615":[{"maxQueueCapacity":50,"arrivalTime":1770294869097,"totalTime":3898,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","serviceTime":2977,"queueTime":921,"bufferSize":0}],"1770294859020":[{"maxQueueCapacity":50,"arrivalTime":1770294885006,"totalTime":3608,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","serviceTime":1313,"queueTime":2295,"bufferSize":0}]},"markingData":{"1770294882291":[{"publishTime":1770294911962,"maxQueueCapacity":50,"arrivalTime":1770294906937,"invocationTime":1770294908771,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294862320":[{"publishTime":1770294898320,"maxQueueCapacity":50,"arrivalTime":1770294895076,"invocationTime":1770294896511,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294895835":[{"publishTime":1770294922291,"maxQueueCapacity":50,"arrivalTime":1770294920943,"invocationTime":1770294921690,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294846817":[{"publishTime":1770294879618,"maxQueueCapacity":50,"arrivalTime":1770294874697,"invocationTime":1770294876287,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843035":[{"publishTime":1770294852850,"maxQueueCapacity":50,"arrivalTime":1770294846577,"invocationTime":1770294848305,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294886216":[{"publishTime":1770294915853,"maxQueueCapacity":50,"arrivalTime":1770294913598,"invocationTime":1770294914715,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294850248":[{"publishTime":1770294882378,"maxQueueCapacity":50,"arrivalTime":1770294877226,"invocationTime":1770294880351,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294899817":[{"publishTime":1770294923583,"maxQueueCapacity":50,"arrivalTime":1770294922810,"invocationTime":1770294923179,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294888252":[{"publishTime":1770294921084,"maxQueueCapacity":50,"arrivalTime":1770294919116,"invocationTime":1770294920074,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294901045":[{"publishTime":1770294925303,"maxQueueCapacity":50,"arrivalTime":1770294924151,"invocationTime":1770294924448,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294852714":[{"publishTime":1770294877934,"maxQueueCapacity":50,"arrivalTime":1770294873414,"invocationTime":1770294874629,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294854269":[{"publishTime":1770294881905,"maxQueueCapacity":50,"arrivalTime":1770294877337,"invocationTime":1770294879090,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294856500":[{"publishTime":1770294884392,"maxQueueCapacity":50,"arrivalTime":1770294881739,"invocationTime":1770294883678,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294857010":[{"publishTime":1770294886305,"maxQueueCapacity":50,"arrivalTime":1770294883598,"invocationTime":1770294885473,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294842219":[{"publishTime":1770294865382,"maxQueueCapacity":50,"arrivalTime":1770294861894,"invocationTime":1770294864075,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843615":[{"publishTime":1770294872995,"maxQueueCapacity":50,"arrivalTime":1770294869097,"invocationTime":1770294870018,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294859020":[{"publishTime":1770294888614,"maxQueueCapacity":50,"arrivalTime":1770294885006,"invocationTime":1770294887301,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","bufferSize":0}]},"timingRecordCount":17,"markingRecordCount":17},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - monitorIncomingEvents: false
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Cleaned up join 1000000
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Service Treatment_CollectorService sequence ID: 1000000 complete.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing:: token = {"token":"workflow_2000000_v002"}
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CAPTURE: WorkflowStartTime=1770294952162 for seqID=2000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - Incoming Sequence ID = 2000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - MonitorIncomingEvents+ = false
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - Using RuleBaseVersion: v001
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - FILTER: Event for Treatment_CollectorService.collectAllData accepted by Treatment_CollectorService thread
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.json.jsonLibrary - Key "token" already exists. Skipping.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - JOIN-MAP: Added key=token to join 2000000 (tokenId=2000000, mapSize=1)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Loading rule base for operation: collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Treatment/RuleFolder.v001/collectAllData/Service.ruleml
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Using cached knowledge base for version: v001
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Parsing knowledge base...
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Knowledge base parsed successfully
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for Treatment_CollectorService.collectAllData with attribute 'token'
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 2000000 buffered at T_in_Treatment_CollectorService (buffer=0)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_Treatment_CollectorService token=2000000 eventType=BUFFERED
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_Treatment_CollectorService (EdgeNode) token=2000000  -> Treatment_CollectorService [BUFFERED] buffer=0
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 2000000 BUFFERED at Treatment_CollectorService (T_in arrival)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 2000000 entering place: Treatment_CollectorService (buffer=0)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Could not extract previousPlace from payload
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_in_Treatment_CollectorService token=2000000 eventType=ENTER
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_in_Treatment_CollectorService (EdgeNode) token=2000000  -> Treatment_CollectorService [ENTER] buffer=0
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 2000000 ENTER at Treatment_CollectorService
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: About to check inputCollection.isEmpty() - size: 1
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: inputCollection contents: [null]
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: nodeType: EdgeNode
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: needsInputSynchronization: false
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Past inputCollection check, about to enter JOIN processing
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: inputCollection.get(0): null
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Zero-input service Treatment_CollectorService:collectAllData executing with trigger token (no workflow data required)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Processing EdgeNode for Treatment_CollectorService.collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Processing EdgeNode/MergeNode for Treatment_CollectorService.collectAllData
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Checking canonical binding for Treatment_CollectorService.collectAllData with attribute 'token'
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Found single-input canonical binding - calling Treatment_CollectorService.collectAllData immediately
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Invoking Treatment_CollectorService.collectAllData via ServiceHelper (canonical binding)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION START ===
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Service: org.btsn.places.Treatment_CollectorService.collectAllData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SequenceID: 2000000
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Input arguments count: 1
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - Processing argument 1/1, raw length: 33
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: First service - raw token IS original_token
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Initialized workflow start time (first service)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SERVICE INVOKE: Calling org.btsn.places.Treatment_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Reflecting on org.btsn.places.Treatment_CollectorService.collectAllData
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Looking for method with 1 String parameters
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Treatment_CollectorService
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Found standard method (1 String args)
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - INVOKE: Calling collectAllData with 1 arguments
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - SERVICE COMPLETE: org.btsn.places.Treatment_CollectorService.collectAllData completed in 99ms
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - ENRICHMENT: Successfully enriched service result with metadata
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceHelper - === SERVICE INVOCATION COMPLETE ===
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.TransitionHandler - ORCHESTRATOR: Service returned: {"monitoredPlace":"TreatmentService","petriNetData":{"firingRecordCount":0,"workflowGroups":{},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Treatment_CollectorService","collectionTime":1770294952761,"performanceData":{"workflowGroups":{"1770294882291":[{"maxQueueCapacity":50,"arrivalTime":1770294906937,"totalTime":5025,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","serviceTime":3191,"queueTime":1834,"bufferSize":0}],"1770294862320":[{"maxQueueCapacity":50,"arrivalTime":1770294895076,"totalTime":3244,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","serviceTime":1809,"queueTime":1435,"bufferSize":0}],"1770294895835":[{"maxQueueCapacity":50,"arrivalTime":1770294920943,"totalTime":1348,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","serviceTime":601,"queueTime":747,"bufferSize":0}],"1770294846817":[{"maxQueueCapacity":50,"arrivalTime":1770294874697,"totalTime":4921,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","serviceTime":3331,"queueTime":1590,"bufferSize":0}],"1770294843035":[{"maxQueueCapacity":50,"arrivalTime":1770294846577,"totalTime":6273,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","serviceTime":4545,"queueTime":1728,"bufferSize":0}],"1770294886216":[{"maxQueueCapacity":50,"arrivalTime":1770294913598,"totalTime":2255,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","serviceTime":1138,"queueTime":1117,"bufferSize":0}],"1770294850248":[{"maxQueueCapacity":50,"arrivalTime":1770294877226,"totalTime":5152,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","serviceTime":2027,"queueTime":3125,"bufferSize":0}],"1770294899817":[{"maxQueueCapacity":50,"arrivalTime":1770294922810,"totalTime":773,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","serviceTime":404,"queueTime":369,"bufferSize":0}],"1770294888252":[{"maxQueueCapacity":50,"arrivalTime":1770294919116,"totalTime":1968,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","serviceTime":1010,"queueTime":958,"bufferSize":0}],"1770294901045":[{"maxQueueCapacity":50,"arrivalTime":1770294924151,"totalTime":1152,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","serviceTime":855,"queueTime":297,"bufferSize":0}],"1770294852714":[{"maxQueueCapacity":50,"arrivalTime":1770294873414,"totalTime":4520,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","serviceTime":3305,"queueTime":1215,"bufferSize":0}],"1770294854269":[{"maxQueueCapacity":50,"arrivalTime":1770294877337,"totalTime":4568,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","serviceTime":2815,"queueTime":1753,"bufferSize":0}],"1770294856500":[{"maxQueueCapacity":50,"arrivalTime":1770294881739,"totalTime":2653,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","serviceTime":714,"queueTime":1939,"bufferSize":0}],"1770294857010":[{"maxQueueCapacity":50,"arrivalTime":1770294883598,"totalTime":2707,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","serviceTime":832,"queueTime":1875,"bufferSize":0}],"1770294842219":[{"maxQueueCapacity":50,"arrivalTime":1770294861894,"totalTime":3488,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","serviceTime":1307,"queueTime":2181,"bufferSize":0}],"1770294843615":[{"maxQueueCapacity":50,"arrivalTime":1770294869097,"totalTime":3898,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","serviceTime":2977,"queueTime":921,"bufferSize":0}],"1770294859020":[{"maxQueueCapacity":50,"arrivalTime":1770294885006,"totalTime":3608,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","serviceTime":1313,"queueTime":2295,"bufferSize":0}]},"markingData":{"1770294882291":[{"publishTime":1770294911962,"maxQueueCapacity":50,"arrivalTime":1770294906937,"invocationTime":1770294908771,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294862320":[{"publishTime":1770294898320,"maxQueueCapacity":50,"arrivalTime":1770294895076,"invocationTime":1770294896511,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294895835":[{"publishTime":1770294922291,"maxQueueCapacity":50,"arrivalTime":1770294920943,"invocationTime":1770294921690,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294846817":[{"publishTime":1770294879618,"maxQueueCapacity":50,"arrivalTime":1770294874697,"invocationTime":1770294876287,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843035":[{"publishTime":1770294852850,"maxQueueCapacity":50,"arrivalTime":1770294846577,"invocationTime":1770294848305,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294886216":[{"publishTime":1770294915853,"maxQueueCapacity":50,"arrivalTime":1770294913598,"invocationTime":1770294914715,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294850248":[{"publishTime":1770294882378,"maxQueueCapacity":50,"arrivalTime":1770294877226,"invocationTime":1770294880351,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294899817":[{"publishTime":1770294923583,"maxQueueCapacity":50,"arrivalTime":1770294922810,"invocationTime":1770294923179,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294888252":[{"publishTime":1770294921084,"maxQueueCapacity":50,"arrivalTime":1770294919116,"invocationTime":1770294920074,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294901045":[{"publishTime":1770294925303,"maxQueueCapacity":50,"arrivalTime":1770294924151,"invocationTime":1770294924448,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294852714":[{"publishTime":1770294877934,"maxQueueCapacity":50,"arrivalTime":1770294873414,"invocationTime":1770294874629,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294854269":[{"publishTime":1770294881905,"maxQueueCapacity":50,"arrivalTime":1770294877337,"invocationTime":1770294879090,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294856500":[{"publishTime":1770294884392,"maxQueueCapacity":50,"arrivalTime":1770294881739,"invocationTime":1770294883678,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294857010":[{"publishTime":1770294886305,"maxQueueCapacity":50,"arrivalTime":1770294883598,"invocationTime":1770294885473,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294842219":[{"publishTime":1770294865382,"maxQueueCapacity":50,"arrivalTime":1770294861894,"invocationTime":1770294864075,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843615":[{"publishTime":1770294872995,"maxQueueCapacity":50,"arrivalTime":1770294869097,"invocationTime":1770294870018,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294859020":[{"publishTime":1770294888614,"maxQueueCapacity":50,"arrivalTime":1770294885006,"invocationTime":1770294887301,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","bufferSize":0}]},"timingRecordCount":17,"markingRecordCount":17},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Token 2000000 exiting place: Treatment_CollectorService -> MonitorService [arc=$ANON11]
WARN ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - NAMING CONVENTION VIOLATION: Service 'Treatment_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.derby.Analysis.BuildServiceAnalysisDatabase - Wrote transition firing: T_out_Treatment_CollectorService token=2000000 eventType=EXIT
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.PetriNetInstrumentationHelper - Recorded transition: T_out_Treatment_CollectorService (EdgeNode) token=2000000 Treatment_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - PETRI-NET: Token 2000000 EXIT from Treatment_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: Querying activeService for MonitorService.writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService query returned 2 rows
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?channelId = ip0
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - DEBUG: ActiveService result - ?port = 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ROUTING: External to MonitorService -> 'token'
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ROUTING: Token 2000000 -> 'token' to MonitorService.writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
INFO ServiceThread-Treatment_CollectorService-12205 org.btsn.handlers.ServiceThread - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TreatmentService","petriNetData":{"firingRecordCount":0,"workflowGroups":{},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Treatment_CollectorService","collectionTime":1770294952761,"performanceData":{"workflowGroups":{"1770294882291":[{"maxQueueCapacity":50,"arrivalTime":1770294906937,"totalTime":5025,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","serviceTime":3191,"queueTime":1834,"bufferSize":0}],"1770294862320":[{"maxQueueCapacity":50,"arrivalTime":1770294895076,"totalTime":3244,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","serviceTime":1809,"queueTime":1435,"bufferSize":0}],"1770294895835":[{"maxQueueCapacity":50,"arrivalTime":1770294920943,"totalTime":1348,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","serviceTime":601,"queueTime":747,"bufferSize":0}],"1770294846817":[{"maxQueueCapacity":50,"arrivalTime":1770294874697,"totalTime":4921,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","serviceTime":3331,"queueTime":1590,"bufferSize":0}],"1770294843035":[{"maxQueueCapacity":50,"arrivalTime":1770294846577,"totalTime":6273,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","serviceTime":4545,"queueTime":1728,"bufferSize":0}],"1770294886216":[{"maxQueueCapacity":50,"arrivalTime":1770294913598,"totalTime":2255,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","serviceTime":1138,"queueTime":1117,"bufferSize":0}],"1770294850248":[{"maxQueueCapacity":50,"arrivalTime":1770294877226,"totalTime":5152,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","serviceTime":2027,"queueTime":3125,"bufferSize":0}],"1770294899817":[{"maxQueueCapacity":50,"arrivalTime":1770294922810,"totalTime":773,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","serviceTime":404,"queueTime":369,"bufferSize":0}],"1770294888252":[{"maxQueueCapacity":50,"arrivalTime":1770294919116,"totalTime":1968,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","serviceTime":1010,"queueTime":958,"bufferSize":0}],"1770294901045":[{"maxQueueCapacity":50,"arrivalTime":1770294924151,"totalTime":1152,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","serviceTime":855,"queueTime":297,"bufferSize":0}],"1770294852714":[{"maxQueueCapacity":50,"arrivalTime":1770294873414,"totalTime":4520,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","serviceTime":3305,"queueTime":1215,"bufferSize":0}],"1770294854269":[{"maxQueueCapacity":50,"arrivalTime":1770294877337,"totalTime":4568,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","serviceTime":2815,"queueTime":1753,"bufferSize":0}],"1770294856500":[{"maxQueueCapacity":50,"arrivalTime":1770294881739,"totalTime":2653,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","serviceTime":714,"queueTime":1939,"bufferSize":0}],"1770294857010":[{"maxQueueCapacity":50,"arrivalTime":1770294883598,"totalTime":2707,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","serviceTime":832,"queueTime":1875,"bufferSize":0}],"1770294842219":[{"maxQueueCapacity":50,"arrivalTime":1770294861894,"totalTime":3488,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","serviceTime":1307,"queueTime":2181,"bufferSize":0}],"1770294843615":[{"maxQueueCapacity":50,"arrivalTime":1770294869097,"totalTime":3898,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","serviceTime":2977,"queueTime":921,"bufferSize":0}],"1770294859020":[{"maxQueueCapacity":50,"arrivalTime":1770294885006,"totalTime":3608,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","serviceTime":1313,"queueTime":2295,"bufferSize":0}]},"markingData":{"1770294882291":[{"publishTime":1770294911962,"maxQueueCapacity":50,"arrivalTime":1770294906937,"invocationTime":1770294908771,"workflowStartTime":1770294882291,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3130001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294862320":[{"publishTime":1770294898320,"maxQueueCapacity":50,"arrivalTime":1770294895076,"invocationTime":1770294896511,"workflowStartTime":1770294862320,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3110001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294895835":[{"publishTime":1770294922291,"maxQueueCapacity":50,"arrivalTime":1770294920943,"invocationTime":1770294921690,"workflowStartTime":1770294895835,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3170001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294846817":[{"publishTime":1770294879618,"maxQueueCapacity":50,"arrivalTime":1770294874697,"invocationTime":1770294876287,"workflowStartTime":1770294846817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3040001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843035":[{"publishTime":1770294852850,"maxQueueCapacity":50,"arrivalTime":1770294846577,"invocationTime":1770294848305,"workflowStartTime":1770294843035,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3020000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294886216":[{"publishTime":1770294915853,"maxQueueCapacity":50,"arrivalTime":1770294913598,"invocationTime":1770294914715,"workflowStartTime":1770294886216,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3140001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294850248":[{"publishTime":1770294882378,"maxQueueCapacity":50,"arrivalTime":1770294877226,"invocationTime":1770294880351,"workflowStartTime":1770294850248,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3050001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294899817":[{"publishTime":1770294923583,"maxQueueCapacity":50,"arrivalTime":1770294922810,"invocationTime":1770294923179,"workflowStartTime":1770294899817,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3180001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294888252":[{"publishTime":1770294921084,"maxQueueCapacity":50,"arrivalTime":1770294919116,"invocationTime":1770294920074,"workflowStartTime":1770294888252,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3160001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294901045":[{"publishTime":1770294925303,"maxQueueCapacity":50,"arrivalTime":1770294924151,"invocationTime":1770294924448,"workflowStartTime":1770294901045,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3190001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294852714":[{"publishTime":1770294877934,"maxQueueCapacity":50,"arrivalTime":1770294873414,"invocationTime":1770294874629,"workflowStartTime":1770294852714,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3060000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294854269":[{"publishTime":1770294881905,"maxQueueCapacity":50,"arrivalTime":1770294877337,"invocationTime":1770294879090,"workflowStartTime":1770294854269,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3070000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294856500":[{"publishTime":1770294884392,"maxQueueCapacity":50,"arrivalTime":1770294881739,"invocationTime":1770294883678,"workflowStartTime":1770294856500,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3080000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294857010":[{"publishTime":1770294886305,"maxQueueCapacity":50,"arrivalTime":1770294883598,"invocationTime":1770294885473,"workflowStartTime":1770294857010,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3090000,"operation":"executeDirectTreatment","bufferSize":0}],"1770294842219":[{"publishTime":1770294865382,"maxQueueCapacity":50,"arrivalTime":1770294861894,"invocationTime":1770294864075,"workflowStartTime":1770294842219,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3010001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294843615":[{"publishTime":1770294872995,"maxQueueCapacity":50,"arrivalTime":1770294869097,"invocationTime":1770294870018,"workflowStartTime":1770294843615,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3030001,"operation":"executeTreatmentPlan","bufferSize":0}],"1770294859020":[{"publishTime":1770294888614,"maxQueueCapacity":50,"arrivalTime":1770294885006,"invocationTime":1770294887301,"workflowStartTime":1770294859020,"totalMarking":1,"serviceName":"TreatmentService","sequenceId":3100000,"operation":"executeDirectTreatment","bufferSize":0}]},"timingRecordCount":17,"markingRecordCount":17},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
