 INFO [main] (ServiceLoader.java:451) - === Starting Rule-Driven ServiceLoader ===
 INFO [main] (ServiceLoader.java:253) - === ServiceLoader Configuration ===
 INFO [main] (ServiceLoader.java:254) -   Version: v003
 INFO [main] (ServiceLoader.java:258) -   Service Filter: NONE (loading ALL services)
 INFO [main] (ServiceLoader.java:456) - Using build version: v003
 INFO [main] (ServiceLoader.java:116) - Created shutdown control file: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\all_services_v003.running
 INFO [main] (ServiceLoader.java:117) - DELETE this file to trigger graceful shutdown
 WARN [main] (ServiceLoader.java:185) - Could not start shutdown listener: Address already in use: bind
BUILDRULE BASE - Build Version v003
BuildRuleBase: Detected service context, writing to LOCAL: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/
BuildRuleBase: Searching for rule files in: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase
 INFO [main] (ServiceLoader.java:478) - === Building rule base with version v003 ===
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase:
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  - C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
All files have been concatenated into Service.ruleml at: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:482) - Registered version v003 as valid
 INFO [main] (ServiceLoader.java:485) - === Checking for remote deployment mode ===
 INFO [main] (ServiceLoader.java:296) - === Auto-detecting deployment mode from facts ===
 INFO [main] (ServiceLoader.java:302) - This machine's primary IP: 192.168.1.152
 INFO [main] (ServiceLoader.java:320) - All IPs for this machine: [fe80:0:0:0:0:100:7f:fffe%net5, fe80:0:0:0:0:5efe:c0a8:198%net9, fe80:0:0:0:4478:23a2:44e3:e737%eth5, 0:0:0:0:0:0:0:1, 192.168.1.152, 127.0.0.1]
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:357) - *** FOUND: Channel ip0 maps to this machine at 192.168.1.152 ***
 INFO [main] (ServiceLoader.java:364) - Checking for services using channel: ip0
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:374) - Found 3 activeService entries using ip0
 INFO [main] (ServiceLoader.java:385) - Found 3 activeService entries using ip0
 INFO [main] (ServiceLoader.java:420) - *** REMOTE MODE AUTO-ENABLED ***
 INFO [main] (ServiceLoader.java:421) - *** This host (192.168.1.152) is configured for remote services ***
 INFO [main] (ServiceLoader.java:422) - *** Channel ip0 maps to this machine ***
DEBUG [main] (ServiceLoader.java:495) - ServiceLoader: Looking in directory: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/ServiceLoaderQueries for rulebase
 INFO [main] (ServiceLoader.java:515) - LOADING service: TriageService
Loading services C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\TriageService-LoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: TriageService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:561) - Found operation: TriageService.processTriageAssessment on ip0:2100
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up TriageService.processTriageAssessment -> EventReactor:12100, RuleHandler:22100
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for TriageService.processTriageAssessment
 INFO [main] (ServiceLoader.java:515) - LOADING service: Triage_CollectorService
Loading services C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\Triage_CollectorServiceLoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: Triage_CollectorService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [RuleHandler-TriageService-processTriageAssessment] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: TriageService, operation: processTriageAssessment, channel: ip0, port: 22100, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22100 listening on ALL INTERFACES (remote mode)
Rule Handler is listening on UDP port: 22100 (mode: REMOTE)
 INFO [RuleHandler-TriageService-processTriageAssessment] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for TriageService:processTriageAssessment listening on port 22100
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for TriageService:processTriageAssessment on port: 12100
 INFO [main] (ServiceLoader.java:561) - Found operation: Triage_CollectorService.collectAllData on ip0:2200
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up Triage_CollectorService.collectAllData -> EventReactor:12200, RuleHandler:22200
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for Triage_CollectorService.collectAllData
 INFO [main] (ServiceLoader.java:515) - LOADING service: Triage_InitializationService
Loading services C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\Triage_InitializationServiceLoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: Triage_InitializationService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [RuleHandler-Triage_CollectorService-collectAllData] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: Triage_CollectorService, operation: collectAllData, channel: ip0, port: 22200, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22200 listening on ALL INTERFACES (remote mode)
Rule Handler is listening on UDP port: 22200 (mode: REMOTE)
 INFO [RuleHandler-Triage_CollectorService-collectAllData] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for Triage_CollectorService:collectAllData listening on port 22200
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for Triage_CollectorService:collectAllData on port: 12200
 INFO [main] (ServiceLoader.java:561) - Found operation: Triage_InitializationService.purgeAndInitialize on ip0:2300
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up Triage_InitializationService.purgeAndInitialize -> EventReactor:12300, RuleHandler:22300
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for Triage_InitializationService.purgeAndInitialize
 INFO [main] (ServiceLoader.java:618) - === ServiceLoader Startup Complete ===
 INFO [main] (ServiceLoader.java:619) - Version: v003
 INFO [main] (ServiceLoader.java:620) - Mode: REMOTE on 192.168.1.152
 INFO [main] (ServiceLoader.java:621) - Services loaded: 3
 INFO [main] (ServiceLoader.java:622) - Services skipped: 0
 INFO [main] (ServiceLoader.java:631) - === Shutdown Options ===
 INFO [main] (ServiceLoader.java:632) -   1. Delete file: all_services_v003.running
 INFO [main] (ServiceLoader.java:633) -   2. Send 'SHUTDOWN' to UDP port: 39003
 INFO [main] (ServiceLoader.java:634) -   3. Kill the process
 INFO [RuleHandler-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: Triage_InitializationService, operation: purgeAndInitialize, channel: ip0, port: 22300, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22300 listening on ALL INTERFACES (remote mode)
Rule Handler is listening on UDP port: 22300 (mode: REMOTE)
 INFO [RuleHandler-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for Triage_InitializationService:purgeAndInitialize listening on port 22300
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for Triage_InitializationService:purgeAndInitialize on port: 12300
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
ServiceThread: Derived SERVICE_PACKAGE from own package: org.btsn.places
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-5
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-6
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-7
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-8
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-9
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-10
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: Triage_InitializationService:purgeAndInitialize
Channel: ip0, Port: 12300
 INFO [ServiceThread-TriageService-processTriageAssessment] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: TriageService:processTriageAssessment
Channel: ip0, Port: 12100
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: Triage_CollectorService:collectAllData
Channel: ip0, Port: 12200
 INFO [ServiceThread-TriageService-processTriageAssessment] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12100
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12200
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12100
Service Handler is listening on UDP port: 12100 (ALL INTERFACES, remote mode, compression enabled)
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12100
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12200
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12300
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
Service Handler is listening on UDP port: 12200 (ALL INTERFACES, remote mode, compression enabled)
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-12
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-14
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-15
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-16
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-17
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-18
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-19
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-20
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-21
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-22
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-23
Jan 29, 2026 10:28:53 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-24
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12300
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12200
Service Handler is listening on UDP port: 12300 (ALL INTERFACES, remote mode, compression enabled)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12300
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
Rule Handler received from 192.168.1.152:64907 - payload length: 673
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_InitializationService</serviceName>
		<operationName>purgeAndInitialize</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>TerminateNode</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Received rule payload packet.....for operation: purgeAndInitialize<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_InitializationService</serviceName>
		<operationName>purgeAndInitialize</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>TerminateNode</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_86\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_InitializationService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_InitializationService-CanonicalBindings.ruleml.xml
Processing control Node file.... Triage_InitializationService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35003
Converted XML to simple format: CONFIRMED:v003:4
Sent commitment response: CONFIRMED:v003:4 to 192.168.1.152:35003
Sent acknowledgment to 192.168.1.152
Scheduler returned pArgs: [100000984, 100000]
pArgs.get(0): 100000984
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 100000984
sid: 100000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 100000984 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = "init triage"
Maximum Buffer size seen is = 1
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689747297 for seqID=100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:531) - Incoming Sequence ID = 100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:563) - FILTER: Event for Triage_InitializationService.purgeAndInitialize accepted by Triage_InitializationService thread
 WARN [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 100000 (tokenId=100000, mapSize=1)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13340
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_InitializationService.purgeAndInitialize with attribute 'token'
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation purgeAndInitialize uses standard (AND) semantics
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2399) - CANONICAL-BINDING: purgeAndInitialize requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2409) - CANONICAL-BINDING: purgeAndInitialize needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2508) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:652) - DEBUG: Skipping getNextService for TerminateNode
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:354) - Token 100000 buffered at T_in_Triage_InitializationService (buffer=0)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_InitializationService token=100000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_InitializationService (TerminateNode) token=100000  -> Triage_InitializationService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3095) - PETRI-NET: Token 100000 BUFFERED at Triage_InitializationService (T_in arrival)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:137) - Token 100000 entering place: Triage_InitializationService (buffer=0)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_InitializationService token=100000 eventType=ENTER
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_InitializationService (TerminateNode) token=100000  -> Triage_InitializationService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3101) - PETRI-NET: Token 100000 ENTER at Triage_InitializationService
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:673) - DEBUG: nodeType: TerminateNode
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service Triage_InitializationService:purgeAndInitialize executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1239) - ORCHESTRATOR: Processing TerminateNode for Triage_InitializationService.purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:834) - ORCHESTRATOR: Invoking Triage_InitializationService.purgeAndInitialize via ServiceHelper
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_InitializationService.purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:127) - SequenceID: 100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 13
ERROR [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:62) - Error parsing JSON string: "init triage"
java.lang.ClassCastException: class java.lang.String cannot be cast to class org.json.simple.JSONObject (java.lang.String is in module java.base of loader 'bootstrap'; org.json.simple.JSONObject is in unnamed module of loader 'app')
	at org.btsn.json.jsonLibrary.parseString(jsonLibrary.java:60)
	at org.btsn.handlers.ServiceHelper.extractMetadata(ServiceHelper.java:241)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:144)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:223)
	at org.btsn.handlers.TransitionHandler.processTerminateType(TransitionHandler.java:842)
	at org.btsn.handlers.ServiceThread.processControlNode(ServiceThread.java:1249)
	at org.btsn.handlers.ServiceThread.parsePayLoad(ServiceThread.java:715)
	at org.btsn.handlers.ServiceThread.run(ServiceThread.java:477)
	at java.base/java.lang.Thread.run(Thread.java:832)
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:243) - ENRICHMENT: Failed to parse token, creating empty metadata
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
ERROR [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:62) - Error parsing JSON string: "init triage"
java.lang.ClassCastException: class java.lang.String cannot be cast to class org.json.simple.JSONObject (java.lang.String is in module java.base of loader 'bootstrap'; org.json.simple.JSONObject is in unnamed module of loader 'app')
	at org.btsn.json.jsonLibrary.parseString(jsonLibrary.java:60)
	at org.btsn.handlers.ServiceHelper.extractBusinessData(ServiceHelper.java:328)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:161)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:223)
	at org.btsn.handlers.TransitionHandler.processTerminateType(TransitionHandler.java:842)
	at org.btsn.handlers.ServiceThread.processControlNode(ServiceThread.java:1249)
	at org.btsn.handlers.ServiceThread.parsePayLoad(ServiceThread.java:715)
	at org.btsn.handlers.ServiceThread.run(ServiceThread.java:477)
	at java.base/java.lang.Thread.run(Thread.java:832)
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:330) - ENRICHMENT: Failed to parse token, returning as-is
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 13 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_InitializationService.purgeAndInitialize with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_InitializationService.purgeAndInitialize
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.Triage_InitializationService
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:590) - INVOKE: Calling purgeAndInitialize with 1 arguments

=== TRIAGESERVICE DATABASE PURGE & INITIALIZE (WITH VERIFICATION) ===
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1220) - Discovered 12 tables to purge
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_MARKING_EVOLUTION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_PLACE_STATISTICS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TOKEN_GENEALOGY
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TOKEN_PATHS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TRANSITION_FIRINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: JOIN_SYNCHRONIZATION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: MARKINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: PROCESSMEASUREMENTS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: SERVICECONTRIBUTION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: SERVICEMEASUREMENTS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: TOKEN_GENEALOGY
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: TRANSITION_FIRINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1233) - Total tables purged: 12
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:406) - Connected to Derby database: ServiceAnalysisDataBase
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:430) - Creating core measurement tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table SERVICEMEASUREMENTS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table PROCESSMEASUREMENTS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table SERVICECONTRIBUTION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table MARKINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:498) - Core measurement tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:506) - Creating consolidated Petri Net tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TRANSITION_FIRINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TOKEN_PATHS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_MARKING_EVOLUTION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_PLACE_STATISTICS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TOKEN_GENEALOGY already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:590) - Consolidated Petri Net tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:598) - Creating local Petri Net analysis tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table TRANSITION_FIRINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table TOKEN_GENEALOGY already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table JOIN_SYNCHRONIZATION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:646) - Local Petri Net tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:417) - Database initialization complete - 13 tables (4 core + 5 consolidated PN + 3 local PN + 1 event) created/verified
 WARN [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1550) - Could not get count for EVENTRESPONSETABLE: Table/View 'EVENTRESPONSETABLE' does not exist.
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1555) - Retrieved measurement statistics: {CONSOLIDATED_MARKING_EVOLUTION_Count=0, CONSOLIDATED_PLACE_STATISTICS_Count=0, CONSOLIDATED_TOKEN_GENEALOGY_Count=0, CONSOLIDATED_TOKEN_PATHS_Count=0, CONSOLIDATED_TRANSITION_FIRINGS_Count=0, EVENTRESPONSETABLE_Count=-1, JOIN_SYNCHRONIZATION_Count=0, MARKINGS_Count=0, PROCESSMEASUREMENTS_Count=0, SERVICECONTRIBUTION_Count=0, SERVICEMEASUREMENTS_Count=0, TOKEN_GENEALOGY_Count=0, TRANSITION_FIRINGS_Count=0}
 WARN [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1550) - Could not get count for EVENTRESPONSETABLE: Table/View 'EVENTRESPONSETABLE' does not exist.
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1555) - Retrieved measurement statistics: {CONSOLIDATED_MARKING_EVOLUTION_Count=0, CONSOLIDATED_PLACE_STATISTICS_Count=0, CONSOLIDATED_TOKEN_GENEALOGY_Count=0, CONSOLIDATED_TOKEN_PATHS_Count=0, CONSOLIDATED_TRANSITION_FIRINGS_Count=0, EVENTRESPONSETABLE_Count=-1, JOIN_SYNCHRONIZATION_Count=0, MARKINGS_Count=0, PROCESSMEASUREMENTS_Count=0, SERVICECONTRIBUTION_Count=0, SERVICEMEASUREMENTS_Count=0, TOKEN_GENEALOGY_Count=0, TRANSITION_FIRINGS_Count=0}
[SUCCESS] TriageService purged and verified on attempt 1
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_InitializationService.purgeAndInitialize completed in 798ms
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:376) - ENRICHMENT: Output attribute 'results' not found in service result, cannot enrich
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:848) - ORCHESTRATOR: Service returned: {"duration_ms":784,"tables_purged":12,"service":"TriageService_InitializationService","action":"purge_and_initialize","status":"success","attempts":1,"statistics":{"CONSOLIDATED_TOKEN_PATHS_Count":0,"SERVICECONTRIBUTION_Count":0,"CONSOLIDATED_TRANSITION_FIRINGS_Count":0,"CONSOLIDATED_MARKING_EVOLUTION_Count":0,"EVENTRESPONSETABLE_Count":-1,"CONSOLIDATED_TOKEN_GENEALOGY_Count":0,"TOKEN_GENEALOGY_Count":0,"MARKINGS_Count":0,"SERVICEMEASUREMENTS_Count":0,"CONSOLIDATED_PLACE_STATISTICS_Count":0,"PROCESSMEASUREMENTS_Count":0,"TRANSITION_FIRINGS_Count":0,"JOIN_SYNCHRONIZATION_Count":0}}
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:592) - Token 100000 exiting place: Triage_InitializationService -> TERMINATE
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_InitializationService token=100000 eventType=TERMINATE
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_InitializationService (TerminateNode) token=100000 Triage_InitializationService -> TERMINATE [TERMINATE]
 INFO [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:626) - Token 100000 terminating at T_out_Triage_InitializationService
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3205) - PETRI-NET: Token 100000 TERMINATED at Triage_InitializationService
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:853) - ORCHESTRATOR: Token 100000 terminated after Triage_InitializationService.purgeAndInitialize
DEBUG [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:859) - Processing Terminate Type complete.
ERROR [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1291) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 100000
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:718) - ORCHESTRATOR: Service Triage_InitializationService sequence ID: 100000 complete.
Received rule payload packet.....for operation: processTriageAssessment<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>5</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>LaboratoryService</Ind><Ind>processLabRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>CardiologyService</Ind><Ind>processCardiacAssessment</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>RadiologyService</Ind><Ind>processImagingRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>TreatmentService</Ind><Ind>executeDirectTreatment</Ind><Ind>GATEWAY_NODE</Ind><Ind>DIRECT_TO_TREATMENT</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_86\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
Processing control Node file.... TriageService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35003
Converted XML to simple format: CONFIRMED:v003:5
Sent commitment response: CONFIRMED:v003:5 to 192.168.1.152:35003
Sent acknowledgment to 192.168.1.152
Rule Handler received from 192.168.1.152:64934 - payload length: 1311
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>5</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>LaboratoryService</Ind><Ind>processLabRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>CardiologyService</Ind><Ind>processCardiacAssessment</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>RadiologyService</Ind><Ind>processImagingRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>TreatmentService</Ind><Ind>executeDirectTreatment</Ind><Ind>GATEWAY_NODE</Ind><Ind>DIRECT_TO_TREATMENT</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Received rule payload packet.....for operation: processTriageAssessment<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v002</ruleBaseVersion>
		<ruleBaseCommitment>2</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>acknowledgeTokenArrival</Ind><Ind>GATEWAY_NODE</Ind><Ind>Network</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_86\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
Processing control Node file.... TriageService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35002
Converted XML to simple format: CONFIRMED:v002:2
Sent commitment response: CONFIRMED:v002:2 to 192.168.1.152:35002
Sent acknowledgment to 192.168.1.152
Rule Handler received from 192.168.1.152:64944 - payload length: 853
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v002</ruleBaseVersion>
		<ruleBaseCommitment>2</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>acknowledgeTokenArrival</Ind><Ind>GATEWAY_NODE</Ind><Ind>Network</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Scheduler returned pArgs: [3000000724, 3000000]
pArgs.get(0): 3000000724
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3000000724
sid: 3000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3000000724 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689891663,"tokenId":"3000000","data":{"condition":"chest pain","patientId":"P_Triage_3000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689771663,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689771666 for seqID=3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3000000 (tokenId=3000000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
Maximum Buffer size seen is = 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2508) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3000000 buffered at T_in_TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3000000 from PATIENT_ARRIVAL at 1769689771666 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3000000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3000000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3000000  -> TriageService [BUFFERED] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3000000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3000000 entering place: TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3000000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3000000  -> TriageService [ENTER] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3000000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
Scheduler returned pArgs: [3010000073, 3010000]
pArgs.get(0): 3010000073
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3010000073
sid: 3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689771663
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3010000073 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
=== TRIAGE SERVICE INITIALIZING ===
Pure Business Logic - No Infrastructure Concerns
Clinical-based routing decisions enabled
=== TRIAGE SERVICE READY ===
[TRIAGE_PLACE_3000000] Database initialized
[TRIAGE_PLACE_3000000] No database setup needed - service ready
[TRIAGE_PLACE_3000000] TriageService initialized for sequence: 3000000
[TRIAGE_PLACE_3000000] TriageService instance created - nurse: RN_TRIAGE_441
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3000000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3000000] Received clean business data length: 271
[TRIAGE_PLACE_3000000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3000000] Processing assessment for sequence 3000000 with data: {"notAfter":1769689891663,"tokenId":"3000000","data":{"condition":"chest pain","patientId":"P_Triage_3000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689771663,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3000000] Preserved workflow_start_time: 1769689771663
[TRIAGE_PLACE_3000000] Parsed token: id=3000000, version=v003, place=TriageService
[TRIAGE_PLACE_3000000] Extracted: Patient=P_Triage_3000000, Indication=chest pain
[TRIAGE_PLACE_3000000] Processing specific triage assessment
[TRIAGE_PLACE_3000000] Patient condition: chest pain
[TRIAGE_PLACE_3000000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3000000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3000000] Condition: chest pain
[TRIAGE_PLACE_3000000] Priority: URGENT
[TRIAGE_PLACE_3000000] Pain Score: 9/10
[TRIAGE_PLACE_3000000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3000000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3000000] Processing Time: 17ms
[TRIAGE_PLACE_3000000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3000000] Assessment completed successfully
[TRIAGE_PLACE_3000000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 380ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3000000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1769689891663,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:32","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689771663,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689772087,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":380,"original_token":"{\"notAfter\":1769689891663,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689771663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689772467,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3000000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3000000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3000000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000001 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3000000 -> child 3000001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3000001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3000001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3000001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1769689891663,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:32","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689771663,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689772087,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":380,"original_token":"{\"notAfter\":1769689891663,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689771663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689772467,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:29:32 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689772708_989 to 192.168.1.152:2105
Jan 29, 2026 10:29:32 PM org.btsn.handlers.EventPublisher publishDirectly
INFO: EventPublisher: Created shared socket on port 64951
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3000000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000002 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3000000 -> child 3000002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3000002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3000002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Jan 29, 2026 10:29:32 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689772871_203 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3000002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1769689891663,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:32","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689771663,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689772087,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":380,"original_token":"{\"notAfter\":1769689891663,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689771663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689772467,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3000000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Scheduler returned pArgs: [3020000943, 3020000]
pArgs.get(0): 3020000943
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3020000943
sid: 3020000
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000003 eventType=FORK
Maximum Buffer size seen is = 2
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000003 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3000000 -> child 3000003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3020000943 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3000003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3000003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Jan 29, 2026 10:29:33 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689773500_603 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3000003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1769689891663,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:32","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689771663,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689772087,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":380,"original_token":"{\"notAfter\":1769689891663,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689771663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689772467,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3000000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689771745 for seqID=3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689771666 for seqID=3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689771745
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689771993
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689773513
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689771666
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=0, Total=1, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 248ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1520ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1768ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 0.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3000000 complete.
Scheduler returned pArgs: [3030000604, 3030000]
pArgs.get(0): 3030000604
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3030000604
sid: 3030000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3030000604 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689892062,"tokenId":"3010000","data":{"condition":"chest pain","patientId":"P_Triage_3010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689772062,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689772062 for seqID=3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3010000 (tokenId=3010000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3010000 buffered at T_in_TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3010000 from PATIENT_ARRIVAL at 1769689772062 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3010000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3010000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3010000  -> TriageService [BUFFERED] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3010000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3010000 entering place: TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3010000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3010000  -> TriageService [ENTER] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3010000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689772062
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3040000683, 3040000]
pArgs.get(0): 3040000683
queueAction: 48
MAXQUEUE: 50
costKeyTokenMap size before: 2
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3040000683
sid: 3040000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3040000683 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 3
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 3
[TRIAGE_PLACE_3010000] Database initialized
[TRIAGE_PLACE_3010000] No database setup needed - service ready
[TRIAGE_PLACE_3010000] TriageService initialized for sequence: 3010000
[TRIAGE_PLACE_3010000] TriageService instance created - nurse: RN_TRIAGE_379
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3010000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3010000] Received clean business data length: 271
[TRIAGE_PLACE_3010000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3010000] Processing assessment for sequence 3010000 with data: {"notAfter":1769689892062,"tokenId":"3010000","data":{"condition":"chest pain","patientId":"P_Triage_3010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689772062,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3010000] Preserved workflow_start_time: 1769689772062
[TRIAGE_PLACE_3010000] Parsed token: id=3010000, version=v003, place=TriageService
[TRIAGE_PLACE_3010000] Extracted: Patient=P_Triage_3010000, Indication=chest pain
[TRIAGE_PLACE_3010000] Processing specific triage assessment
[TRIAGE_PLACE_3010000] Patient condition: chest pain
[TRIAGE_PLACE_3010000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3010000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3010000] Condition: chest pain
[TRIAGE_PLACE_3010000] Priority: URGENT
[TRIAGE_PLACE_3010000] Pain Score: 9/10
[TRIAGE_PLACE_3010000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3010000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3010000] Processing Time: 1ms
[TRIAGE_PLACE_3010000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3010000] Assessment completed successfully
[TRIAGE_PLACE_3010000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 822ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3010000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1769689892062,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:37","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772062,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689776561,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":822,"original_token":"{\"notAfter\":1769689892062,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772062,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689777383,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3010000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3010000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3010000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010001 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3010000 -> child 3010001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3010001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3010001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3010001 -> 'triageResults' to LaboratoryService.processLabRequest
Jan 29, 2026 10:29:37 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689777636_252 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1769689892062,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:37","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772062,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689776561,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":822,"original_token":"{\"notAfter\":1769689892062,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772062,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689777383,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3010000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010002 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3010000 -> child 3010002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3010002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3010002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3010002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1769689892062,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:37","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772062,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689776561,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":822,"original_token":"{\"notAfter\":1769689892062,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772062,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689777383,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3010000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010003 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3010000 -> child 3010003 at TriageService
Jan 29, 2026 10:29:37 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689777969_96 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3010003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3010003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:29:38 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689778435_620 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3010003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1769689892062,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:37","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772062,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689776561,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":822,"original_token":"{\"notAfter\":1769689892062,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772062,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689777383,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3010000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689773579 for seqID=3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689772062 for seqID=3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689773579
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689775648
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689778441
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689772062
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=1, Total=2, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 2069ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2793ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 4862ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 2.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3010000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689892880,"tokenId":"3020000","data":{"condition":"chest pain","patientId":"P_Triage_3020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689772880,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689772880 for seqID=3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3020000 (tokenId=3020000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3020000 buffered at T_in_TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3020000 from PATIENT_ARRIVAL at 1769689772880 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3020000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3020000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3020000  -> TriageService [BUFFERED] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3020000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3020000 entering place: TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3020000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3020000  -> TriageService [ENTER] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3020000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
Scheduler returned pArgs: [2000000896, 2000000]
pArgs.get(0): 2000000896
queueAction: 48
MAXQUEUE: 50
costKeyTokenMap size before: 2
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2000000896
sid: 2000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2000000896 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 3
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Scheduler returned pArgs: [3050000942, 3050000]
pArgs.get(0): 3050000942
queueAction: 47
MAXQUEUE: 50
costKeyTokenMap size before: 3
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3050000942
sid: 3050000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3050000942 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 4
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 4
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689772880
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Maximum Buffer size seen is = 5
Scheduler returned pArgs: [3060000475, 3060000]
pArgs.get(0): 3060000475
queueAction: 46
MAXQUEUE: 50
costKeyTokenMap size before: 4
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3060000475
sid: 3060000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3060000475 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 5
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_3020000] Database initialized
[TRIAGE_PLACE_3020000] No database setup needed - service ready
[TRIAGE_PLACE_3020000] TriageService initialized for sequence: 3020000
[TRIAGE_PLACE_3020000] TriageService instance created - nurse: RN_TRIAGE_635
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3020000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3020000] Received clean business data length: 271
[TRIAGE_PLACE_3020000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3020000] Processing assessment for sequence 3020000 with data: {"notAfter":1769689892880,"tokenId":"3020000","data":{"condition":"chest pain","patientId":"P_Triage_3020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689772880,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3020000] Preserved workflow_start_time: 1769689772880
[TRIAGE_PLACE_3020000] Parsed token: id=3020000, version=v003, place=TriageService
[TRIAGE_PLACE_3020000] Extracted: Patient=P_Triage_3020000, Indication=chest pain
[TRIAGE_PLACE_3020000] Processing specific triage assessment
[TRIAGE_PLACE_3020000] Patient condition: chest pain
[TRIAGE_PLACE_3020000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3020000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3020000] Condition: chest pain
[TRIAGE_PLACE_3020000] Priority: URGENT
[TRIAGE_PLACE_3020000] Pain Score: 7/10
[TRIAGE_PLACE_3020000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3020000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3020000] Processing Time: 0ms
[TRIAGE_PLACE_3020000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3020000] Assessment completed successfully
[TRIAGE_PLACE_3020000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 761ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3020000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1769689892880,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:42","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772880,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689781899,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":761,"original_token":"{\"notAfter\":1769689892880,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772880,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689782660,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3020000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3020000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3020000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020001 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3020000 -> child 3020001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3020001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3020001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:29:43 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689783424_738 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3020001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1769689892880,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:42","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772880,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689781899,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":761,"original_token":"{\"notAfter\":1769689892880,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772880,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689782660,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3020000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020002 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3020000 -> child 3020002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3020002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3020002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
Scheduler returned pArgs: [2010000588, 2010000]
pArgs.get(0): 2010000588
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2010000588
sid: 2010000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2010000588 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Maximum Buffer size seen is = 6
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3020002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1769689892880,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:42","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772880,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689781899,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":761,"original_token":"{\"notAfter\":1769689892880,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772880,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689782660,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3020000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:29:43 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689783734_517 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020003 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3020000 -> child 3020003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3020003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3020003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3020003 -> 'triageResults' to RadiologyService.processImagingRequest
Jan 29, 2026 10:29:44 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689784049_824 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1769689892880,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:42","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689772880,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689781899,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":761,"original_token":"{\"notAfter\":1769689892880,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689772880,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689782660,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3020000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689778666 for seqID=3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689772880 for seqID=3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689778666
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689780106
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689784051
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689772880
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=2, Total=3, Capacity=50
Maximum Buffer size seen is = 7
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
Scheduler returned pArgs: [3070000160, 3070000]
pArgs.get(0): 3070000160
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3070000160
sid: 3070000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3070000160 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1440ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 3945ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 5385ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 4.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3020000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689899871,"tokenId":"2000000","data":{"condition":"chest pain","patientId":"P_Triage_2000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689779871,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689779873 for seqID=2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2000000 (tokenId=2000000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2000000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2000000 from CANARY_TEST at 1769689779873 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2000000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2000000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2000000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2000000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2000000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2000000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2000000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2000000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [3080000309, 3080000]
pArgs.get(0): 3080000309
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3080000309
sid: 3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689779871
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Maximum Buffer size seen is = 8
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3080000309 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Scheduler returned pArgs: [3090000056, 3090000]
pArgs.get(0): 3090000056
queueAction: 43
MAXQUEUE: 50
costKeyTokenMap size before: 7
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3090000056
sid: 3090000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3090000056 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 8
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2000000] Database initialized
[TRIAGE_PLACE_2000000] No database setup needed - service ready
[TRIAGE_PLACE_2000000] TriageService initialized for sequence: 2000000
[TRIAGE_PLACE_2000000] TriageService instance created - nurse: RN_TRIAGE_707
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2000000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2000000] Received clean business data length: 271
[TRIAGE_PLACE_2000000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2000000] Processing assessment for sequence 2000000 with data: {"notAfter":1769689899871,"tokenId":"2000000","data":{"condition":"chest pain","patientId":"P_Triage_2000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689779871,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2000000] Preserved workflow_start_time: 1769689779871
[TRIAGE_PLACE_2000000] Parsed token: id=2000000, version=v002, place=TriageService
[TRIAGE_PLACE_2000000] Extracted: Patient=P_Triage_2000000, Indication=chest pain
[TRIAGE_PLACE_2000000] Processing specific triage assessment
[TRIAGE_PLACE_2000000] Patient condition: chest pain
[TRIAGE_PLACE_2000000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2000000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2000000] Condition: chest pain
[TRIAGE_PLACE_2000000] Priority: URGENT
[TRIAGE_PLACE_2000000] Pain Score: 9/10
[TRIAGE_PLACE_2000000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2000000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2000000] Processing Time: 1ms
[TRIAGE_PLACE_2000000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2000000] Assessment completed successfully
[TRIAGE_PLACE_2000000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 915ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2000000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2000000":{"serviceType":"triageResults","notAfter":1769689899871,"tokenId":"2000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689779871,"placeId":"TRIAGE_PLACE_2000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689786817,"version":"v002","sequenceId":"2000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":915,"original_token":"{\"notAfter\":1769689899871,\"tokenId\":\"2000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689779871,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689787732,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2000000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2000000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2000000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2000000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2000000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Jan 29, 2026 10:29:48 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689788332_651 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2000000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2000000":{"serviceType":"triageResults","notAfter":1769689899871,"tokenId":"2000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689779871,"placeId":"TRIAGE_PLACE_2000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689786817,"version":"v002","sequenceId":"2000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":915,"original_token":"{\"notAfter\":1769689899871,\"tokenId\":\"2000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689779871,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689787732,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689784319 for seqID=2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689779873 for seqID=2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689784319
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689786051
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689788335
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689779873
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1732ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2284ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 4016ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2000000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689903538,"tokenId":"2010000","data":{"condition":"chest pain","patientId":"P_Triage_2010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689783538,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689783539 for seqID=2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2010000 (tokenId=2010000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [3100000381, 3100000]
pArgs.get(0): 3100000381
queueAction: 43
MAXQUEUE: 50
costKeyTokenMap size before: 7
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3100000381
sid: 3100000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3100000381 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 8
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 9
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Scheduler returned pArgs: [2020000589, 2020000]
pArgs.get(0): 2020000589
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2020000589
sid: 2020000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2020000589 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2010000 buffered at T_in_TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2010000 from CANARY_TEST at 1769689783539 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2010000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2010000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2010000  -> TriageService [BUFFERED] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2010000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2010000 entering place: TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2010000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2010000  -> TriageService [ENTER] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2010000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689783538
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2010000] Database initialized
[TRIAGE_PLACE_2010000] No database setup needed - service ready
[TRIAGE_PLACE_2010000] TriageService initialized for sequence: 2010000
[TRIAGE_PLACE_2010000] TriageService instance created - nurse: RN_TRIAGE_302
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2010000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2010000] Received clean business data length: 271
[TRIAGE_PLACE_2010000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2010000] Processing assessment for sequence 2010000 with data: {"notAfter":1769689903538,"tokenId":"2010000","data":{"condition":"chest pain","patientId":"P_Triage_2010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689783538,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2010000] Preserved workflow_start_time: 1769689783538
[TRIAGE_PLACE_2010000] Parsed token: id=2010000, version=v002, place=TriageService
[TRIAGE_PLACE_2010000] Extracted: Patient=P_Triage_2010000, Indication=chest pain
[TRIAGE_PLACE_2010000] Processing specific triage assessment
[TRIAGE_PLACE_2010000] Patient condition: chest pain
[TRIAGE_PLACE_2010000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2010000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2010000] Condition: chest pain
[TRIAGE_PLACE_2010000] Priority: URGENT
[TRIAGE_PLACE_2010000] Pain Score: 7/10
[TRIAGE_PLACE_2010000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2010000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2010000] Processing Time: 1ms
[TRIAGE_PLACE_2010000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2010000] Assessment completed successfully
[TRIAGE_PLACE_2010000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 351ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2010000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2010000":{"serviceType":"triageResults","notAfter":1769689903538,"tokenId":"2010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:50","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689783538,"placeId":"TRIAGE_PLACE_2010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689789955,"version":"v002","sequenceId":"2010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":351,"original_token":"{\"notAfter\":1769689903538,\"tokenId\":\"2010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689783538,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689790306,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2010000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2010000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2010000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2010000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2010000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Jan 29, 2026 10:29:50 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689790483_932 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2010000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2010000":{"serviceType":"triageResults","notAfter":1769689903538,"tokenId":"2010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:50","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689783538,"placeId":"TRIAGE_PLACE_2010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689789955,"version":"v002","sequenceId":"2010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":351,"original_token":"{\"notAfter\":1769689903538,\"tokenId\":\"2010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689783538,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689790306,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689788474 for seqID=2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689783539 for seqID=2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689788474
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689789719
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689790484
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689783539
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=7, Total=8, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1245ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 765ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2010ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 14.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2010000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689909168,"tokenId":"2020000","data":{"condition":"chest pain","patientId":"P_Triage_2020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689789168,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689789168 for seqID=2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2020000 (tokenId=2020000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2020000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2020000 from CANARY_TEST at 1769689789168 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2020000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2020000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2020000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2020000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2020000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2020000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2020000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2020000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689789168
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3110000745, 3110000]
pArgs.get(0): 3110000745
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3110000745
sid: 3110000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3110000745 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2020000] Database initialized
[TRIAGE_PLACE_2020000] No database setup needed - service ready
[TRIAGE_PLACE_2020000] TriageService initialized for sequence: 2020000
[TRIAGE_PLACE_2020000] TriageService instance created - nurse: RN_TRIAGE_809
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2020000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2020000] Received clean business data length: 271
[TRIAGE_PLACE_2020000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2020000] Processing assessment for sequence 2020000 with data: {"notAfter":1769689909168,"tokenId":"2020000","data":{"condition":"chest pain","patientId":"P_Triage_2020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689789168,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2020000] Preserved workflow_start_time: 1769689789168
[TRIAGE_PLACE_2020000] Parsed token: id=2020000, version=v002, place=TriageService
[TRIAGE_PLACE_2020000] Extracted: Patient=P_Triage_2020000, Indication=chest pain
[TRIAGE_PLACE_2020000] Processing specific triage assessment
[TRIAGE_PLACE_2020000] Patient condition: chest pain
[TRIAGE_PLACE_2020000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2020000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2020000] Condition: chest pain
[TRIAGE_PLACE_2020000] Priority: URGENT
[TRIAGE_PLACE_2020000] Pain Score: 9/10
[TRIAGE_PLACE_2020000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2020000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2020000] Processing Time: 1ms
[TRIAGE_PLACE_2020000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2020000] Assessment completed successfully
[TRIAGE_PLACE_2020000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 460ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2020000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2020000":{"serviceType":"triageResults","notAfter":1769689909168,"tokenId":"2020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:51","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689789168,"placeId":"TRIAGE_PLACE_2020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689791352,"version":"v002","sequenceId":"2020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":460,"original_token":"{\"notAfter\":1769689909168,\"tokenId\":\"2020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689789168,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689791812,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2020000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2020000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2020000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2020000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2020000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
Scheduler returned pArgs: [2030000815, 2030000]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
pArgs.get(0): 2030000815
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2030000815
sid: 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2020000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2020000":{"serviceType":"triageResults","notAfter":1769689909168,"tokenId":"2020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:51","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689789168,"placeId":"TRIAGE_PLACE_2020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689791352,"version":"v002","sequenceId":"2020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":460,"original_token":"{\"notAfter\":1769689909168,\"tokenId\":\"2020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689789168,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689791812,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:29:52 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689792642_782 to 192.168.1.152:3000
Maximum Buffer size seen is = 10
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689790550 for seqID=2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689789168 for seqID=2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689790550
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689791100
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689792645
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689789168
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2030000815 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 550ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1545ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2095ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2020000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689911792,"tokenId":"2030000","data":{"condition":"chest pain","patientId":"P_Triage_2030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689791792,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689791793 for seqID=2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2030000 (tokenId=2030000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
Scheduler returned pArgs: [3120000888, 3120000]
pArgs.get(0): 3120000888
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3120000888
sid: 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3120000888 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2030000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2030000 from CANARY_TEST at 1769689791793 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2030000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2030000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2030000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2030000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2030000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2030000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2030000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2030000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689791792
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2030000] Database initialized
[TRIAGE_PLACE_2030000] No database setup needed - service ready
[TRIAGE_PLACE_2030000] TriageService initialized for sequence: 2030000
[TRIAGE_PLACE_2030000] TriageService instance created - nurse: RN_TRIAGE_274
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2030000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2030000] Received clean business data length: 271
[TRIAGE_PLACE_2030000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2030000] Processing assessment for sequence 2030000 with data: {"notAfter":1769689911792,"tokenId":"2030000","data":{"condition":"chest pain","patientId":"P_Triage_2030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689791792,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2030000] Preserved workflow_start_time: 1769689791792
[TRIAGE_PLACE_2030000] Parsed token: id=2030000, version=v002, place=TriageService
[TRIAGE_PLACE_2030000] Extracted: Patient=P_Triage_2030000, Indication=chest pain
[TRIAGE_PLACE_2030000] Processing specific triage assessment
[TRIAGE_PLACE_2030000] Patient condition: chest pain
[TRIAGE_PLACE_2030000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_2030000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2030000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2030000] Condition: chest pain
[TRIAGE_PLACE_2030000] Priority: URGENT
[TRIAGE_PLACE_2030000] Pain Score: 9/10
[TRIAGE_PLACE_2030000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_2030000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2030000] Processing Time: 1ms
[TRIAGE_PLACE_2030000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2030000] Assessment completed successfully
[TRIAGE_PLACE_2030000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 510ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2030000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2030000":{"serviceType":"triageResults","notAfter":1769689911792,"tokenId":"2030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:29:54","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791792,"placeId":"TRIAGE_PLACE_2030000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689793775,"version":"v002","sequenceId":"2030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":510,"original_token":"{\"notAfter\":1769689911792,\"tokenId\":\"2030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791792,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689794285,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2030000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2030000 exiting place: TriageService -> MonitorService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2030000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2030000 TriageService -> MonitorService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2030000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2030000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2030000":{"serviceType":"triageResults","notAfter":1769689911792,"tokenId":"2030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:29:54","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791792,"placeId":"TRIAGE_PLACE_2030000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689793775,"version":"v002","sequenceId":"2030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":510,"original_token":"{\"notAfter\":1769689911792,\"tokenId\":\"2030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791792,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689794285,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:29:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689794570_865 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689792655 for seqID=2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689791793 for seqID=2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689792655
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689793387
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689794585
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689791793
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 732ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1198ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1930ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2030000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689893577,"tokenId":"3030000","data":{"condition":"chest pain","patientId":"P_Triage_3030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689773577,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689773577 for seqID=3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3030000 (tokenId=3030000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Scheduler returned pArgs: [2040000292, 2040000]
pArgs.get(0): 2040000292
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2040000292
sid: 2040000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2040000292 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3030000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3030000 from PATIENT_ARRIVAL at 1769689773577 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3030000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3030000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3030000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3030000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3030000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3030000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3030000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3030000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689773577
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3030000] Database initialized
[TRIAGE_PLACE_3030000] No database setup needed - service ready
[TRIAGE_PLACE_3030000] TriageService initialized for sequence: 3030000
[TRIAGE_PLACE_3030000] TriageService instance created - nurse: RN_TRIAGE_819
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3030000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3030000] Received clean business data length: 271
[TRIAGE_PLACE_3030000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3030000] Processing assessment for sequence 3030000 with data: {"notAfter":1769689893577,"tokenId":"3030000","data":{"condition":"chest pain","patientId":"P_Triage_3030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689773577,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3030000] Preserved workflow_start_time: 1769689773577
[TRIAGE_PLACE_3030000] Parsed token: id=3030000, version=v003, place=TriageService
[TRIAGE_PLACE_3030000] Extracted: Patient=P_Triage_3030000, Indication=chest pain
[TRIAGE_PLACE_3030000] Processing specific triage assessment
[TRIAGE_PLACE_3030000] Patient condition: chest pain
[TRIAGE_PLACE_3030000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3030000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3030000] Condition: chest pain
[TRIAGE_PLACE_3030000] Priority: URGENT
[TRIAGE_PLACE_3030000] Pain Score: 7/10
[TRIAGE_PLACE_3030000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3030000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3030000] Processing Time: 0ms
[TRIAGE_PLACE_3030000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3030000] Assessment completed successfully
[TRIAGE_PLACE_3030000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 156ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3030000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1769689893577,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:55","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689773577,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689795665,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":156,"original_token":"{\"notAfter\":1769689893577,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689773577,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689795821,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3030000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3030000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3030000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030001 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3030000 -> child 3030001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3030001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3030001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:29:56 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689796093_349 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3030001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1769689893577,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:55","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689773577,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689795665,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":156,"original_token":"{\"notAfter\":1769689893577,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689773577,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689795821,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3030000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030002 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3030000 -> child 3030002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3030002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3030002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3030002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1769689893577,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:55","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689773577,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689795665,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":156,"original_token":"{\"notAfter\":1769689893577,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689773577,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689795821,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:29:56 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689796458_97 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3030000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030003 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3030000 -> child 3030003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3030003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3030003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:29:56 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689796922_74 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3030003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1769689893577,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:55","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689773577,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689795665,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":156,"original_token":"{\"notAfter\":1769689893577,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689773577,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689795821,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3030000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689794589 for seqID=3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689773577 for seqID=3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689794589
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689795353
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689796966
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689773577
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 764ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1613ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2377ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3030000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689915142,"tokenId":"2040000","data":{"condition":"chest pain","patientId":"P_Triage_2040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689795142,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689795142 for seqID=2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2040000 (tokenId=2040000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2040000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Scheduler returned pArgs: [2050000143, 2050000]
pArgs.get(0): 2050000143
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2050000143
sid: 2050000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2050000143 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2040000 from CANARY_TEST at 1769689795142 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2040000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2040000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2040000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2040000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2040000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2040000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2040000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2040000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689795142
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2040000] Database initialized
[TRIAGE_PLACE_2040000] No database setup needed - service ready
[TRIAGE_PLACE_2040000] TriageService initialized for sequence: 2040000
[TRIAGE_PLACE_2040000] TriageService instance created - nurse: RN_TRIAGE_648
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2040000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2040000] Received clean business data length: 271
[TRIAGE_PLACE_2040000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2040000] Processing assessment for sequence 2040000 with data: {"notAfter":1769689915142,"tokenId":"2040000","data":{"condition":"chest pain","patientId":"P_Triage_2040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689795142,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2040000] Preserved workflow_start_time: 1769689795142
[TRIAGE_PLACE_2040000] Parsed token: id=2040000, version=v002, place=TriageService
[TRIAGE_PLACE_2040000] Extracted: Patient=P_Triage_2040000, Indication=chest pain
[TRIAGE_PLACE_2040000] Processing specific triage assessment
[TRIAGE_PLACE_2040000] Patient condition: chest pain
[TRIAGE_PLACE_2040000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2040000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2040000] Condition: chest pain
[TRIAGE_PLACE_2040000] Priority: URGENT
[TRIAGE_PLACE_2040000] Pain Score: 8/10
[TRIAGE_PLACE_2040000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2040000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2040000] Processing Time: 3ms
[TRIAGE_PLACE_2040000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2040000] Assessment completed successfully
[TRIAGE_PLACE_2040000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 188ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2040000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2040000":{"serviceType":"triageResults","notAfter":1769689915142,"tokenId":"2040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:58","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689795142,"placeId":"TRIAGE_PLACE_2040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689798464,"version":"v002","sequenceId":"2040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":188,"original_token":"{\"notAfter\":1769689915142,\"tokenId\":\"2040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689795142,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689798652,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2040000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2040000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2040000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2040000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2040000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2040000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2040000":{"serviceType":"triageResults","notAfter":1769689915142,"tokenId":"2040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:29:58","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689795142,"placeId":"TRIAGE_PLACE_2040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689798464,"version":"v002","sequenceId":"2040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":188,"original_token":"{\"notAfter\":1769689915142,\"tokenId\":\"2040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689795142,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689798652,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689797177 for seqID=2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689795142 for seqID=2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689797177
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689798215
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689798847
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689795142
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
Jan 29, 2026 10:29:58 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689798846_184 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1038ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 632ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1670ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2040000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689917525,"tokenId":"2050000","data":{"condition":"chest pain","patientId":"P_Triage_2050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689797525,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689797525 for seqID=2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2050000 (tokenId=2050000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2050000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2050000 from CANARY_TEST at 1769689797525 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2050000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2050000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2050000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2050000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2050000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2050000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2050000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2050000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [2060000772, 2060000]
pArgs.get(0): 2060000772
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2060000772
sid: 2060000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2060000772 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689797525
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2050000] Database initialized
[TRIAGE_PLACE_2050000] No database setup needed - service ready
[TRIAGE_PLACE_2050000] TriageService initialized for sequence: 2050000
[TRIAGE_PLACE_2050000] TriageService instance created - nurse: RN_TRIAGE_999
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2050000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2050000] Received clean business data length: 271
[TRIAGE_PLACE_2050000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2050000] Processing assessment for sequence 2050000 with data: {"notAfter":1769689917525,"tokenId":"2050000","data":{"condition":"chest pain","patientId":"P_Triage_2050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689797525,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2050000] Preserved workflow_start_time: 1769689797525
[TRIAGE_PLACE_2050000] Parsed token: id=2050000, version=v002, place=TriageService
[TRIAGE_PLACE_2050000] Extracted: Patient=P_Triage_2050000, Indication=chest pain
[TRIAGE_PLACE_2050000] Processing specific triage assessment
[TRIAGE_PLACE_2050000] Patient condition: chest pain
[TRIAGE_PLACE_2050000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2050000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2050000] Condition: chest pain
[TRIAGE_PLACE_2050000] Priority: URGENT
[TRIAGE_PLACE_2050000] Pain Score: 8/10
[TRIAGE_PLACE_2050000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2050000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2050000] Processing Time: 1ms
[TRIAGE_PLACE_2050000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2050000] Assessment completed successfully
[TRIAGE_PLACE_2050000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 195ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2050000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2050000":{"serviceType":"triageResults","notAfter":1769689917525,"tokenId":"2050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:00","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689797525,"placeId":"TRIAGE_PLACE_2050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689799807,"version":"v002","sequenceId":"2050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":195,"original_token":"{\"notAfter\":1769689917525,\"tokenId\":\"2050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689797525,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689800002,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2050000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2050000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2050000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2050000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2050000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2050000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2050000":{"serviceType":"triageResults","notAfter":1769689917525,"tokenId":"2050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:00","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689797525,"placeId":"TRIAGE_PLACE_2050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689799807,"version":"v002","sequenceId":"2050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":195,"original_token":"{\"notAfter\":1769689917525,\"tokenId\":\"2050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689797525,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689800002,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689798883 for seqID=2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689797525 for seqID=2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689798883
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689799592
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689800234
Jan 29, 2026 10:30:00 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689800232_98 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689797525
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 709ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 642ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1351ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2050000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689919747,"tokenId":"2060000","data":{"condition":"chest pain","patientId":"P_Triage_2060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689799747,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689799747 for seqID=2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2060000 (tokenId=2060000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2060000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2060000 from CANARY_TEST at 1769689799747 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2060000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2060000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2060000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2060000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2060000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2060000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2060000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2060000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689799747
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2060000] Database initialized
[TRIAGE_PLACE_2060000] No database setup needed - service ready
[TRIAGE_PLACE_2060000] TriageService initialized for sequence: 2060000
[TRIAGE_PLACE_2060000] TriageService instance created - nurse: RN_TRIAGE_383
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2060000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2060000] Received clean business data length: 271
[TRIAGE_PLACE_2060000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2060000] Processing assessment for sequence 2060000 with data: {"notAfter":1769689919747,"tokenId":"2060000","data":{"condition":"chest pain","patientId":"P_Triage_2060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689799747,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2060000] Preserved workflow_start_time: 1769689799747
[TRIAGE_PLACE_2060000] Parsed token: id=2060000, version=v002, place=TriageService
[TRIAGE_PLACE_2060000] Extracted: Patient=P_Triage_2060000, Indication=chest pain
[TRIAGE_PLACE_2060000] Processing specific triage assessment
[TRIAGE_PLACE_2060000] Patient condition: chest pain
[TRIAGE_PLACE_2060000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2060000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2060000] Condition: chest pain
[TRIAGE_PLACE_2060000] Priority: URGENT
[TRIAGE_PLACE_2060000] Pain Score: 7/10
[TRIAGE_PLACE_2060000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2060000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2060000] Processing Time: 0ms
[TRIAGE_PLACE_2060000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2060000] Assessment completed successfully
[TRIAGE_PLACE_2060000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 136ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2060000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2060000":{"serviceType":"triageResults","notAfter":1769689919747,"tokenId":"2060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:01","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689799747,"placeId":"TRIAGE_PLACE_2060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689801249,"version":"v002","sequenceId":"2060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":136,"original_token":"{\"notAfter\":1769689919747,\"tokenId\":\"2060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689799747,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689801385,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2060000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2060000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2060000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2060000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2060000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Jan 29, 2026 10:30:01 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689801867_899 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2060000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2060000":{"serviceType":"triageResults","notAfter":1769689919747,"tokenId":"2060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:01","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689799747,"placeId":"TRIAGE_PLACE_2060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689801249,"version":"v002","sequenceId":"2060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":136,"original_token":"{\"notAfter\":1769689919747,\"tokenId\":\"2060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689799747,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689801385,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689800271 for seqID=2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689799747 for seqID=2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689800271
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689801082
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689801869
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689799747
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 811ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 787ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1598ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2060000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689896663,"tokenId":"3040000","data":{"condition":"chest pain","patientId":"P_Triage_3040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689776663,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689776666 for seqID=3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3040000 (tokenId=3040000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Scheduler returned pArgs: [2070000101, 2070000]
pArgs.get(0): 2070000101
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2070000101
sid: 2070000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2070000101 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3040000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3040000 from PATIENT_ARRIVAL at 1769689776666 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3040000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3040000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3040000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3040000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3040000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3040000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3040000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3040000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689776663
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3040000] Database initialized
[TRIAGE_PLACE_3040000] No database setup needed - service ready
[TRIAGE_PLACE_3040000] TriageService initialized for sequence: 3040000
[TRIAGE_PLACE_3040000] TriageService instance created - nurse: RN_TRIAGE_602
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3040000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3040000] Received clean business data length: 271
[TRIAGE_PLACE_3040000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3040000] Processing assessment for sequence 3040000 with data: {"notAfter":1769689896663,"tokenId":"3040000","data":{"condition":"chest pain","patientId":"P_Triage_3040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689776663,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3040000] Preserved workflow_start_time: 1769689776663
[TRIAGE_PLACE_3040000] Parsed token: id=3040000, version=v003, place=TriageService
[TRIAGE_PLACE_3040000] Extracted: Patient=P_Triage_3040000, Indication=chest pain
[TRIAGE_PLACE_3040000] Processing specific triage assessment
[TRIAGE_PLACE_3040000] Patient condition: chest pain
[TRIAGE_PLACE_3040000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3040000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3040000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3040000] Condition: chest pain
[TRIAGE_PLACE_3040000] Priority: URGENT
[TRIAGE_PLACE_3040000] Pain Score: 8/10
[TRIAGE_PLACE_3040000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3040000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3040000] Processing Time: 0ms
[TRIAGE_PLACE_3040000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3040000] Assessment completed successfully
[TRIAGE_PLACE_3040000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 184ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3040000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1769689896663,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:03","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689776663,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689803421,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1769689896663,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689776663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689803605,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3040000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3040000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3040000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3040000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Jan 29, 2026 10:30:04 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1769689804087_570 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3040000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1769689896663,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:03","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689776663,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689803421,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1769689896663,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689776663,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689803605,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689802130 for seqID=3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689776666 for seqID=3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689802130
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689803144
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689804089
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689776666
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1014ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 945ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1959ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3040000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689922601,"tokenId":"2070000","data":{"condition":"chest pain","patientId":"P_Triage_2070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689802601,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689802602 for seqID=2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2070000 (tokenId=2070000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2070000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2070000 from CANARY_TEST at 1769689802602 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2070000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2070000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2070000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2070000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2070000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2070000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2070000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2070000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [2080000426, 2080000]
pArgs.get(0): 2080000426
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2080000426
sid: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2070000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
=== ADDING TO PROCESSING QUEUE ===
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
About to add costKey 2080000426 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689802601
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2070000] Database initialized
[TRIAGE_PLACE_2070000] No database setup needed - service ready
[TRIAGE_PLACE_2070000] TriageService initialized for sequence: 2070000
[TRIAGE_PLACE_2070000] TriageService instance created - nurse: RN_TRIAGE_949
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2070000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2070000] Received clean business data length: 271
[TRIAGE_PLACE_2070000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2070000] Processing assessment for sequence 2070000 with data: {"notAfter":1769689922601,"tokenId":"2070000","data":{"condition":"chest pain","patientId":"P_Triage_2070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689802601,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2070000] Preserved workflow_start_time: 1769689802601
[TRIAGE_PLACE_2070000] Parsed token: id=2070000, version=v002, place=TriageService
[TRIAGE_PLACE_2070000] Extracted: Patient=P_Triage_2070000, Indication=chest pain
[TRIAGE_PLACE_2070000] Processing specific triage assessment
[TRIAGE_PLACE_2070000] Patient condition: chest pain
[TRIAGE_PLACE_2070000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_2070000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2070000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2070000] Condition: chest pain
[TRIAGE_PLACE_2070000] Priority: URGENT
[TRIAGE_PLACE_2070000] Pain Score: 7/10
[TRIAGE_PLACE_2070000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_2070000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2070000] Processing Time: 0ms
[TRIAGE_PLACE_2070000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2070000] Assessment completed successfully
[TRIAGE_PLACE_2070000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 559ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2070000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2070000":{"serviceType":"triageResults","notAfter":1769689922601,"tokenId":"2070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:05","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689802601,"placeId":"TRIAGE_PLACE_2070000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689805437,"version":"v002","sequenceId":"2070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":559,"original_token":"{\"notAfter\":1769689922601,\"tokenId\":\"2070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689802601,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689805996,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2070000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2070000 exiting place: TriageService -> MonitorService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2070000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2070000 TriageService -> MonitorService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2070000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Jan 29, 2026 10:30:06 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689806167_405 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2070000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2070000":{"serviceType":"triageResults","notAfter":1769689922601,"tokenId":"2070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:05","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689802601,"placeId":"TRIAGE_PLACE_2070000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689805437,"version":"v002","sequenceId":"2070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":559,"original_token":"{\"notAfter\":1769689922601,\"tokenId\":\"2070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689802601,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689805996,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689804231 for seqID=2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689802602 for seqID=2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689804231
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689805051
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689806169
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689802602
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 820ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1118ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1938ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2070000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689925052,"tokenId":"2080000","data":{"condition":"chest pain","patientId":"P_Triage_2080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689805052,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689805052 for seqID=2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2080000 (tokenId=2080000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2080000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2080000 from CANARY_TEST at 1769689805052 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2080000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2080000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2080000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2080000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2080000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2080000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2080000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2080000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689805052
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2080000] Database initialized
[TRIAGE_PLACE_2080000] No database setup needed - service ready
[TRIAGE_PLACE_2080000] TriageService initialized for sequence: 2080000
[TRIAGE_PLACE_2080000] TriageService instance created - nurse: RN_TRIAGE_855
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2080000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2080000] Received clean business data length: 271
[TRIAGE_PLACE_2080000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2080000] Processing assessment for sequence 2080000 with data: {"notAfter":1769689925052,"tokenId":"2080000","data":{"condition":"chest pain","patientId":"P_Triage_2080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689805052,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2080000] Preserved workflow_start_time: 1769689805052
[TRIAGE_PLACE_2080000] Parsed token: id=2080000, version=v002, place=TriageService
[TRIAGE_PLACE_2080000] Extracted: Patient=P_Triage_2080000, Indication=chest pain
[TRIAGE_PLACE_2080000] Processing specific triage assessment
[TRIAGE_PLACE_2080000] Patient condition: chest pain
[TRIAGE_PLACE_2080000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2080000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2080000] Condition: chest pain
[TRIAGE_PLACE_2080000] Priority: URGENT
[TRIAGE_PLACE_2080000] Pain Score: 7/10
[TRIAGE_PLACE_2080000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2080000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2080000] Processing Time: 0ms
[TRIAGE_PLACE_2080000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2080000] Assessment completed successfully
[TRIAGE_PLACE_2080000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 95ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2080000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2080000":{"serviceType":"triageResults","notAfter":1769689925052,"tokenId":"2080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689805052,"placeId":"TRIAGE_PLACE_2080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689806762,"version":"v002","sequenceId":"2080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":95,"original_token":"{\"notAfter\":1769689925052,\"tokenId\":\"2080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689805052,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689806857,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2080000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2080000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2080000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2080000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2080000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2080000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2080000":{"serviceType":"triageResults","notAfter":1769689925052,"tokenId":"2080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689805052,"placeId":"TRIAGE_PLACE_2080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689806762,"version":"v002","sequenceId":"2080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":95,"original_token":"{\"notAfter\":1769689925052,\"tokenId\":\"2080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689805052,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689806857,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:30:06 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689806991_469 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689806242 for seqID=2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689805052 for seqID=2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689806242
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689806586
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689806992
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689805052
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 344ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 406ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 750ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2080000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689900190,"tokenId":"3050000","data":{"condition":"chest pain","patientId":"P_Triage_3050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689780190,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689780190 for seqID=3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3050000 (tokenId=3050000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Scheduler returned pArgs: [2090000379, 2090000]
pArgs.get(0): 2090000379
queueAction: 43
MAXQUEUE: 50
costKeyTokenMap size before: 7
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2090000379
sid: 2090000
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3050000 buffered at T_in_TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2090000379 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 8
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3050000 from PATIENT_ARRIVAL at 1769689780190 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3050000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3050000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3050000  -> TriageService [BUFFERED] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3050000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3050000 entering place: TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3050000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3050000  -> TriageService [ENTER] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3050000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689780190
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3050000] Database initialized
[TRIAGE_PLACE_3050000] No database setup needed - service ready
[TRIAGE_PLACE_3050000] TriageService initialized for sequence: 3050000
[TRIAGE_PLACE_3050000] TriageService instance created - nurse: RN_TRIAGE_619
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3050000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3050000] Received clean business data length: 271
[TRIAGE_PLACE_3050000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3050000] Processing assessment for sequence 3050000 with data: {"notAfter":1769689900190,"tokenId":"3050000","data":{"condition":"chest pain","patientId":"P_Triage_3050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689780190,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3050000] Preserved workflow_start_time: 1769689780190
[TRIAGE_PLACE_3050000] Parsed token: id=3050000, version=v003, place=TriageService
[TRIAGE_PLACE_3050000] Extracted: Patient=P_Triage_3050000, Indication=chest pain
[TRIAGE_PLACE_3050000] Processing specific triage assessment
[TRIAGE_PLACE_3050000] Patient condition: chest pain
[TRIAGE_PLACE_3050000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3050000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3050000] Condition: chest pain
[TRIAGE_PLACE_3050000] Priority: URGENT
[TRIAGE_PLACE_3050000] Pain Score: 8/10
[TRIAGE_PLACE_3050000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3050000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3050000] Processing Time: 0ms
[TRIAGE_PLACE_3050000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3050000] Assessment completed successfully
[TRIAGE_PLACE_3050000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 81ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3050000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1769689900190,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689780190,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689807540,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":81,"original_token":"{\"notAfter\":1769689900190,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689780190,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689807621,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3050000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3050000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3050000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3050000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3050001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3050000 -> child=3050001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3050000 -> 3050001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3050000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3050001 created from parent 3050000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3050000 -> child 3050001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3050001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3050001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3050001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3050001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3050001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1769689900190,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689780190,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689807540,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":81,"original_token":"{\"notAfter\":1769689900190,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689780190,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689807621,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3050002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3050000 -> child=3050002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3050000 -> 3050002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3050000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689807847_69 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3050002 created from parent 3050000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3050000 -> child 3050002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3050002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3050002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3050002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3050002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3050002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1769689900190,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689780190,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689807540,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":81,"original_token":"{\"notAfter\":1769689900190,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689780190,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689807621,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3050003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3050000 -> child=3050003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3050000 -> 3050003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3050000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:08 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689808024_965 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3050003 created from parent 3050000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3050000 -> child 3050003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3050003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3050003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3050003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3050003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3050003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1769689900190,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689780190,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689807540,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":81,"original_token":"{\"notAfter\":1769689900190,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689780190,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689807621,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3050000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689806996 for seqID=3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689780190 for seqID=3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689806996
Jan 29, 2026 10:30:08 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689808325_997 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689807397
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689808327
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689780190
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=7, Total=8, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 401ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 930ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1331ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 14.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3050000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689927340,"tokenId":"2090000","data":{"condition":"chest pain","patientId":"P_Triage_2090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689807340,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689807340 for seqID=2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2090000 (tokenId=2090000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2090000 buffered at T_in_TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2090000 from CANARY_TEST at 1769689807340 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2090000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2090000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2090000  -> TriageService [BUFFERED] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 2090000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2090000 entering place: TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2090000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2090000  -> TriageService [ENTER] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 2090000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689807340
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2090000] Database initialized
[TRIAGE_PLACE_2090000] No database setup needed - service ready
[TRIAGE_PLACE_2090000] TriageService initialized for sequence: 2090000
[TRIAGE_PLACE_2090000] TriageService instance created - nurse: RN_TRIAGE_246
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2090000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2090000] Received clean business data length: 271
[TRIAGE_PLACE_2090000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2090000] Processing assessment for sequence 2090000 with data: {"notAfter":1769689927340,"tokenId":"2090000","data":{"condition":"chest pain","patientId":"P_Triage_2090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689807340,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2090000] Preserved workflow_start_time: 1769689807340
[TRIAGE_PLACE_2090000] Parsed token: id=2090000, version=v002, place=TriageService
[TRIAGE_PLACE_2090000] Extracted: Patient=P_Triage_2090000, Indication=chest pain
[TRIAGE_PLACE_2090000] Processing specific triage assessment
[TRIAGE_PLACE_2090000] Patient condition: chest pain
[TRIAGE_PLACE_2090000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2090000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2090000] Condition: chest pain
[TRIAGE_PLACE_2090000] Priority: URGENT
[TRIAGE_PLACE_2090000] Pain Score: 7/10
[TRIAGE_PLACE_2090000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2090000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2090000] Processing Time: 0ms
[TRIAGE_PLACE_2090000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2090000] Assessment completed successfully
[TRIAGE_PLACE_2090000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 137ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2090000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2090000":{"serviceType":"triageResults","notAfter":1769689927340,"tokenId":"2090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:10","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689807340,"placeId":"TRIAGE_PLACE_2090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689810113,"version":"v002","sequenceId":"2090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":137,"original_token":"{\"notAfter\":1769689927340,\"tokenId\":\"2090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689807340,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689810250,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2090000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2090000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2090000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2090000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 2090000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 2090000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2090000":{"serviceType":"triageResults","notAfter":1769689927340,"tokenId":"2090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:10","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689807340,"placeId":"TRIAGE_PLACE_2090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689810113,"version":"v002","sequenceId":"2090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":137,"original_token":"{\"notAfter\":1769689927340,\"tokenId\":\"2090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689807340,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1769689810250,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689808373 for seqID=2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689807340 for seqID=2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689808373
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689809810
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689810414
Jan 29, 2026 10:30:10 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1769689810413_640 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689807340
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=7, Total=8, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1437ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 604ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2041ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 14.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 2090000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689902463,"tokenId":"3060000","data":{"condition":"chest pain","patientId":"P_Triage_3060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689782463,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689782463 for seqID=3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3060000 (tokenId=3060000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3060000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3060000 from PATIENT_ARRIVAL at 1769689782463 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3060000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3060000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3060000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3060000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3060000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3060000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3060000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3060000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689782463
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3060000] Database initialized
[TRIAGE_PLACE_3060000] No database setup needed - service ready
[TRIAGE_PLACE_3060000] TriageService initialized for sequence: 3060000
[TRIAGE_PLACE_3060000] TriageService instance created - nurse: RN_TRIAGE_385
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3060000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3060000] Received clean business data length: 271
[TRIAGE_PLACE_3060000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3060000] Processing assessment for sequence 3060000 with data: {"notAfter":1769689902463,"tokenId":"3060000","data":{"condition":"chest pain","patientId":"P_Triage_3060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689782463,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3060000] Preserved workflow_start_time: 1769689782463
[TRIAGE_PLACE_3060000] Parsed token: id=3060000, version=v003, place=TriageService
[TRIAGE_PLACE_3060000] Extracted: Patient=P_Triage_3060000, Indication=chest pain
[TRIAGE_PLACE_3060000] Processing specific triage assessment
[TRIAGE_PLACE_3060000] Patient condition: chest pain
[TRIAGE_PLACE_3060000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3060000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3060000] Condition: chest pain
[TRIAGE_PLACE_3060000] Priority: URGENT
[TRIAGE_PLACE_3060000] Pain Score: 8/10
[TRIAGE_PLACE_3060000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3060000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3060000] Processing Time: 0ms
[TRIAGE_PLACE_3060000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3060000] Assessment completed successfully
[TRIAGE_PLACE_3060000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 104ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3060000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1769689902463,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689782463,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689811283,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":104,"original_token":"{\"notAfter\":1769689902463,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689782463,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689811387,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3060000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3060000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3060000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3060000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3060001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3060000 -> child=3060001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3060000 -> 3060001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3060000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3060001 created from parent 3060000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3060000 -> child 3060001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3060001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3060001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3060001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3060001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3060001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1769689902463,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689782463,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689811283,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":104,"original_token":"{\"notAfter\":1769689902463,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689782463,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689811387,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3060002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
Jan 29, 2026 10:30:11 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689811744_825 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3060000 -> child=3060002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3060000 -> 3060002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3060000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3060002 created from parent 3060000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3060000 -> child 3060002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3060002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3060002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3060002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3060002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3060002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1769689902463,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689782463,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689811283,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":104,"original_token":"{\"notAfter\":1769689902463,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689782463,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689811387,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3060003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3060000 -> child=3060003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3060000 -> 3060003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3060000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:11 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689811950_93 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3060003 created from parent 3060000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3060000 -> child 3060003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3060003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3060003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3060003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3060003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Scheduler returned pArgs: [3130000217, 3130000]
pArgs.get(0): 3130000217
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3130000217
sid: 3130000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3130000217 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:12 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689812370_904 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3060003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1769689902463,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689782463,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689811283,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":104,"original_token":"{\"notAfter\":1769689902463,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689782463,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689811387,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3060000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689810482 for seqID=3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689782463 for seqID=3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689810482
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689811103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689812397
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689782463
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 621ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1294ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 1915ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3060000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689904114,"tokenId":"3070000","data":{"condition":"chest pain","patientId":"P_Triage_3070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689784114,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689784114 for seqID=3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3070000 (tokenId=3070000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3070000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3070000 from PATIENT_ARRIVAL at 1769689784114 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3070000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3070000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3070000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3070000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3070000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3070000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3070000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3070000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689784114
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3070000] Database initialized
[TRIAGE_PLACE_3070000] No database setup needed - service ready
[TRIAGE_PLACE_3070000] TriageService initialized for sequence: 3070000
[TRIAGE_PLACE_3070000] TriageService instance created - nurse: RN_TRIAGE_931
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3070000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3070000] Received clean business data length: 271
[TRIAGE_PLACE_3070000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3070000] Processing assessment for sequence 3070000 with data: {"notAfter":1769689904114,"tokenId":"3070000","data":{"condition":"chest pain","patientId":"P_Triage_3070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689784114,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3070000] Preserved workflow_start_time: 1769689784114
[TRIAGE_PLACE_3070000] Parsed token: id=3070000, version=v003, place=TriageService
[TRIAGE_PLACE_3070000] Extracted: Patient=P_Triage_3070000, Indication=chest pain
[TRIAGE_PLACE_3070000] Processing specific triage assessment
[TRIAGE_PLACE_3070000] Patient condition: chest pain
[TRIAGE_PLACE_3070000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3070000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3070000] Condition: chest pain
[TRIAGE_PLACE_3070000] Priority: URGENT
[TRIAGE_PLACE_3070000] Pain Score: 9/10
[TRIAGE_PLACE_3070000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3070000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3070000] Processing Time: 1ms
[TRIAGE_PLACE_3070000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3070000] Assessment completed successfully
[TRIAGE_PLACE_3070000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 200ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3070000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1769689904114,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:13","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689784114,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689813733,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":200,"original_token":"{\"notAfter\":1769689904114,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689784114,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689813933,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3070000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3070000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3070000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070001 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3070000 -> child 3070001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3070001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3070001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
Jan 29, 2026 10:30:14 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689814242_755 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3070001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1769689904114,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:13","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689784114,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689813733,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":200,"original_token":"{\"notAfter\":1769689904114,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689784114,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689813933,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3070000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070002 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3070000 -> child 3070002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3070002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3070002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Jan 29, 2026 10:30:14 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689814540_852 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3070002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1769689904114,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:13","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689784114,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689813733,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":200,"original_token":"{\"notAfter\":1769689904114,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689784114,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689813933,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3070000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070003 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3070000 -> child 3070003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3070003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3070003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3070003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1769689904114,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:13","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689784114,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689813733,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":200,"original_token":"{\"notAfter\":1769689904114,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689784114,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689813933,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:30:15 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689815076_280 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3070000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689812496 for seqID=3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689784114 for seqID=3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689812496
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689813449
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689815092
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689784114
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 953ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1643ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2596ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3070000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689906304,"tokenId":"3080000","data":{"condition":"chest pain","patientId":"P_Triage_3080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689786304,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689786305 for seqID=3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3080000 (tokenId=3080000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [3140000076, 3140000]
pArgs.get(0): 3140000076
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3140000076
sid: 3140000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3140000076 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3080000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3080000 from PATIENT_ARRIVAL at 1769689786305 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3080000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3080000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3080000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3080000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3080000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3080000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3080000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3080000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689786304
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3080000] Database initialized
[TRIAGE_PLACE_3080000] No database setup needed - service ready
[TRIAGE_PLACE_3080000] TriageService initialized for sequence: 3080000
[TRIAGE_PLACE_3080000] TriageService instance created - nurse: RN_TRIAGE_803
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3080000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3080000] Received clean business data length: 271
[TRIAGE_PLACE_3080000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3080000] Processing assessment for sequence 3080000 with data: {"notAfter":1769689906304,"tokenId":"3080000","data":{"condition":"chest pain","patientId":"P_Triage_3080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689786304,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3080000] Preserved workflow_start_time: 1769689786304
[TRIAGE_PLACE_3080000] Parsed token: id=3080000, version=v003, place=TriageService
[TRIAGE_PLACE_3080000] Extracted: Patient=P_Triage_3080000, Indication=chest pain
[TRIAGE_PLACE_3080000] Processing specific triage assessment
[TRIAGE_PLACE_3080000] Patient condition: chest pain
[TRIAGE_PLACE_3080000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3080000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3080000] Condition: chest pain
[TRIAGE_PLACE_3080000] Priority: URGENT
[TRIAGE_PLACE_3080000] Pain Score: 8/10
[TRIAGE_PLACE_3080000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3080000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3080000] Processing Time: 0ms
[TRIAGE_PLACE_3080000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3080000] Assessment completed successfully
[TRIAGE_PLACE_3080000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 186ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3080000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1769689906304,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:16","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786304,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689816620,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":186,"original_token":"{\"notAfter\":1769689906304,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786304,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689816806,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3080000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3080000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3080000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080001 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3080000 -> child 3080001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3080001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3080001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Scheduler returned pArgs: [3150000395, 3150000]
pArgs.get(0): 3150000395
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3150000395
sid: 3150000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3150000395 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Jan 29, 2026 10:30:17 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689817606_502 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3080001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1769689906304,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:16","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786304,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689816620,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":186,"original_token":"{\"notAfter\":1769689906304,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786304,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689816806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3080000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080002 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3080000 -> child 3080002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3080002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3080002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3080002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1769689906304,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:16","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786304,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689816620,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":186,"original_token":"{\"notAfter\":1769689906304,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786304,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689816806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
Jan 29, 2026 10:30:18 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689818041_664 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080003 to RadiologyService.processImagingRequest (encoded: branch=3)
Scheduler returned pArgs: [3160000132, 3160000]
pArgs.get(0): 3160000132
queueAction: 43
MAXQUEUE: 50
costKeyTokenMap size before: 7
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3160000132
sid: 3160000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3160000132 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 8
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3080000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080003 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3080000 -> child 3080003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3080003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3080003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:18 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689818432_892 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3080003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1769689906304,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:16","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786304,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689816620,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":186,"original_token":"{\"notAfter\":1769689906304,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786304,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689816806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3080000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689815096 for seqID=3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689786305 for seqID=3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689815096
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689816218
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689818440
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689786305
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1122ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2222ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3344ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3080000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689906686,"tokenId":"3090000","data":{"condition":"chest pain","patientId":"P_Triage_3090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689786686,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689786688 for seqID=3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3090000 (tokenId=3090000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3090000 buffered at T_in_TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3090000 from PATIENT_ARRIVAL at 1769689786688 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3090000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3090000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3090000  -> TriageService [BUFFERED] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3090000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3090000 entering place: TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3090000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3090000  -> TriageService [ENTER] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3090000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689786686
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3090000] Database initialized
[TRIAGE_PLACE_3090000] No database setup needed - service ready
[TRIAGE_PLACE_3090000] TriageService initialized for sequence: 3090000
[TRIAGE_PLACE_3090000] TriageService instance created - nurse: RN_TRIAGE_937
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3090000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3090000] Received clean business data length: 271
[TRIAGE_PLACE_3090000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3090000] Processing assessment for sequence 3090000 with data: {"notAfter":1769689906686,"tokenId":"3090000","data":{"condition":"chest pain","patientId":"P_Triage_3090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689786686,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3090000] Preserved workflow_start_time: 1769689786686
[TRIAGE_PLACE_3090000] Parsed token: id=3090000, version=v003, place=TriageService
[TRIAGE_PLACE_3090000] Extracted: Patient=P_Triage_3090000, Indication=chest pain
[TRIAGE_PLACE_3090000] Processing specific triage assessment
[TRIAGE_PLACE_3090000] Patient condition: chest pain
[TRIAGE_PLACE_3090000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3090000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3090000] Condition: chest pain
[TRIAGE_PLACE_3090000] Priority: URGENT
[TRIAGE_PLACE_3090000] Pain Score: 7/10
[TRIAGE_PLACE_3090000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3090000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3090000] Processing Time: 0ms
[TRIAGE_PLACE_3090000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3090000] Assessment completed successfully
[TRIAGE_PLACE_3090000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 247ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3090000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1769689906686,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786686,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689820693,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":247,"original_token":"{\"notAfter\":1769689906686,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786686,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689820940,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3090000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3090000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3090000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090001 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3090000 -> child 3090001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3090001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3090001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3090001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1769689906686,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786686,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689820693,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":247,"original_token":"{\"notAfter\":1769689906686,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786686,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689820940,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3090000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:21 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689821330_913 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090002 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3090000 -> child 3090002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3090002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3090002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3090002 -> 'triageResults' to CardiologyService.processCardiacAssessment
Jan 29, 2026 10:30:21 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689821577_868 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1769689906686,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786686,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689820693,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":247,"original_token":"{\"notAfter\":1769689906686,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786686,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689820940,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3090000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090003 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3090000 -> child 3090003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3090003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3090003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:22 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689822523_714 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3090003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1769689906686,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689786686,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689820693,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":247,"original_token":"{\"notAfter\":1769689906686,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689786686,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689820940,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3090000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689818494 for seqID=3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689786688 for seqID=3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689818494
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689820419
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689822547
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689786688
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=7, Total=8, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1925ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2128ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 4053ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 14.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3090000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689908917,"tokenId":"3100000","data":{"condition":"chest pain","patientId":"P_Triage_3100000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689788917,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689788917 for seqID=3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3100000 (tokenId=3100000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3100000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3100000 from PATIENT_ARRIVAL at 1769689788917 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3100000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3100000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3100000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3100000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3100000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3100000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3100000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3100000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689788917
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3100000] Database initialized
[TRIAGE_PLACE_3100000] No database setup needed - service ready
[TRIAGE_PLACE_3100000] TriageService initialized for sequence: 3100000
[TRIAGE_PLACE_3100000] TriageService instance created - nurse: RN_TRIAGE_33
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3100000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3100000] Received clean business data length: 271
[TRIAGE_PLACE_3100000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3100000] Processing assessment for sequence 3100000 with data: {"notAfter":1769689908917,"tokenId":"3100000","data":{"condition":"chest pain","patientId":"P_Triage_3100000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689788917,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3100000] Preserved workflow_start_time: 1769689788917
[TRIAGE_PLACE_3100000] Parsed token: id=3100000, version=v003, place=TriageService
[TRIAGE_PLACE_3100000] Extracted: Patient=P_Triage_3100000, Indication=chest pain
[TRIAGE_PLACE_3100000] Processing specific triage assessment
[TRIAGE_PLACE_3100000] Patient condition: chest pain
[TRIAGE_PLACE_3100000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3100000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3100000] Condition: chest pain
[TRIAGE_PLACE_3100000] Priority: URGENT
[TRIAGE_PLACE_3100000] Pain Score: 7/10
[TRIAGE_PLACE_3100000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3100000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3100000] Processing Time: 0ms
[TRIAGE_PLACE_3100000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3100000] Assessment completed successfully
[TRIAGE_PLACE_3100000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 99ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3100000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1769689908917,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:25","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689788917,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689824945,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":99,"original_token":"{\"notAfter\":1769689908917,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689788917,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689825044,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3100000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3100000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3100000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100001 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3100000 -> child 3100001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3100001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3100001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:30:25 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689825355_783 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3100001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1769689908917,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:25","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689788917,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689824945,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":99,"original_token":"{\"notAfter\":1769689908917,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689788917,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689825044,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3100000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100002 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3100000 -> child 3100002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3100002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3100002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3100002 -> 'triageResults' to CardiologyService.processCardiacAssessment
Scheduler returned pArgs: [3170000677, 3170000]
pArgs.get(0): 3170000677
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3170000677
sid: 3170000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3170000677 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1769689908917,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:25","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689788917,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689824945,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":99,"original_token":"{\"notAfter\":1769689908917,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689788917,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689825044,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3100000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:25 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689825726_277 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100003 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3100000 -> child 3100003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3100003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3100003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:26 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689826352_149 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3100003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1769689908917,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:25","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689788917,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689824945,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":99,"original_token":"{\"notAfter\":1769689908917,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689788917,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689825044,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3100000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689822759 for seqID=3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689788917 for seqID=3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689822759
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689824679
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689826354
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689788917
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1920ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1675ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3595ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3100000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689911731,"tokenId":"3110000","data":{"condition":"chest pain","patientId":"P_Triage_3110000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689791731,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689791732 for seqID=3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3110000 (tokenId=3110000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3110000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3110000 from PATIENT_ARRIVAL at 1769689791732 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3110000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3110000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3110000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3110000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3110000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3110000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3110000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3110000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689791731
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3110000] Database initialized
[TRIAGE_PLACE_3110000] No database setup needed - service ready
[TRIAGE_PLACE_3110000] TriageService initialized for sequence: 3110000
[TRIAGE_PLACE_3110000] TriageService instance created - nurse: RN_TRIAGE_473
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3110000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3110000] Received clean business data length: 271
[TRIAGE_PLACE_3110000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3110000] Processing assessment for sequence 3110000 with data: {"notAfter":1769689911731,"tokenId":"3110000","data":{"condition":"chest pain","patientId":"P_Triage_3110000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689791731,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3110000] Preserved workflow_start_time: 1769689791731
[TRIAGE_PLACE_3110000] Parsed token: id=3110000, version=v003, place=TriageService
[TRIAGE_PLACE_3110000] Extracted: Patient=P_Triage_3110000, Indication=chest pain
[TRIAGE_PLACE_3110000] Processing specific triage assessment
[TRIAGE_PLACE_3110000] Patient condition: chest pain
[TRIAGE_PLACE_3110000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3110000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3110000] Condition: chest pain
[TRIAGE_PLACE_3110000] Priority: URGENT
[TRIAGE_PLACE_3110000] Pain Score: 8/10
[TRIAGE_PLACE_3110000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3110000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3110000] Processing Time: 0ms
[TRIAGE_PLACE_3110000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3110000] Assessment completed successfully
[TRIAGE_PLACE_3110000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 134ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3110000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1769689911731,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:28","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791731,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689828342,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":134,"original_token":"{\"notAfter\":1769689911731,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791731,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689828476,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3110000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3110000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3110000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110001 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3110000 -> child 3110001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3110001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3110001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:30:28 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689828826_418 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3110001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1769689911731,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:28","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791731,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689828342,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":134,"original_token":"{\"notAfter\":1769689911731,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791731,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689828476,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3110000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110002 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3110000 -> child 3110002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3110002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3110002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3110002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1769689911731,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:28","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791731,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689828342,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":134,"original_token":"{\"notAfter\":1769689911731,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791731,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689828476,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3110000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:29 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689829108_906 to 192.168.1.152:2103
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110003 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3110000 -> child 3110003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3110003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3110003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:29 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689829474_808 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3110003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1769689911731,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:28","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689791731,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689828342,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":134,"original_token":"{\"notAfter\":1769689911731,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689791731,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689828476,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3110000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689826457 for seqID=3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689791732 for seqID=3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689826457
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689828004
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689829475
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689791732
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1547ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1471ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3018ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3110000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689912865,"tokenId":"3120000","data":{"condition":"chest pain","patientId":"P_Triage_3120000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689792865,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689792865 for seqID=3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3120000 (tokenId=3120000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
Scheduler returned pArgs: [3180000758, 3180000]
pArgs.get(0): 3180000758
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3180000758
sid: 3180000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3180000758 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Scheduler returned pArgs: [3190000267, 3190000]
pArgs.get(0): 3190000267
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3190000267
sid: 3190000
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3120000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3190000267 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3120000 from PATIENT_ARRIVAL at 1769689792865 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3120000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3120000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3120000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3120000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3120000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3120000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3120000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3120000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689792865
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3120000] Database initialized
[TRIAGE_PLACE_3120000] No database setup needed - service ready
[TRIAGE_PLACE_3120000] TriageService initialized for sequence: 3120000
[TRIAGE_PLACE_3120000] TriageService instance created - nurse: RN_TRIAGE_763
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3120000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3120000] Received clean business data length: 271
[TRIAGE_PLACE_3120000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3120000] Processing assessment for sequence 3120000 with data: {"notAfter":1769689912865,"tokenId":"3120000","data":{"condition":"chest pain","patientId":"P_Triage_3120000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689792865,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3120000] Preserved workflow_start_time: 1769689792865
[TRIAGE_PLACE_3120000] Parsed token: id=3120000, version=v003, place=TriageService
[TRIAGE_PLACE_3120000] Extracted: Patient=P_Triage_3120000, Indication=chest pain
[TRIAGE_PLACE_3120000] Processing specific triage assessment
[TRIAGE_PLACE_3120000] Patient condition: chest pain
[TRIAGE_PLACE_3120000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3120000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3120000] Condition: chest pain
[TRIAGE_PLACE_3120000] Priority: URGENT
[TRIAGE_PLACE_3120000] Pain Score: 7/10
[TRIAGE_PLACE_3120000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3120000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3120000] Processing Time: 0ms
[TRIAGE_PLACE_3120000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3120000] Assessment completed successfully
[TRIAGE_PLACE_3120000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 107ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3120000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1769689912865,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:31","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689792865,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689831658,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1769689912865,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689792865,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689831765,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3120000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3120000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3120000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120001 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3120000 -> child 3120001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3120001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3120001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:30:32 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689832076_497 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3120001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1769689912865,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:31","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689792865,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689831658,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1769689912865,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689792865,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689831765,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3120000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120002 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3120000 -> child 3120002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3120002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3120002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3120002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1769689912865,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:31","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689792865,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689831658,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1769689912865,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689792865,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689831765,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3120000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120003 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3120000 -> child 3120003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3120003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3120003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Jan 29, 2026 10:30:32 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689832375_67 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3120003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1769689912865,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:31","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689792865,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689831658,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1769689912865,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689792865,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689831765,"status":"TRIAGE_COMPLETE"}}
Jan 29, 2026 10:30:32 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689832577_416 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3120000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689829608 for seqID=3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689792865 for seqID=3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689829608
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689831298
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689832827
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689792865
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1690ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1529ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3219ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3120000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689932063,"tokenId":"3130000","data":{"condition":"chest pain","patientId":"P_Triage_3130000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689812063,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689812063 for seqID=3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3130000 (tokenId=3130000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3130000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3130000 from PATIENT_ARRIVAL at 1769689812063 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3130000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3130000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3130000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3130000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3130000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3130000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3130000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3130000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689812063
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3130000] Database initialized
[TRIAGE_PLACE_3130000] No database setup needed - service ready
[TRIAGE_PLACE_3130000] TriageService initialized for sequence: 3130000
[TRIAGE_PLACE_3130000] TriageService instance created - nurse: RN_TRIAGE_647
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3130000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3130000] Received clean business data length: 271
[TRIAGE_PLACE_3130000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3130000] Processing assessment for sequence 3130000 with data: {"notAfter":1769689932063,"tokenId":"3130000","data":{"condition":"chest pain","patientId":"P_Triage_3130000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689812063,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3130000] Preserved workflow_start_time: 1769689812063
[TRIAGE_PLACE_3130000] Parsed token: id=3130000, version=v003, place=TriageService
[TRIAGE_PLACE_3130000] Extracted: Patient=P_Triage_3130000, Indication=chest pain
[TRIAGE_PLACE_3130000] Processing specific triage assessment
[TRIAGE_PLACE_3130000] Patient condition: chest pain
[TRIAGE_PLACE_3130000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3130000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3130000] Condition: chest pain
[TRIAGE_PLACE_3130000] Priority: URGENT
[TRIAGE_PLACE_3130000] Pain Score: 7/10
[TRIAGE_PLACE_3130000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3130000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3130000] Processing Time: 0ms
[TRIAGE_PLACE_3130000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3130000] Assessment completed successfully
[TRIAGE_PLACE_3130000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 307ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3130000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1769689932063,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689812063,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689834344,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":307,"original_token":"{\"notAfter\":1769689932063,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689812063,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689834651,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3130000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3130000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3130000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130001 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3130000 -> child 3130001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3130001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3130001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:30:35 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689835259_496 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3130001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1769689932063,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689812063,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689834344,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":307,"original_token":"{\"notAfter\":1769689932063,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689812063,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689834651,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3130000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130002 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3130000 -> child 3130002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3130002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3130002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Jan 29, 2026 10:30:35 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689835590_379 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3130002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1769689932063,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689812063,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689834344,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":307,"original_token":"{\"notAfter\":1769689932063,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689812063,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689834651,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3130000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130003 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3130000 -> child 3130003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3130003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3130003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3130003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1769689932063,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689812063,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689834344,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":307,"original_token":"{\"notAfter\":1769689932063,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689812063,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689834651,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3130000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689832837 for seqID=3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689812063 for seqID=3130000
Jan 29, 2026 10:30:35 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689835893_622 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689832837
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689833934
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689835894
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689812063
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1097ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1960ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3057ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3130000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689936068,"tokenId":"3140000","data":{"condition":"chest pain","patientId":"P_Triage_3140000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689816068,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689816068 for seqID=3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3140000 (tokenId=3140000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3140000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3140000 from PATIENT_ARRIVAL at 1769689816068 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3140000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3140000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3140000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3140000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3140000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3140000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3140000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3140000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689816068
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3140000] Database initialized
[TRIAGE_PLACE_3140000] No database setup needed - service ready
[TRIAGE_PLACE_3140000] TriageService initialized for sequence: 3140000
[TRIAGE_PLACE_3140000] TriageService instance created - nurse: RN_TRIAGE_70
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3140000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3140000] Received clean business data length: 271
[TRIAGE_PLACE_3140000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3140000] Processing assessment for sequence 3140000 with data: {"notAfter":1769689936068,"tokenId":"3140000","data":{"condition":"chest pain","patientId":"P_Triage_3140000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689816068,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3140000] Preserved workflow_start_time: 1769689816068
[TRIAGE_PLACE_3140000] Parsed token: id=3140000, version=v003, place=TriageService
[TRIAGE_PLACE_3140000] Extracted: Patient=P_Triage_3140000, Indication=chest pain
[TRIAGE_PLACE_3140000] Processing specific triage assessment
[TRIAGE_PLACE_3140000] Patient condition: chest pain
[TRIAGE_PLACE_3140000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3140000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3140000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3140000] Condition: chest pain
[TRIAGE_PLACE_3140000] Priority: URGENT
[TRIAGE_PLACE_3140000] Pain Score: 7/10
[TRIAGE_PLACE_3140000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3140000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3140000] Processing Time: 0ms
[TRIAGE_PLACE_3140000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3140000] Assessment completed successfully
[TRIAGE_PLACE_3140000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 208ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3140000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1769689936068,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:39","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689816068,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689838864,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":208,"original_token":"{\"notAfter\":1769689936068,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689816068,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689839072,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3140000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3140000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3140000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3140000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Jan 29, 2026 10:30:39 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1769689839376_257 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3140000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1769689936068,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:39","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689816068,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689838864,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":208,"original_token":"{\"notAfter\":1769689936068,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689816068,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689839072,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689835948 for seqID=3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689816068 for seqID=3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689835948
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689838555
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689839377
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689816068
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 2607ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 822ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3429ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3140000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689937368,"tokenId":"3150000","data":{"condition":"chest pain","patientId":"P_Triage_3150000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689817368,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689817369 for seqID=3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3150000 (tokenId=3150000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3150000 buffered at T_in_TriageService (buffer=4)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3150000 from PATIENT_ARRIVAL at 1769689817369 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3150000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3150000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3150000  -> TriageService [BUFFERED] buffer=4
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3150000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3150000 entering place: TriageService (buffer=4)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3150000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3150000  -> TriageService [ENTER] buffer=4
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3150000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689817368
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3150000] Database initialized
[TRIAGE_PLACE_3150000] No database setup needed - service ready
[TRIAGE_PLACE_3150000] TriageService initialized for sequence: 3150000
[TRIAGE_PLACE_3150000] TriageService instance created - nurse: RN_TRIAGE_225
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3150000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3150000] Received clean business data length: 271
[TRIAGE_PLACE_3150000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3150000] Processing assessment for sequence 3150000 with data: {"notAfter":1769689937368,"tokenId":"3150000","data":{"condition":"chest pain","patientId":"P_Triage_3150000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689817368,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3150000] Preserved workflow_start_time: 1769689817368
[TRIAGE_PLACE_3150000] Parsed token: id=3150000, version=v003, place=TriageService
[TRIAGE_PLACE_3150000] Extracted: Patient=P_Triage_3150000, Indication=chest pain
[TRIAGE_PLACE_3150000] Processing specific triage assessment
[TRIAGE_PLACE_3150000] Patient condition: chest pain
[TRIAGE_PLACE_3150000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3150000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3150000] Condition: chest pain
[TRIAGE_PLACE_3150000] Priority: URGENT
[TRIAGE_PLACE_3150000] Pain Score: 8/10
[TRIAGE_PLACE_3150000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3150000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3150000] Processing Time: 1ms
[TRIAGE_PLACE_3150000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3150000] Assessment completed successfully
[TRIAGE_PLACE_3150000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 412ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3150000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1769689937368,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689817368,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689840816,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":412,"original_token":"{\"notAfter\":1769689937368,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689817368,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689841228,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3150000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3150000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3150000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3150000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3150001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3150000 -> child=3150001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3150000 -> 3150001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3150000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3150001 created from parent 3150000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3150000 -> child 3150001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3150001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3150001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3150001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3150001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3150001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1769689937368,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689817368,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689840816,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":412,"original_token":"{\"notAfter\":1769689937368,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689817368,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689841228,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3150002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3150000 -> child=3150002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3150000 -> 3150002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3150000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:41 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689841833_365 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3150002 created from parent 3150000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3150000 -> child 3150002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3150002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3150002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3150002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3150002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Jan 29, 2026 10:30:42 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689842147_333 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3150002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1769689937368,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689817368,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689840816,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":412,"original_token":"{\"notAfter\":1769689937368,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689817368,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689841228,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3150003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3150000 -> child=3150003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3150000 -> 3150003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3150000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3150003 created from parent 3150000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3150000 -> child 3150003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3150003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3150003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3150003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3150003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Jan 29, 2026 10:30:42 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689842768_493 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3150003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1769689937368,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689817368,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689840816,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":412,"original_token":"{\"notAfter\":1769689937368,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689817368,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689841228,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3150000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689839453 for seqID=3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689817369 for seqID=3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689839453
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689840419
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689842773
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689817369
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=4, Total=5, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 966ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2354ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3320ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 8.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3150000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689938070,"tokenId":"3160000","data":{"condition":"chest pain","patientId":"P_Triage_3160000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689818070,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689818070 for seqID=3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3160000 (tokenId=3160000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3160000 buffered at T_in_TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3160000 from PATIENT_ARRIVAL at 1769689818070 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3160000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3160000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3160000  -> TriageService [BUFFERED] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3160000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3160000 entering place: TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3160000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3160000  -> TriageService [ENTER] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3160000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689818070
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3160000] Database initialized
[TRIAGE_PLACE_3160000] No database setup needed - service ready
[TRIAGE_PLACE_3160000] TriageService initialized for sequence: 3160000
[TRIAGE_PLACE_3160000] TriageService instance created - nurse: RN_TRIAGE_673
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3160000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3160000] Received clean business data length: 271
[TRIAGE_PLACE_3160000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3160000] Processing assessment for sequence 3160000 with data: {"notAfter":1769689938070,"tokenId":"3160000","data":{"condition":"chest pain","patientId":"P_Triage_3160000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689818070,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3160000] Preserved workflow_start_time: 1769689818070
[TRIAGE_PLACE_3160000] Parsed token: id=3160000, version=v003, place=TriageService
[TRIAGE_PLACE_3160000] Extracted: Patient=P_Triage_3160000, Indication=chest pain
[TRIAGE_PLACE_3160000] Processing specific triage assessment
[TRIAGE_PLACE_3160000] Patient condition: chest pain
[TRIAGE_PLACE_3160000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3160000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3160000] Condition: chest pain
[TRIAGE_PLACE_3160000] Priority: URGENT
[TRIAGE_PLACE_3160000] Pain Score: 7/10
[TRIAGE_PLACE_3160000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3160000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3160000] Processing Time: 1ms
[TRIAGE_PLACE_3160000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3160000] Assessment completed successfully
[TRIAGE_PLACE_3160000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 473ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3160000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1769689938070,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689818070,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689844305,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":473,"original_token":"{\"notAfter\":1769689938070,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689818070,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689844778,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3160000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3160000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3160000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160001 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3160000 -> child 3160001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3160001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3160001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3160001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1769689938070,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689818070,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689844305,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":473,"original_token":"{\"notAfter\":1769689938070,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689818070,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689844778,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3160000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:45 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689845192_967 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160002 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3160000 -> child 3160002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3160002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3160002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3160002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1769689938070,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689818070,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689844305,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":473,"original_token":"{\"notAfter\":1769689938070,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689818070,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689844778,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3160000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Jan 29, 2026 10:30:45 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689845508_598 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160003 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3160000 -> child 3160003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3160003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3160003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Received rule payload packet.....for operation: collectAllData<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v001</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_CollectorService</serviceName>
		<operationName>collectAllData</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>EdgeNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>writeCollectorData</Ind><Ind>EDGE_NODE</Ind><Ind></Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3160003 -> 'triageResults' to RadiologyService.processImagingRequest
Rule Handler received from 192.168.1.152:56682 - payload length: 782
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v001</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_CollectorService</serviceName>
		<operationName>collectAllData</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>EdgeNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>writeCollectorData</Ind><Ind>EDGE_NODE</Ind><Ind></Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
Jan 29, 2026 10:30:46 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689846391_132 to 192.168.1.152:2101
CreatFile: file deleted
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1769689938070,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689818070,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689844305,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":473,"original_token":"{\"notAfter\":1769689938070,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689818070,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689844778,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3160000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689842868 for seqID=3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689818070 for seqID=3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689842868
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689843850
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689846393
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689818070
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=3, Total=4, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 982ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2543ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3525ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 6.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3160000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689945670,"tokenId":"3170000","data":{"condition":"chest pain","patientId":"P_Triage_3170000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689825670,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689825670 for seqID=3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3170000 (tokenId=3170000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
Searching in: C:\DevShare\BTSN_86\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_CollectorService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_86\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Processing binding file: C:\DevShare\BTSN_86\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_CollectorService-CanonicalBindings.ruleml.xml
Processing control Node file.... Triage_CollectorService-ControlNodeRules.ruleml.xml
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3170000 buffered at T_in_TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3170000 from PATIENT_ARRIVAL at 1769689825670 -> TriageService
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35001
Converted XML to simple format: CONFIRMED:v001:4
Sent commitment response: CONFIRMED:v001:4 to 192.168.1.152:35001
Sent acknowledgment to 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3170000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3170000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3170000  -> TriageService [BUFFERED] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3170000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3170000 entering place: TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3170000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3170000  -> TriageService [ENTER] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3170000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689825670
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3170000] Database initialized
[TRIAGE_PLACE_3170000] No database setup needed - service ready
[TRIAGE_PLACE_3170000] TriageService initialized for sequence: 3170000
[TRIAGE_PLACE_3170000] TriageService instance created - nurse: RN_TRIAGE_798
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3170000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3170000] Received clean business data length: 271
[TRIAGE_PLACE_3170000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3170000] Processing assessment for sequence 3170000 with data: {"notAfter":1769689945670,"tokenId":"3170000","data":{"condition":"chest pain","patientId":"P_Triage_3170000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689825670,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3170000] Preserved workflow_start_time: 1769689825670
[TRIAGE_PLACE_3170000] Parsed token: id=3170000, version=v003, place=TriageService
[TRIAGE_PLACE_3170000] Extracted: Patient=P_Triage_3170000, Indication=chest pain
[TRIAGE_PLACE_3170000] Processing specific triage assessment
[TRIAGE_PLACE_3170000] Patient condition: chest pain
[TRIAGE_PLACE_3170000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3170000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3170000] Condition: chest pain
[TRIAGE_PLACE_3170000] Priority: URGENT
[TRIAGE_PLACE_3170000] Pain Score: 7/10
[TRIAGE_PLACE_3170000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3170000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3170000] Processing Time: 0ms
[TRIAGE_PLACE_3170000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3170000] Assessment completed successfully
[TRIAGE_PLACE_3170000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 317ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3170000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1769689945670,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:48","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689825670,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689848483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":317,"original_token":"{\"notAfter\":1769689945670,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689825670,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689848800,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3170000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3170000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3170000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170001 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3170000 -> child 3170001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3170001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3170001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Jan 29, 2026 10:30:49 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1769689849399_137 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3170001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1769689945670,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:48","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689825670,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689848483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":317,"original_token":"{\"notAfter\":1769689945670,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689825670,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689848800,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3170000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170002 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3170000 -> child 3170002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3170002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3170002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Jan 29, 2026 10:30:49 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1769689849762_480 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3170002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1769689945670,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:48","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689825670,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689848483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":317,"original_token":"{\"notAfter\":1769689945670,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689825670,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689848800,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3170000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170003 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3161) - PETRI-NET: FORK 3170000 -> child 3170003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3170003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2056) - FORK: Updated payload sequenceId/tokenId to 3170003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3170003 -> 'triageResults' to RadiologyService.processImagingRequest
Jan 29, 2026 10:30:50 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1769689850340_109 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1769689945670,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-01-29 22:30:48","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689825670,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1769689848483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":317,"original_token":"{\"notAfter\":1769689945670,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689825670,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689848800,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3170000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689846516 for seqID=3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689825670 for seqID=3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689846516
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689848000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689850341
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689825670
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=2, Total=3, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 1484ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 2341ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 3825ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 4.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3170000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689949691,"tokenId":"3180000","data":{"condition":"chest pain","patientId":"P_Triage_3180000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689829691,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689829692 for seqID=3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3180000 (tokenId=3180000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
Maximum Buffer size seen is = 1
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3180000 buffered at T_in_TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Scheduler returned pArgs: [1000000344, 1000000]
pArgs.get(0): 1000000344
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 1000000344
sid: 1000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 1000000344 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"token":"workflow_1000000_v001"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689852083 for seqID=1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:531) - Incoming Sequence ID = 1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:548) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:563) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 1000000 (tokenId=1000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:596) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3180000 from PATIENT_ARRIVAL at 1769689829692 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3180000 eventType=GENERATED
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:604) - DEBUG: Loaded knowledge base length: 13646
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:605) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v001</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3180000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3180000  -> TriageService [BUFFERED] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3180000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3180000 entering place: TriageService (buffer=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2409) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2508) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3180000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3180000  -> TriageService [ENTER] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3180000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
Scheduler returned pArgs: [2000000301, 2000000]
pArgs.get(0): 2000000301
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2000000301
sid: 2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 2000000301 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689829691
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 1000000 buffered at T_in_Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=1000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=1000000  -> Triage_CollectorService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3095) - PETRI-NET: Token 1000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 1000000 entering place: Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=1000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=1000000  -> Triage_CollectorService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3101) - PETRI-NET: Token 1000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:673) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1239) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
Maximum Buffer size seen is = 2
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2403) - CANONICAL-BINDING: Current attribute 'token' not found in canonical binding
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2133) - ORCHESTRATOR: No single-input canonical binding - proceeding with normal service call
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2134) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (normal)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3000000849, 3000000]
pArgs.get(0): 3000000849
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3000000849
sid: 3000000
Triage_CollectorService initialized with context: 1000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version: v001
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version(s): [v001]
Triage_CollectorService: Collecting data for version: v001
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 3000000849 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Triage_CollectorService:   v001 - 28 timing records
Triage_CollectorService:   v001 - 28 marking records
Triage_CollectorService: TOTAL 28 timing records across 1 version(s)
Triage_CollectorService: TOTAL 28 marking records across 1 version(s)
Triage_CollectorService: Generated response (16077 chars)
Performance data collected: 28 timing records, 28 marking records
Collecting Petri Net data...
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version(s): [v001]
Triage_CollectorService: Collecting Petri Net data for version: v001
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v001' length=4
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Triage_CollectorService:   v001 - 0 transition firings
Triage_CollectorService:   v001 - 0 token paths
Triage_CollectorService:   v001 - 0 marking snapshots
Triage_CollectorService:   v001 - 0 statistics records
Triage_CollectorService:   v001 - 48 genealogy records
Triage_CollectorService: TOTAL 0 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 0 token path records across 1 version(s)
Triage_CollectorService: TOTAL 0 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 0 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 48 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (7377 chars)
Petri Net data collected: 0 firings, 0 paths, 0 markings, 0 statistics
Triage_CollectorService: Generated unified response (23166 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 445ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":0,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]}},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Triage_CollectorService","collectionTime":1769689853851,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocati[TRIAGE_PLACE_3180000] Database initialized
[TRIAGE_PLACE_3180000] No database setup needed - service ready
onTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":28,"markingRecordCount":28},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
[TRIAGE_PLACE_3180000] TriageService initialized for sequence: 3180000
[TRIAGE_PLACE_3180000] TriageService instance created - nurse: RN_TRIAGE_327
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3180000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3180000] Received clean business data length: 271
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 1000000 exiting place: Triage_CollectorService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
[TRIAGE_PLACE_3180000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3180000] Processing assessment for sequence 3180000 with data: {"notAfter":1769689949691,"tokenId":"3180000","data":{"condition":"chest pain","patientId":"P_Triage_3180000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689829691,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3180000] Preserved workflow_start_time: 1769689829691
[TRIAGE_PLACE_3180000] Parsed token: id=3180000, version=v003, place=TriageService
[TRIAGE_PLACE_3180000] Extracted: Patient=P_Triage_3180000, Indication=chest pain
[TRIAGE_PLACE_3180000] Processing specific triage assessment
[TRIAGE_PLACE_3180000] Patient condition: chest pain
[TRIAGE_PLACE_3180000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3180000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3180000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3180000] Condition: chest pain
[TRIAGE_PLACE_3180000] Priority: URGENT
[TRIAGE_PLACE_3180000] Pain Score: 9/10
[TRIAGE_PLACE_3180000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3180000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3180000] Processing Time: 1ms
[TRIAGE_PLACE_3180000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=1000000 eventType=EXIT
[TRIAGE_PLACE_3180000] Assessment completed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=1000000 Triage_CollectorService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
[TRIAGE_PLACE_3180000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 800ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3180000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1769689949691,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:54","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689829691,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689853568,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":800,"original_token":"{\"notAfter\":1769689949691,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689829691,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689854368,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3136) - PETRI-NET: Token 1000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3180000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3180000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2739) - ROUTING: Token 1000000 -> 'token' to MonitorService.writeCollectorData
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3180000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3180000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":0,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]}},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Triage_CollectorService","collectionTime":1769689853851,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocationTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":28,"markingRecordCount":28},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3180000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1769689949691,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:54","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689829691,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689853568,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":800,"original_token":"{\"notAfter\":1769689949691,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689829691,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689854368,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689850471 for seqID=3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689829692 for seqID=3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
Jan 29, 2026 10:30:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689854769_151 to 192.168.1.152:3002
Jan 29, 2026 10:30:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (24272 bytes) exceeds limit, using chunked transfer
Jan 29, 2026 10:30:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1769689854860_785 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689850471
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689853142
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689854861
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689829692
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=1, Total=2, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 2671ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1719ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 4390ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 2.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3180000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"notAfter":1769689950946,"tokenId":"3190000","data":{"condition":"chest pain","patientId":"P_Triage_3190000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689830946,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689830946 for seqID=3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:531) - Incoming Sequence ID = 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:532) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:548) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:563) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3190000 (tokenId=3190000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3190000 buffered at T_in_TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3190000 from PATIENT_ARRIVAL at 1769689830946 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3190000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3190000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3190000  -> TriageService [BUFFERED] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3095) - PETRI-NET: Token 3190000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3190000 entering place: TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3190000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3190000  -> TriageService [ENTER] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3101) - PETRI-NET: Token 3190000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:673) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1239) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1586) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Jan 29, 2026 10:30:55 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (24272 bytes) into 4 chunks of ~7892 bytes each
Jan 29, 2026 10:30:55 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: 8eb56015-1e3f-473d-b837-1196317fbb48
Jan 29, 2026 10:30:55 PM org.btsn.handlers.EventPublisher publishDirectly
INFO: EventPublisher: Created shared socket on port 56695
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2399) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2409) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1769689830946
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1291) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 1000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 1000000 complete.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"token":"workflow_2000000_v002"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689853062 for seqID=2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:531) - Incoming Sequence ID = 2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:532) - MonitorIncomingEvents+ = false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:548) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:563) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 2000000 (tokenId=2000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v001
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
Jan 29, 2026 10:30:55 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 4 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689854769_151
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2409) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 2000000 buffered at T_in_Triage_CollectorService (buffer=1)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=2000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=2000000  -> Triage_CollectorService [BUFFERED] buffer=1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3095) - PETRI-NET: Token 2000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 2000000 entering place: Triage_CollectorService (buffer=1)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=2000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=2000000  -> Triage_CollectorService [ENTER] buffer=1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3101) - PETRI-NET: Token 2000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:673) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1239) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2409) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling Triage_CollectorService.collectAllData immediately
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (canonical binding)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Triage_CollectorService initialized with context: 2000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version: v002
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version(s): [v002]
Triage_CollectorService: Collecting data for version: v002
[TRIAGE_PLACE_3190000] Database initialized
[TRIAGE_PLACE_3190000] No database setup needed - service ready
[TRIAGE_PLACE_3190000] TriageService initialized for sequence: 3190000
[TRIAGE_PLACE_3190000] TriageService instance created - nurse: RN_TRIAGE_806
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3190000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3190000] Received clean business data length: 271
[TRIAGE_PLACE_3190000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3190000] Processing assessment for sequence 3190000 with data: {"notAfter":1769689950946,"tokenId":"3190000","data":{"condition":"chest pain","patientId":"P_Triage_3190000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1769689830946,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3190000] Preserved workflow_start_time: 1769689830946
[TRIAGE_PLACE_3190000] Parsed token: id=3190000, version=v003, place=TriageService
[TRIAGE_PLACE_3190000] Extracted: Patient=P_Triage_3190000, Indication=chest pain
[TRIAGE_PLACE_3190000] Processing specific triage assessment
[TRIAGE_PLACE_3190000] Patient condition: chest pain
[TRIAGE_PLACE_3190000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3190000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3190000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3190000] Condition: chest pain
[TRIAGE_PLACE_3190000] Priority: URGENT
[TRIAGE_PLACE_3190000] Pain Score: 9/10
[TRIAGE_PLACE_3190000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3190000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3190000] Processing Time: 1ms
[TRIAGE_PLACE_3190000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3190000] Assessment completed successfully
[TRIAGE_PLACE_3190000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 997ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3190000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1769689950946,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:56","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689830946,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689855843,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":997,"original_token":"{\"notAfter\":1769689950946,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689830946,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689856840,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3190000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3190000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3190000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3136) - PETRI-NET: Token 3190000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2658) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Triage_CollectorService:   v002 - 29 timing records
Triage_CollectorService:   v002 - 29 marking records
Triage_CollectorService: TOTAL 29 timing records across 1 version(s)
Triage_CollectorService: TOTAL 29 marking records across 1 version(s)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Triage_CollectorService: Generated response (16639 chars)
Performance data collected: 29 timing records, 29 marking records
Collecting Petri Net data...
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version(s): [v002]
Triage_CollectorService: Collecting Petri Net data for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1367) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2739) - ROUTING: Token 3190000 -> 'triageResults' to TreatmentService.executeDirectTreatment
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v002' length=4
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1769689950946,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-01-29 22:30:56","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1769689830946,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1769689855843,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":997,"original_token":"{\"notAfter\":1769689950946,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1769689830946,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1769689856840,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1769689857114_656 to 192.168.1.152:2107
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1291) - monitorIncomingEvents: true
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2805) - TIMING: EventReactor arrival time not found, using ServiceThread dequeue time=1769689854899 for seqID=3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - WRITE: Using captured workflowStartTime=1769689830946 for seqID=3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2837) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2838) -   Sequence ID: 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2839) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2840) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2841) -   Arrival Time (EventReactor): 1769689854899
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2842) -   Invocation Time: 1769689855612
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2843) -   Publish Time: 1769689857196
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2844) -   Workflow Start Time: 1769689830946
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2845) -   MARKING: Buffer=0, Total=1, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2847) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Queue Time (including priority queue): 713ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   Service Time: 1584ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2861) -   Total Time: 2297ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2862) -   Buffer Utilization: 0.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Service TriageService sequence ID: 3190000 complete.
Triage_CollectorService:   v002 - 40 transition firings
Triage_CollectorService:   v002 - 20 token paths
Triage_CollectorService:   v002 - 30 marking snapshots
Triage_CollectorService:   v002 - 1 statistics records
Triage_CollectorService:   v002 - 48 genealogy records
Triage_CollectorService: TOTAL 40 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 20 token path records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 1 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 48 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (26148 chars)
Petri Net data collected: 40 firings, 20 paths, 30 markings, 1 statistics
Triage_CollectorService: Generated unified response (42499 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 558ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":40,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]},"2000000":{"markingEvolution":[{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689786037,"bufferSize":6},{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689786046,"bufferSize":6},{"marking":0,"tokenId":2000000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689788053,"bufferSize":0},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689789696,"bufferSize":7},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689789714,"bufferSize":7},{"marking":0,"tokenId":2010000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689790353,"bufferSize":0},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689791084,"bufferSize":8},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689791095,"bufferSize":8},{"marking":0,"tokenId":2020000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689791981,"bufferSize":0},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689793356,"bufferSize":9},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689793365,"bufferSize":9},{"marking":0,"tokenId":2030000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689794288,"bufferSize":0},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689798184,"bufferSize":9},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689798201,"bufferSize":9},{"marking":0,"tokenId":2040000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689798682,"bufferSize":0},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689799565,"bufferSize":9},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689799580,"bufferSize":9},{"marking":0,"tokenId":2050000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689800070,"bufferSize":0},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689801070,"bufferSize":9},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689801078,"bufferSize":9},{"marking":0,"tokenId":2060000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689801502,"bufferSize":0},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689805022,"bufferSize":8},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689805031,"bufferSize":8},{"marking":0,"tokenId":2070000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806006,"bufferSize":0},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689806571,"bufferSize":8},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689806577,"bufferSize":8},{"marking":0,"tokenId":2080000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806892,"bufferSize":0},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689809796,"bufferSize":7},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689809804,"bufferSize":7},{"marking":0,"tokenId":2090000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689810276,"bufferSize":0}],"tokenGenealogy":[],"tokenPaths":[{"entryTime":1769689786037,"exitTime":1769689788053,"residenceTime":2016,"entryBufferSize":6,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689786046,"exitTime":1769689788053,"residenceTime":2007,"entryBufferSize":6,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689789696,"exitTime":1769689790353,"residenceTime":657,"entryBufferSize":7,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689789714,"exitTime":1769689790353,"residenceTime":639,"entryBufferSize":7,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689791084,"exitTime":1769689791981,"residenceTime":897,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689791095,"exitTime":1769689791981,"residenceTime":886,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689793356,"exitTime":1769689794288,"residenceTime":932,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689793365,"exitTime":1769689794288,"residenceTime":923,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689798184,"exitTime":1769689798682,"residenceTime":498,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689798201,"exitTime":1769689798682,"residenceTime":481,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689799565,"exitTime":1769689800070,"residenceTime":505,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689799580,"exitTime":1769689800070,"residenceTime":490,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689801070,"exitTime":1769689801502,"residenceTime":432,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689801078,"exitTime":1769689801502,"residenceTime":424,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689805022,"exitTime":1769689806006,"residenceTime":984,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689805031,"exitTime":1769689806006,"residenceTime":975,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689806571,"exitTime":1769689806892,"residenceTime":321,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689806577,"exitTime":1769689806892,"residenceTime":315,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689809796,"exitTime":1769689810276,"residenceTime":480,"entryBufferSize":7,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689809804,"exitTime":1769689810276,"residenceTime":472,"entryBufferSize":7,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":2000000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689779873,"bufferSize":0},{"tokenId":2010000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689783539,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689786037,"bufferSize":6},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689786046,"bufferSize":6},{"tokenId":2000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689788053,"bufferSize":0},{"tokenId":2020000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689789168,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689789696,"bufferSize":7},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689789714,"bufferSize":7},{"tokenId":2010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689790353,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689791084,"bufferSize":8},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689791095,"bufferSize":8},{"tokenId":2030000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689791793,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689791981,"bufferSize":0},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689793356,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689793365,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689794288,"bufferSize":0},{"tokenId":2040000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689795142,"bufferSize":0},{"tokenId":2050000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689797525,"bufferSize":0},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689798184,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689798201,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689798682,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689799565,"bufferSize":9},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689799580,"bufferSize":9},{"tokenId":2060000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689799747,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689800070,"bufferSize":0},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689801070,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689801078,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689801502,"bufferSize":0},{"tokenId":2070000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689802602,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689805022,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689805031,"bufferSize":8},{"tokenId":2080000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689805052,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806006,"bufferSize":0},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689806571,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689806577,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806892,"bufferSize":0},{"tokenId":2090000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689807340,"bufferSize":0},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689809796,"bufferSize":7},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689809804,"bufferSize":7},{"tokenId":2090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689810276,"bufferSize":0}],"statistics":[{"avgResidenceTime":766.0,"minResidenceTime":315,"maxBufferSize":9,"tokenCount":20,"maxResidenceTime":2016,"workflowBase":2000000,"throughput":1.3054830287206267,"placeName":"TriageService","avgBufferSize":8.0}]}},"pathRecordCount":20,"statisticsRecordCount":1,"markingRecordCount":30},"reportingService":"Triage_CollectorService","collectionTime":1769689856754,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689829692":[{"maxQueueCapacity":50,"arrivalTime":1769689850471,"totalTime":4390,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":1719,"queueTime":2671,"bufferSize":1}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocationTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689829692":[{"publishTime":1769689854861,"maxQueueCapacity":50,"arrivalTime":1769689850471,"invocationTime":1769689853142,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":29,"markingRecordCount":29},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 2000000 exiting place: Triage_CollectorService -> MonitorService [arc=$ANON11]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=2000000 eventType=EXIT
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=2000000 Triage_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3136) - PETRI-NET: Token 2000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2739) - ROUTING: Token 2000000 -> 'token' to MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":40,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]},"2000000":{"markingEvolution":[{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689786037,"bufferSize":6},{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689786046,"bufferSize":6},{"marking":0,"tokenId":2000000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689788053,"bufferSize":0},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689789696,"bufferSize":7},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689789714,"bufferSize":7},{"marking":0,"tokenId":2010000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689790353,"bufferSize":0},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689791084,"bufferSize":8},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689791095,"bufferSize":8},{"marking":0,"tokenId":2020000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689791981,"bufferSize":0},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689793356,"bufferSize":9},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689793365,"bufferSize":9},{"marking":0,"tokenId":2030000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689794288,"bufferSize":0},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689798184,"bufferSize":9},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689798201,"bufferSize":9},{"marking":0,"tokenId":2040000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689798682,"bufferSize":0},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689799565,"bufferSize":9},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689799580,"bufferSize":9},{"marking":0,"tokenId":2050000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689800070,"bufferSize":0},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689801070,"bufferSize":9},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689801078,"bufferSize":9},{"marking":0,"tokenId":2060000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689801502,"bufferSize":0},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689805022,"bufferSize":8},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689805031,"bufferSize":8},{"marking":0,"tokenId":2070000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806006,"bufferSize":0},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689806571,"bufferSize":8},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689806577,"bufferSize":8},{"marking":0,"tokenId":2080000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806892,"bufferSize":0},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689809796,"bufferSize":7},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689809804,"bufferSize":7},{"marking":0,"tokenId":2090000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689810276,"bufferSize":0}],"tokenGenealogy":[],"tokenPaths":[{"entryTime":1769689786037,"exitTime":1769689788053,"residenceTime":2016,"entryBufferSize":6,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689786046,"exitTime":1769689788053,"residenceTime":2007,"entryBufferSize":6,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689789696,"exitTime":1769689790353,"residenceTime":657,"entryBufferSize":7,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689789714,"exitTime":1769689790353,"residenceTime":639,"entryBufferSize":7,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689791084,"exitTime":1769689791981,"residenceTime":897,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689791095,"exitTime":1769689791981,"residenceTime":886,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689793356,"exitTime":1769689794288,"residenceTime":932,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689793365,"exitTime":1769689794288,"residenceTime":923,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689798184,"exitTime":1769689798682,"residenceTime":498,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689798201,"exitTime":1769689798682,"residenceTime":481,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689799565,"exitTime":1769689800070,"residenceTime":505,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689799580,"exitTime":1769689800070,"residenceTime":490,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689801070,"exitTime":1769689801502,"residenceTime":432,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689801078,"exitTime":1769689801502,"residenceTime":424,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689805022,"exitTime":1769689806006,"residenceTime":984,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689805031,"exitTime":1769689806006,"residenceTime":975,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689806571,"exitTime":1769689806892,"residenceTime":321,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689806577,"exitTime":1769689806892,"residenceTime":315,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689809796,"exitTime":1769689810276,"residenceTime":480,"entryBufferSize":7,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1769689809804,"exitTime":1769689810276,"residenceTime":472,"entryBufferSize":7,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":2000000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689779873,"bufferSize":0},{"tokenId":2010000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689783539,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689786037,"bufferSize":6},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689786046,"bufferSize":6},{"tokenId":2000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689788053,"bufferSize":0},{"tokenId":2020000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689789168,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689789696,"bufferSize":7},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689789714,"bufferSize":7},{"tokenId":2010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689790353,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689791084,"bufferSize":8},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689791095,"bufferSize":8},{"tokenId":2030000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689791793,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689791981,"bufferSize":0},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689793356,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689793365,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689794288,"bufferSize":0},{"tokenId":2040000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689795142,"bufferSize":0},{"tokenId":2050000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689797525,"bufferSize":0},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689798184,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689798201,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689798682,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689799565,"bufferSize":9},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689799580,"bufferSize":9},{"tokenId":2060000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689799747,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689800070,"bufferSize":0},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689801070,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689801078,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689801502,"bufferSize":0},{"tokenId":2070000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689802602,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689805022,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689805031,"bufferSize":8},{"tokenId":2080000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689805052,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806006,"bufferSize":0},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689806571,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689806577,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689806892,"bufferSize":0},{"tokenId":2090000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689807340,"bufferSize":0},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689809796,"bufferSize":7},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689809804,"bufferSize":7},{"tokenId":2090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689810276,"bufferSize":0}],"statistics":[{"avgResidenceTime":766.0,"minResidenceTime":315,"maxBufferSize":9,"tokenCount":20,"maxResidenceTime":2016,"workflowBase":2000000,"throughput":1.3054830287206267,"placeName":"TriageService","avgBufferSize":8.0}]}},"pathRecordCount":20,"statisticsRecordCount":1,"markingRecordCount":30},"reportingService":"Triage_CollectorService","collectionTime":1769689856754,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689829692":[{"maxQueueCapacity":50,"arrivalTime":1769689850471,"totalTime":4390,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":1719,"queueTime":2671,"bufferSize":1}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocationTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689829692":[{"publishTime":1769689854861,"maxQueueCapacity":50,"arrivalTime":1769689850471,"invocationTime":1769689853142,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":29,"markingRecordCount":29},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689857660_109 to 192.168.1.152:3002
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (43605 bytes) exceeds limit, using chunked transfer
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (43605 bytes) into 6 chunks of ~7892 bytes each
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: 5b39b95e-2d86-4f80-80ce-884b9360401f
Jan 29, 2026 10:30:57 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 6 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689857660_109
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1291) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 2000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 2000000 complete.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:474) - ORCHESTRATOR: Processing:: token = {"token":"workflow_3000000_v003"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:518) - CAPTURE: WorkflowStartTime=1769689853633 for seqID=3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:531) - Incoming Sequence ID = 3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:532) - MonitorIncomingEvents+ = false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:548) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:563) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:579) - JOIN-MAP: Added key=token to join 3000000 (tokenId=3000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:588) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:589) - DEBUG: Rule base location: C:\DevShare\BTSN_86\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:594) - DEBUG: Using cached knowledge base for version: v001
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:614) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:616) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2409) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:641) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:644) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2503) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 3000000 buffered at T_in_Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=3000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=3000000  -> Triage_CollectorService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3095) - PETRI-NET: Token 3000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 3000000 entering place: Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=3000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=3000000  -> Triage_CollectorService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3101) - PETRI-NET: Token 3000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:671) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:672) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:673) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:674) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:691) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:692) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:712) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1239) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2333) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2361) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2399) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2409) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2113) - ORCHESTRATOR: Found single-input canonical binding - calling Triage_CollectorService.collectAllData immediately
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2120) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (canonical binding)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Triage_CollectorService initialized with context: 3000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version: v003
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version(s): [v003]
Triage_CollectorService: Collecting data for version: v003
Triage_CollectorService:   v003 - 30 timing records
Triage_CollectorService:   v003 - 30 marking records
Triage_CollectorService: TOTAL 30 timing records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking records across 1 version(s)
Triage_CollectorService: Generated response (17200 chars)
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Performance data collected: 30 timing records, 30 marking records
Collecting Petri Net data...
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version(s): [v003]
Triage_CollectorService: Collecting Petri Net data for version: v003
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v003' length=4
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Triage_CollectorService:   v003 - 192 transition firings
Triage_CollectorService:   v003 - 40 token paths
Triage_CollectorService:   v003 - 172 marking snapshots
Triage_CollectorService:   v003 - 1 statistics records
Triage_CollectorService:   v003 - 48 genealogy records
Triage_CollectorService: TOTAL 192 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 40 token path records across 1 version(s)
Triage_CollectorService: TOTAL 172 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 1 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 48 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (93346 chars)
Petri Net data collected: 192 firings, 40 paths, 172 markings, 1 statistics
Triage_CollectorService: Generated unified response (110258 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 676ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":192,"workflowGroups":{"3000000":{"markingEvolution":[{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689771973,"bufferSize":0},{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689771986,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772503,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772507,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689772517,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772611,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772718,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772739,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772873,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689773096,"bufferSize":0},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689774974,"bufferSize":1},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689775642,"bufferSize":1},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777436,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777440,"bufferSize":0},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689777442,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777547,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777637,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777739,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777993,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689778077,"bufferSize":0},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689780086,"bufferSize":2},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689780100,"bufferSize":2},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783014,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783051,"bufferSize":0},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689783109,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783266,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783476,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783528,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783736,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783816,"bufferSize":0},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689795340,"bufferSize":9},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689795348,"bufferSize":9},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795863,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689795867,"bufferSize":0},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689795870,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795963,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796095,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796270,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796491,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796618,"bufferSize":0},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689803131,"bufferSize":8},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689803140,"bufferSize":8},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689803646,"bufferSize":0},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689807386,"bufferSize":7},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689807392,"bufferSize":7},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807695,"bufferSize":0},{"marking":0,"tokenId":3050001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807703,"bufferSize":0},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689807708,"bufferSize":0},{"marking":0,"tokenId":3050001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807720,"bufferSize":0},{"marking":0,"tokenId":3050002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807848,"bufferSize":0},{"marking":0,"tokenId":3050002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807898,"bufferSize":0},{"marking":0,"tokenId":3050003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689808026,"bufferSize":0},{"marking":0,"tokenId":3050003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689808124,"bufferSize":0},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689811094,"bufferSize":6},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689811100,"bufferSize":6},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811456,"bufferSize":0},{"marking":0,"tokenId":3060001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811459,"bufferSize":0},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689811461,"bufferSize":0},{"marking":0,"tokenId":3060001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811557,"bufferSize":0},{"marking":0,"tokenId":3060002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811746,"bufferSize":0},{"marking":0,"tokenId":3060002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811784,"bufferSize":0},{"marking":0,"tokenId":3060003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811952,"bufferSize":0},{"marking":0,"tokenId":3060003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811982,"bufferSize":0},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689813374,"bufferSize":6},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689813383,"bufferSize":6},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689813952,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689813955,"bufferSize":0},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689813958,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814090,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814244,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814296,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814541,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814627,"bufferSize":0},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689816201,"bufferSize":5},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689816209,"bufferSize":5},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816911,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689816914,"bufferSize":0},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689816929,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816949,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689817685,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689817799,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689818042,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689818171,"bufferSize":0},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689820388,"bufferSize":7},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689820414,"bufferSize":7},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821047,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821049,"bufferSize":0},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689821058,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821067,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821331,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821382,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821579,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821971,"bufferSize":0},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689824666,"bufferSize":6},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689824674,"bufferSize":6},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825143,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825145,"bufferSize":0},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689825147,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825150,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825356,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825448,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825728,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825827,"bufferSize":0},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689827967,"bufferSize":6},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689827975,"bufferSize":6},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828554,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828557,"bufferSize":0},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689828560,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828666,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828828,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828916,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689829109,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689829138,"bufferSize":0},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689831279,"bufferSize":5},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689831286,"bufferSize":5},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831848,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689831850,"bufferSize":0},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689831853,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831949,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832078,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832176,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832376,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832381,"bufferSize":0},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689833891,"bufferSize":6},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689833931,"bufferSize":6},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834771,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689834773,"bufferSize":0},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689834795,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834909,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835293,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835367,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835591,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835690,"bufferSize":0},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689838518,"bufferSize":5},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689838550,"bufferSize":5},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689839126,"bufferSize":0},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689840311,"bufferSize":4},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689840319,"bufferSize":4},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841317,"bufferSize":0},{"marking":0,"tokenId":3150001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841319,"bufferSize":0},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689841321,"bufferSize":0},{"marking":0,"tokenId":3150001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841417,"bufferSize":0},{"marking":0,"tokenId":3150002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841835,"bufferSize":0},{"marking":0,"tokenId":3150002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841915,"bufferSize":0},{"marking":0,"tokenId":3150003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689842160,"bufferSize":0},{"marking":0,"tokenId":3150003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689842328,"bufferSize":0},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689843822,"bufferSize":3},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689843839,"bufferSize":3},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844803,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689844811,"bufferSize":0},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689844813,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844818,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845193,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845279,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845509,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845685,"bufferSize":0},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689847964,"bufferSize":2},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689847977,"bufferSize":2},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848933,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689848937,"bufferSize":0},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689848939,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848992,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849400,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849499,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849764,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849842,"bufferSize":0},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689852376,"bufferSize":1},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689853139,"bufferSize":1},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689854457,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689855594,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689855607,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689856928,"bufferSize":0}],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[{"entryTime":1769689771973,"exitTime":1769689772503,"residenceTime":530,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689771986,"exitTime":1769689772503,"residenceTime":517,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689774974,"exitTime":1769689777436,"residenceTime":2462,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689775642,"exitTime":1769689777436,"residenceTime":1794,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689780086,"exitTime":1769689783014,"residenceTime":2928,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689780100,"exitTime":1769689783014,"residenceTime":2914,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689795340,"exitTime":1769689795863,"residenceTime":523,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689795348,"exitTime":1769689795863,"residenceTime":515,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689803131,"exitTime":1769689803646,"residenceTime":515,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689803140,"exitTime":1769689803646,"residenceTime":506,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689807386,"exitTime":1769689807695,"residenceTime":309,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689807392,"exitTime":1769689807695,"residenceTime":303,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689811094,"exitTime":1769689811456,"residenceTime":362,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689811100,"exitTime":1769689811456,"residenceTime":356,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689813374,"exitTime":1769689813952,"residenceTime":578,"entryBufferSize":6,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689813383,"exitTime":1769689813952,"residenceTime":569,"entryBufferSize":6,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689816201,"exitTime":1769689816911,"residenceTime":710,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689816209,"exitTime":1769689816911,"residenceTime":702,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689820388,"exitTime":1769689821047,"residenceTime":659,"entryBufferSize":7,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689820414,"exitTime":1769689821047,"residenceTime":633,"entryBufferSize":7,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689824666,"exitTime":1769689825143,"residenceTime":477,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689824674,"exitTime":1769689825143,"residenceTime":469,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689827967,"exitTime":1769689828554,"residenceTime":587,"entryBufferSize":6,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689827975,"exitTime":1769689828554,"residenceTime":579,"entryBufferSize":6,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689831279,"exitTime":1769689831848,"residenceTime":569,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689831286,"exitTime":1769689831848,"residenceTime":562,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689833891,"exitTime":1769689834771,"residenceTime":880,"entryBufferSize":6,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689833931,"exitTime":1769689834771,"residenceTime":840,"entryBufferSize":6,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689838518,"exitTime":1769689839126,"residenceTime":608,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689838550,"exitTime":1769689839126,"residenceTime":576,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689840311,"exitTime":1769689841317,"residenceTime":1006,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689840319,"exitTime":1769689841317,"residenceTime":998,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689843822,"exitTime":1769689844803,"residenceTime":981,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689843839,"exitTime":1769689844803,"residenceTime":964,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689847964,"exitTime":1769689848933,"residenceTime":969,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689847977,"exitTime":1769689848933,"residenceTime":956,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689852376,"exitTime":1769689854457,"residenceTime":2081,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689853139,"exitTime":1769689854457,"residenceTime":1318,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689855594,"exitTime":1769689856928,"residenceTime":1334,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689855607,"exitTime":1769689856928,"residenceTime":1321,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":3000000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689771666,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689771973,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689771986,"bufferSize":0},{"tokenId":3010000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689772062,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772503,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772507,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689772517,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772611,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772718,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772739,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772873,"bufferSize":0},{"tokenId":3020000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689772880,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689773096,"bufferSize":0},{"tokenId":3030000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689773577,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689774974,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689775642,"bufferSize":1},{"tokenId":3040000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689776666,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777436,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777440,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689777442,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777547,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777637,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777739,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777993,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689778077,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689780086,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689780100,"bufferSize":2},{"tokenId":3050000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689780190,"bufferSize":0},{"tokenId":3060000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689782463,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783014,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783051,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689783109,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783266,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783476,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783528,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783736,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783816,"bufferSize":0},{"tokenId":3070000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689784114,"bufferSize":0},{"tokenId":3080000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689786305,"bufferSize":0},{"tokenId":3090000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689786688,"bufferSize":0},{"tokenId":3100000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689788917,"bufferSize":0},{"tokenId":3110000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689791732,"bufferSize":0},{"tokenId":3120000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689792865,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689795340,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689795348,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795863,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689795867,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689795870,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795963,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796095,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796270,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796491,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796618,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689803131,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689803140,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689803646,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689807386,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689807392,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807695,"bufferSize":0},{"tokenId":3050001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807703,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689807708,"bufferSize":0},{"tokenId":3050001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807720,"bufferSize":0},{"tokenId":3050002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807848,"bufferSize":0},{"tokenId":3050002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807898,"bufferSize":0},{"tokenId":3050003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689808026,"bufferSize":0},{"tokenId":3050003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689808124,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689811094,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689811100,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811456,"bufferSize":0},{"tokenId":3060001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811459,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689811461,"bufferSize":0},{"tokenId":3060001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811557,"bufferSize":0},{"tokenId":3060002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811746,"bufferSize":0},{"tokenId":3060002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811784,"bufferSize":0},{"tokenId":3060003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811952,"bufferSize":0},{"tokenId":3060003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811982,"bufferSize":0},{"tokenId":3130000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689812063,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689813374,"bufferSize":6},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689813383,"bufferSize":6},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689813952,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689813955,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689813958,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814090,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814244,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814296,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814541,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814627,"bufferSize":0},{"tokenId":3140000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689816068,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689816201,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689816209,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816911,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689816914,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689816929,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816949,"bufferSize":0},{"tokenId":3150000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689817369,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689817685,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689817799,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689818042,"bufferSize":0},{"tokenId":3160000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689818070,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689818171,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689820388,"bufferSize":7},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689820414,"bufferSize":7},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821047,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821049,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689821058,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821067,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821331,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821382,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821579,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821971,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689824666,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689824674,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825143,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825145,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689825147,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825150,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825356,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825448,"bufferSize":0},{"tokenId":3170000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689825670,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825728,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825827,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689827967,"bufferSize":6},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689827975,"bufferSize":6},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828554,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828557,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689828560,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828666,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828828,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828916,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689829109,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689829138,"bufferSize":0},{"tokenId":3180000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689829692,"bufferSize":0},{"tokenId":3190000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689830946,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689831279,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689831286,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831848,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689831850,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689831853,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831949,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832078,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832176,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832376,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832381,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689833891,"bufferSize":6},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689833931,"bufferSize":6},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834771,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689834773,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689834795,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834909,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835293,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835367,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835591,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835690,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689838518,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689838550,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689839126,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689840311,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689840319,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841317,"bufferSize":0},{"tokenId":3150001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841319,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689841321,"bufferSize":0},{"tokenId":3150001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841417,"bufferSize":0},{"tokenId":3150002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841835,"bufferSize":0},{"tokenId":3150002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841915,"bufferSize":0},{"tokenId":3150003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689842160,"bufferSize":0},{"tokenId":3150003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689842328,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689843822,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689843839,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844803,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689844811,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689844813,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844818,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845193,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845279,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845509,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845685,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689847964,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689847977,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848933,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689848937,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689848939,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848992,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849400,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849499,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849764,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849842,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689852376,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689853139,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689854457,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689855594,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689855607,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689856928,"bufferSize":0}],"statistics":[{"avgResidenceTime":911.0,"minResidenceTime":303,"maxBufferSize":9,"tokenCount":40,"maxResidenceTime":2928,"workflowBase":3000000,"throughput":1.0976948408342482,"placeName":"TriageService","avgBufferSize":4.0}]}},"pathRecordCount":40,"statisticsRecordCount":1,"markingRecordCount":172},"reportingService":"Triage_CollectorService","collectionTime":1769689858508,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689830946":[{"maxQueueCapacity":50,"arrivalTime":1769689854899,"totalTime":2297,"workflowStartTime":1769689830946,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":1584,"queueTime":713,"bufferSize":0}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689829692":[{"maxQueueCapacity":50,"arrivalTime":1769689850471,"totalTime":4390,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":1719,"queueTime":2671,"bufferSize":1}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocationTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689830946":[{"publishTime":1769689857196,"maxQueueCapacity":50,"arrivalTime":1769689854899,"invocationTime":1769689855612,"workflowStartTime":1769689830946,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689829692":[{"publishTime":1769689854861,"maxQueueCapacity":50,"arrivalTime":1769689850471,"invocationTime":1769689853142,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"3000000","version":"v003","token":"{\"token\":\"workflow_3000000_v003\"}"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 3000000 exiting place: Triage_CollectorService -> MonitorService [arc=$ANON11]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=3000000 eventType=EXIT
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=3000000 Triage_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3136) - PETRI-NET: Token 3000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2658) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2660) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2671) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2682) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2705) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1367) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2739) - ROUTING: Token 3000000 -> 'token' to MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2763) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2764) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2765) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":192,"workflowGroups":{"3000000":{"markingEvolution":[{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689771973,"bufferSize":0},{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689771986,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772503,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772507,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689772517,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772611,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772718,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772739,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772873,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689773096,"bufferSize":0},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689774974,"bufferSize":1},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689775642,"bufferSize":1},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777436,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777440,"bufferSize":0},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689777442,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777547,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777637,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777739,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777993,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689778077,"bufferSize":0},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689780086,"bufferSize":2},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689780100,"bufferSize":2},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783014,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783051,"bufferSize":0},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689783109,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783266,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783476,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783528,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783736,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783816,"bufferSize":0},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689795340,"bufferSize":9},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689795348,"bufferSize":9},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795863,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689795867,"bufferSize":0},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689795870,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795963,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796095,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796270,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796491,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796618,"bufferSize":0},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689803131,"bufferSize":8},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689803140,"bufferSize":8},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689803646,"bufferSize":0},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689807386,"bufferSize":7},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689807392,"bufferSize":7},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807695,"bufferSize":0},{"marking":0,"tokenId":3050001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807703,"bufferSize":0},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689807708,"bufferSize":0},{"marking":0,"tokenId":3050001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807720,"bufferSize":0},{"marking":0,"tokenId":3050002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807848,"bufferSize":0},{"marking":0,"tokenId":3050002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807898,"bufferSize":0},{"marking":0,"tokenId":3050003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689808026,"bufferSize":0},{"marking":0,"tokenId":3050003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689808124,"bufferSize":0},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689811094,"bufferSize":6},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689811100,"bufferSize":6},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811456,"bufferSize":0},{"marking":0,"tokenId":3060001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811459,"bufferSize":0},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689811461,"bufferSize":0},{"marking":0,"tokenId":3060001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811557,"bufferSize":0},{"marking":0,"tokenId":3060002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811746,"bufferSize":0},{"marking":0,"tokenId":3060002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811784,"bufferSize":0},{"marking":0,"tokenId":3060003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811952,"bufferSize":0},{"marking":0,"tokenId":3060003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811982,"bufferSize":0},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689813374,"bufferSize":6},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689813383,"bufferSize":6},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689813952,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689813955,"bufferSize":0},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689813958,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814090,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814244,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814296,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814541,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814627,"bufferSize":0},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689816201,"bufferSize":5},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689816209,"bufferSize":5},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816911,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689816914,"bufferSize":0},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689816929,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816949,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689817685,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689817799,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689818042,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689818171,"bufferSize":0},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689820388,"bufferSize":7},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689820414,"bufferSize":7},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821047,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821049,"bufferSize":0},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689821058,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821067,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821331,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821382,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821579,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821971,"bufferSize":0},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689824666,"bufferSize":6},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689824674,"bufferSize":6},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825143,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825145,"bufferSize":0},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689825147,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825150,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825356,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825448,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825728,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825827,"bufferSize":0},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689827967,"bufferSize":6},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689827975,"bufferSize":6},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828554,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828557,"bufferSize":0},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689828560,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828666,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828828,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828916,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689829109,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689829138,"bufferSize":0},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689831279,"bufferSize":5},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689831286,"bufferSize":5},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831848,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689831850,"bufferSize":0},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689831853,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831949,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832078,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832176,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832376,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832381,"bufferSize":0},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689833891,"bufferSize":6},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689833931,"bufferSize":6},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834771,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689834773,"bufferSize":0},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689834795,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834909,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835293,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835367,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835591,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835690,"bufferSize":0},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689838518,"bufferSize":5},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689838550,"bufferSize":5},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689839126,"bufferSize":0},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689840311,"bufferSize":4},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689840319,"bufferSize":4},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841317,"bufferSize":0},{"marking":0,"tokenId":3150001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841319,"bufferSize":0},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689841321,"bufferSize":0},{"marking":0,"tokenId":3150001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841417,"bufferSize":0},{"marking":0,"tokenId":3150002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841835,"bufferSize":0},{"marking":0,"tokenId":3150002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841915,"bufferSize":0},{"marking":0,"tokenId":3150003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689842160,"bufferSize":0},{"marking":0,"tokenId":3150003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689842328,"bufferSize":0},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689843822,"bufferSize":3},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689843839,"bufferSize":3},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844803,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689844811,"bufferSize":0},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689844813,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844818,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845193,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845279,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845509,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845685,"bufferSize":0},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689847964,"bufferSize":2},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689847977,"bufferSize":2},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848933,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689848937,"bufferSize":0},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689848939,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848992,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849400,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849499,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849764,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849842,"bufferSize":0},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689852376,"bufferSize":1},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689853139,"bufferSize":1},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689854457,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689855594,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689855607,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689856928,"bufferSize":0}],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1769689772507,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1769689772718,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1769689772873,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1769689777440,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1769689777637,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1769689777993,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1769689783051,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1769689783476,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1769689783736,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1769689795867,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1769689796095,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1769689796491,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050001,"forkTimestamp":1769689807703,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050002,"forkTimestamp":1769689807848,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3050003,"forkTimestamp":1769689808026,"parentTokenId":3050000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060001,"forkTimestamp":1769689811459,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060002,"forkTimestamp":1769689811746,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3060003,"forkTimestamp":1769689811952,"parentTokenId":3060000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1769689813955,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1769689814244,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1769689814541,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1769689816914,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1769689817685,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1769689818042,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1769689821049,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1769689821331,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1769689821579,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1769689825145,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1769689825356,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1769689825728,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1769689828557,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1769689828828,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1769689829109,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1769689831850,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1769689832078,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1769689832376,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1769689834773,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1769689835293,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1769689835591,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150001,"forkTimestamp":1769689841319,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150002,"forkTimestamp":1769689841835,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3150003,"forkTimestamp":1769689842160,"parentTokenId":3150000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1769689844811,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1769689845193,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1769689845509,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1769689848937,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1769689849400,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1769689849764,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[{"entryTime":1769689771973,"exitTime":1769689772503,"residenceTime":530,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689771986,"exitTime":1769689772503,"residenceTime":517,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689774974,"exitTime":1769689777436,"residenceTime":2462,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689775642,"exitTime":1769689777436,"residenceTime":1794,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689780086,"exitTime":1769689783014,"residenceTime":2928,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689780100,"exitTime":1769689783014,"residenceTime":2914,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689795340,"exitTime":1769689795863,"residenceTime":523,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689795348,"exitTime":1769689795863,"residenceTime":515,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689803131,"exitTime":1769689803646,"residenceTime":515,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689803140,"exitTime":1769689803646,"residenceTime":506,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689807386,"exitTime":1769689807695,"residenceTime":309,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689807392,"exitTime":1769689807695,"residenceTime":303,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689811094,"exitTime":1769689811456,"residenceTime":362,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689811100,"exitTime":1769689811456,"residenceTime":356,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689813374,"exitTime":1769689813952,"residenceTime":578,"entryBufferSize":6,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689813383,"exitTime":1769689813952,"residenceTime":569,"entryBufferSize":6,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689816201,"exitTime":1769689816911,"residenceTime":710,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689816209,"exitTime":1769689816911,"residenceTime":702,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689820388,"exitTime":1769689821047,"residenceTime":659,"entryBufferSize":7,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689820414,"exitTime":1769689821047,"residenceTime":633,"entryBufferSize":7,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689824666,"exitTime":1769689825143,"residenceTime":477,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689824674,"exitTime":1769689825143,"residenceTime":469,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689827967,"exitTime":1769689828554,"residenceTime":587,"entryBufferSize":6,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689827975,"exitTime":1769689828554,"residenceTime":579,"entryBufferSize":6,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689831279,"exitTime":1769689831848,"residenceTime":569,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689831286,"exitTime":1769689831848,"residenceTime":562,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689833891,"exitTime":1769689834771,"residenceTime":880,"entryBufferSize":6,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689833931,"exitTime":1769689834771,"residenceTime":840,"entryBufferSize":6,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689838518,"exitTime":1769689839126,"residenceTime":608,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689838550,"exitTime":1769689839126,"residenceTime":576,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689840311,"exitTime":1769689841317,"residenceTime":1006,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689840319,"exitTime":1769689841317,"residenceTime":998,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689843822,"exitTime":1769689844803,"residenceTime":981,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689843839,"exitTime":1769689844803,"residenceTime":964,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689847964,"exitTime":1769689848933,"residenceTime":969,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689847977,"exitTime":1769689848933,"residenceTime":956,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689852376,"exitTime":1769689854457,"residenceTime":2081,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689853139,"exitTime":1769689854457,"residenceTime":1318,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689855594,"exitTime":1769689856928,"residenceTime":1334,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1769689855607,"exitTime":1769689856928,"residenceTime":1321,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":3000000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689771666,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689771973,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689771986,"bufferSize":0},{"tokenId":3010000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689772062,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772503,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772507,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689772517,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772611,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772718,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689772739,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689772873,"bufferSize":0},{"tokenId":3020000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689772880,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689773096,"bufferSize":0},{"tokenId":3030000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689773577,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689774974,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689775642,"bufferSize":1},{"tokenId":3040000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689776666,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777436,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777440,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689777442,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777547,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777637,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689777739,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689777993,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689778077,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689780086,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689780100,"bufferSize":2},{"tokenId":3050000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689780190,"bufferSize":0},{"tokenId":3060000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689782463,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783014,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783051,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689783109,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783266,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783476,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783528,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689783736,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689783816,"bufferSize":0},{"tokenId":3070000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689784114,"bufferSize":0},{"tokenId":3080000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689786305,"bufferSize":0},{"tokenId":3090000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689786688,"bufferSize":0},{"tokenId":3100000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689788917,"bufferSize":0},{"tokenId":3110000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689791732,"bufferSize":0},{"tokenId":3120000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689792865,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689795340,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689795348,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795863,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689795867,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689795870,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689795963,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796095,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796270,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689796491,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689796618,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689803131,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689803140,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689803646,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689807386,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689807392,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807695,"bufferSize":0},{"tokenId":3050001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807703,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689807708,"bufferSize":0},{"tokenId":3050001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807720,"bufferSize":0},{"tokenId":3050002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689807848,"bufferSize":0},{"tokenId":3050002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689807898,"bufferSize":0},{"tokenId":3050003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689808026,"bufferSize":0},{"tokenId":3050003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689808124,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689811094,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689811100,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811456,"bufferSize":0},{"tokenId":3060001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811459,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689811461,"bufferSize":0},{"tokenId":3060001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811557,"bufferSize":0},{"tokenId":3060002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811746,"bufferSize":0},{"tokenId":3060002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811784,"bufferSize":0},{"tokenId":3060003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689811952,"bufferSize":0},{"tokenId":3060003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689811982,"bufferSize":0},{"tokenId":3130000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689812063,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689813374,"bufferSize":6},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689813383,"bufferSize":6},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689813952,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689813955,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689813958,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814090,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814244,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814296,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689814541,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689814627,"bufferSize":0},{"tokenId":3140000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689816068,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689816201,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689816209,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816911,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689816914,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689816929,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689816949,"bufferSize":0},{"tokenId":3150000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689817369,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689817685,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689817799,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689818042,"bufferSize":0},{"tokenId":3160000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689818070,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689818171,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689820388,"bufferSize":7},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689820414,"bufferSize":7},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821047,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821049,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689821058,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821067,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821331,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821382,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689821579,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689821971,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689824666,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689824674,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825143,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825145,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689825147,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825150,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825356,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825448,"bufferSize":0},{"tokenId":3170000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689825670,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689825728,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689825827,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689827967,"bufferSize":6},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689827975,"bufferSize":6},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828554,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828557,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689828560,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828666,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689828828,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689828916,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689829109,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689829138,"bufferSize":0},{"tokenId":3180000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689829692,"bufferSize":0},{"tokenId":3190000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1769689830946,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689831279,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689831286,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831848,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689831850,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689831853,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689831949,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832078,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832176,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689832376,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689832381,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689833891,"bufferSize":6},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689833931,"bufferSize":6},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834771,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689834773,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689834795,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689834909,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835293,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835367,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689835591,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689835690,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689838518,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689838550,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689839126,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689840311,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689840319,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841317,"bufferSize":0},{"tokenId":3150001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841319,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689841321,"bufferSize":0},{"tokenId":3150001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841417,"bufferSize":0},{"tokenId":3150002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689841835,"bufferSize":0},{"tokenId":3150002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689841915,"bufferSize":0},{"tokenId":3150003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689842160,"bufferSize":0},{"tokenId":3150003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689842328,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689843822,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689843839,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844803,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689844811,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689844813,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689844818,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845193,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845279,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689845509,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689845685,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689847964,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689847977,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848933,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689848937,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1769689848939,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689848992,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849400,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849499,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1769689849764,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689849842,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689852376,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689853139,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689854457,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1769689855594,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1769689855607,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1769689856928,"bufferSize":0}],"statistics":[{"avgResidenceTime":911.0,"minResidenceTime":303,"maxBufferSize":9,"tokenCount":40,"maxResidenceTime":2928,"workflowBase":3000000,"throughput":1.0976948408342482,"placeName":"TriageService","avgBufferSize":4.0}]}},"pathRecordCount":40,"statisticsRecordCount":1,"markingRecordCount":172},"reportingService":"Triage_CollectorService","collectionTime":1769689858508,"performanceData":{"workflowGroups":{"1769689816068":[{"maxQueueCapacity":50,"arrivalTime":1769689835948,"totalTime":3429,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2607,"bufferSize":5}],"1769689786305":[{"maxQueueCapacity":50,"arrivalTime":1769689815096,"totalTime":3344,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2222,"queueTime":1122,"bufferSize":5}],"1769689783539":[{"maxQueueCapacity":50,"arrivalTime":1769689788474,"totalTime":2010,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":765,"queueTime":1245,"bufferSize":7}],"1769689812063":[{"maxQueueCapacity":50,"arrivalTime":1769689832837,"totalTime":3057,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1960,"queueTime":1097,"bufferSize":6}],"1769689776666":[{"maxQueueCapacity":50,"arrivalTime":1769689802130,"totalTime":1959,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":945,"queueTime":1014,"bufferSize":8}],"1769689772880":[{"maxQueueCapacity":50,"arrivalTime":1769689778666,"totalTime":5385,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":3945,"queueTime":1440,"bufferSize":2}],"1769689805052":[{"maxQueueCapacity":50,"arrivalTime":1769689806242,"totalTime":750,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":406,"queueTime":344,"bufferSize":8}],"1769689791732":[{"maxQueueCapacity":50,"arrivalTime":1769689826457,"totalTime":3018,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1471,"queueTime":1547,"bufferSize":6}],"1769689830946":[{"maxQueueCapacity":50,"arrivalTime":1769689854899,"totalTime":2297,"workflowStartTime":1769689830946,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":1584,"queueTime":713,"bufferSize":0}],"1769689795142":[{"maxQueueCapacity":50,"arrivalTime":1769689797177,"totalTime":1670,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":632,"queueTime":1038,"bufferSize":9}],"1769689772062":[{"maxQueueCapacity":50,"arrivalTime":1769689773579,"totalTime":4862,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2793,"queueTime":2069,"bufferSize":1}],"1769689779873":[{"maxQueueCapacity":50,"arrivalTime":1769689784319,"totalTime":4016,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2284,"queueTime":1732,"bufferSize":6}],"1769689791793":[{"maxQueueCapacity":50,"arrivalTime":1769689792655,"totalTime":1930,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":1198,"queueTime":732,"bufferSize":9}],"1769689825670":[{"maxQueueCapacity":50,"arrivalTime":1769689846516,"totalTime":3825,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2341,"queueTime":1484,"bufferSize":2}],"1769689799747":[{"maxQueueCapacity":50,"arrivalTime":1769689800271,"totalTime":1598,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":787,"queueTime":811,"bufferSize":9}],"1769689797525":[{"maxQueueCapacity":50,"arrivalTime":1769689798883,"totalTime":1351,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":642,"queueTime":709,"bufferSize":9}],"1769689773577":[{"maxQueueCapacity":50,"arrivalTime":1769689794589,"totalTime":2377,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":1613,"queueTime":764,"bufferSize":9}],"1769689786688":[{"maxQueueCapacity":50,"arrivalTime":1769689818494,"totalTime":4053,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":2128,"queueTime":1925,"bufferSize":7}],"1769689782463":[{"maxQueueCapacity":50,"arrivalTime":1769689810482,"totalTime":1915,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":1294,"queueTime":621,"bufferSize":6}],"1769689818070":[{"maxQueueCapacity":50,"arrivalTime":1769689842868,"totalTime":3525,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":2543,"queueTime":982,"bufferSize":3}],"1769689817369":[{"maxQueueCapacity":50,"arrivalTime":1769689839453,"totalTime":3320,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":2354,"queueTime":966,"bufferSize":4}],"1769689788917":[{"maxQueueCapacity":50,"arrivalTime":1769689822759,"totalTime":3595,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1675,"queueTime":1920,"bufferSize":6}],"1769689807340":[{"maxQueueCapacity":50,"arrivalTime":1769689808373,"totalTime":2041,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":604,"queueTime":1437,"bufferSize":7}],"1769689829692":[{"maxQueueCapacity":50,"arrivalTime":1769689850471,"totalTime":4390,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":1719,"queueTime":2671,"bufferSize":1}],"1769689771666":[{"maxQueueCapacity":50,"arrivalTime":1769689771745,"totalTime":1768,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1520,"queueTime":248,"bufferSize":0}],"1769689792865":[{"maxQueueCapacity":50,"arrivalTime":1769689829608,"totalTime":3219,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":1529,"queueTime":1690,"bufferSize":5}],"1769689780190":[{"maxQueueCapacity":50,"arrivalTime":1769689806996,"totalTime":1331,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":930,"queueTime":401,"bufferSize":7}],"1769689802602":[{"maxQueueCapacity":50,"arrivalTime":1769689804231,"totalTime":1938,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":1118,"queueTime":820,"bufferSize":8}],"1769689789168":[{"maxQueueCapacity":50,"arrivalTime":1769689790550,"totalTime":2095,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1545,"queueTime":550,"bufferSize":8}],"1769689784114":[{"maxQueueCapacity":50,"arrivalTime":1769689812496,"totalTime":2596,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1643,"queueTime":953,"bufferSize":6}]},"markingData":{"1769689816068":[{"publishTime":1769689839377,"maxQueueCapacity":50,"arrivalTime":1769689835948,"invocationTime":1769689838555,"workflowStartTime":1769689816068,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1769689786305":[{"publishTime":1769689818440,"maxQueueCapacity":50,"arrivalTime":1769689815096,"invocationTime":1769689816218,"workflowStartTime":1769689786305,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1769689783539":[{"publishTime":1769689790484,"maxQueueCapacity":50,"arrivalTime":1769689788474,"invocationTime":1769689789719,"workflowStartTime":1769689783539,"totalMarking":8,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":7}],"1769689812063":[{"publishTime":1769689835894,"maxQueueCapacity":50,"arrivalTime":1769689832837,"invocationTime":1769689833934,"workflowStartTime":1769689812063,"totalMarking":7,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":6}],"1769689776666":[{"publishTime":1769689804089,"maxQueueCapacity":50,"arrivalTime":1769689802130,"invocationTime":1769689803144,"workflowStartTime":1769689776666,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1769689772880":[{"publishTime":1769689784051,"maxQueueCapacity":50,"arrivalTime":1769689778666,"invocationTime":1769689780106,"workflowStartTime":1769689772880,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1769689805052":[{"publishTime":1769689806992,"maxQueueCapacity":50,"arrivalTime":1769689806242,"invocationTime":1769689806586,"workflowStartTime":1769689805052,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}],"1769689791732":[{"publishTime":1769689829475,"maxQueueCapacity":50,"arrivalTime":1769689826457,"invocationTime":1769689828004,"workflowStartTime":1769689791732,"totalMarking":7,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":6}],"1769689830946":[{"publishTime":1769689857196,"maxQueueCapacity":50,"arrivalTime":1769689854899,"invocationTime":1769689855612,"workflowStartTime":1769689830946,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1769689795142":[{"publishTime":1769689798847,"maxQueueCapacity":50,"arrivalTime":1769689797177,"invocationTime":1769689798215,"workflowStartTime":1769689795142,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1769689772062":[{"publishTime":1769689778441,"maxQueueCapacity":50,"arrivalTime":1769689773579,"invocationTime":1769689775648,"workflowStartTime":1769689772062,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1769689779873":[{"publishTime":1769689788335,"maxQueueCapacity":50,"arrivalTime":1769689784319,"invocationTime":1769689786051,"workflowStartTime":1769689779873,"totalMarking":7,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":6}],"1769689791793":[{"publishTime":1769689794585,"maxQueueCapacity":50,"arrivalTime":1769689792655,"invocationTime":1769689793387,"workflowStartTime":1769689791793,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689825670":[{"publishTime":1769689850341,"maxQueueCapacity":50,"arrivalTime":1769689846516,"invocationTime":1769689848000,"workflowStartTime":1769689825670,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1769689799747":[{"publishTime":1769689801869,"maxQueueCapacity":50,"arrivalTime":1769689800271,"invocationTime":1769689801082,"workflowStartTime":1769689799747,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1769689797525":[{"publishTime":1769689800234,"maxQueueCapacity":50,"arrivalTime":1769689798883,"invocationTime":1769689799592,"workflowStartTime":1769689797525,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1769689773577":[{"publishTime":1769689796966,"maxQueueCapacity":50,"arrivalTime":1769689794589,"invocationTime":1769689795353,"workflowStartTime":1769689773577,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1769689786688":[{"publishTime":1769689822547,"maxQueueCapacity":50,"arrivalTime":1769689818494,"invocationTime":1769689820419,"workflowStartTime":1769689786688,"totalMarking":8,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689782463":[{"publishTime":1769689812397,"maxQueueCapacity":50,"arrivalTime":1769689810482,"invocationTime":1769689811103,"workflowStartTime":1769689782463,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1769689818070":[{"publishTime":1769689846393,"maxQueueCapacity":50,"arrivalTime":1769689842868,"invocationTime":1769689843850,"workflowStartTime":1769689818070,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1769689817369":[{"publishTime":1769689842773,"maxQueueCapacity":50,"arrivalTime":1769689839453,"invocationTime":1769689840419,"workflowStartTime":1769689817369,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1769689788917":[{"publishTime":1769689826354,"maxQueueCapacity":50,"arrivalTime":1769689822759,"invocationTime":1769689824679,"workflowStartTime":1769689788917,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1769689807340":[{"publishTime":1769689810414,"maxQueueCapacity":50,"arrivalTime":1769689808373,"invocationTime":1769689809810,"workflowStartTime":1769689807340,"totalMarking":8,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":7}],"1769689829692":[{"publishTime":1769689854861,"maxQueueCapacity":50,"arrivalTime":1769689850471,"invocationTime":1769689853142,"workflowStartTime":1769689829692,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1769689771666":[{"publishTime":1769689773513,"maxQueueCapacity":50,"arrivalTime":1769689771745,"invocationTime":1769689771993,"workflowStartTime":1769689771666,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1769689792865":[{"publishTime":1769689832827,"maxQueueCapacity":50,"arrivalTime":1769689829608,"invocationTime":1769689831298,"workflowStartTime":1769689792865,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1769689780190":[{"publishTime":1769689808327,"maxQueueCapacity":50,"arrivalTime":1769689806996,"invocationTime":1769689807397,"workflowStartTime":1769689780190,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1769689802602":[{"publishTime":1769689806169,"maxQueueCapacity":50,"arrivalTime":1769689804231,"invocationTime":1769689805051,"workflowStartTime":1769689802602,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1769689789168":[{"publishTime":1769689792645,"maxQueueCapacity":50,"arrivalTime":1769689790550,"invocationTime":1769689791100,"workflowStartTime":1769689789168,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1769689784114":[{"publishTime":1769689815092,"maxQueueCapacity":50,"arrivalTime":1769689812496,"invocationTime":1769689813449,"workflowStartTime":1769689784114,"totalMarking":7,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":6}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"3000000","version":"v003","token":"{\"token\":\"workflow_3000000_v003\"}"}
Jan 29, 2026 10:30:59 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689859757_180 to 192.168.1.152:3002
Jan 29, 2026 10:30:59 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (111364 bytes) exceeds limit, using chunked transfer
Jan 29, 2026 10:30:59 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (111364 bytes) into 15 chunks of ~7892 bytes each
Jan 29, 2026 10:30:59 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: 4ac048a8-295e-49ef-a4f9-041aa67cb483
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2773) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2777) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1291) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1164) - ORCHESTRATOR: Cleaned up join 3000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 3000000 complete.
Jan 29, 2026 10:30:59 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 15 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1769689859757_180
