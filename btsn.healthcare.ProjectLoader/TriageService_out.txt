 INFO [main] (ServiceLoader.java:451) - === Starting Rule-Driven ServiceLoader ===
 INFO [main] (ServiceLoader.java:253) - === ServiceLoader Configuration ===
 INFO [main] (ServiceLoader.java:254) -   Version: v003
 INFO [main] (ServiceLoader.java:258) -   Service Filter: NONE (loading ALL services)
 INFO [main] (ServiceLoader.java:456) - Using build version: v003
 INFO [main] (ServiceLoader.java:116) - Created shutdown control file: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\all_services_v003.running
 INFO [main] (ServiceLoader.java:117) - DELETE this file to trigger graceful shutdown
 WARN [main] (ServiceLoader.java:185) - Could not start shutdown listener: Address already in use: bind
BUILDRULE BASE - Build Version v003
BuildRuleBase: Detected service context, writing to LOCAL: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/
BuildRuleBase: Searching for rule files in: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase
 INFO [main] (ServiceLoader.java:478) - === Building rule base with version v003 ===
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase:
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  - C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
All files have been concatenated into Service.ruleml at: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:482) - Registered version v003 as valid
 INFO [main] (ServiceLoader.java:485) - === Checking for remote deployment mode ===
 INFO [main] (ServiceLoader.java:296) - === Auto-detecting deployment mode from facts ===
 INFO [main] (ServiceLoader.java:302) - This machine's primary IP: 192.168.1.152
 INFO [main] (ServiceLoader.java:320) - All IPs for this machine: [fe80:0:0:0:0:100:7f:fffe%net5, fe80:0:0:0:0:5efe:c0a8:198%net7, fe80:0:0:0:4478:23a2:44e3:e737%eth5, 0:0:0:0:0:0:0:1, 192.168.1.152, 127.0.0.1]
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:357) - *** FOUND: Channel ip0 maps to this machine at 192.168.1.152 ***
 INFO [main] (ServiceLoader.java:364) - Checking for services using channel: ip0
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:374) - Found 3 activeService entries using ip0
 INFO [main] (ServiceLoader.java:385) - Found 3 activeService entries using ip0
 INFO [main] (ServiceLoader.java:420) - *** REMOTE MODE AUTO-ENABLED ***
 INFO [main] (ServiceLoader.java:421) - *** This host (192.168.1.152) is configured for remote services ***
 INFO [main] (ServiceLoader.java:422) - *** Channel ip0 maps to this machine ***
DEBUG [main] (ServiceLoader.java:495) - ServiceLoader: Looking in directory: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/ServiceLoaderQueries for rulebase
 INFO [main] (ServiceLoader.java:515) - LOADING service: TriageService
Loading services C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\TriageService-LoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: TriageService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [main] (ServiceLoader.java:561) - Found operation: TriageService.processTriageAssessment on ip0:2100
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up TriageService.processTriageAssessment -> EventReactor:12100, RuleHandler:22100
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for TriageService.processTriageAssessment
 INFO [main] (ServiceLoader.java:515) - LOADING service: Triage_CollectorService
Loading services C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\Triage_CollectorServiceLoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: Triage_CollectorService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [RuleHandler-TriageService-processTriageAssessment] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: TriageService, operation: processTriageAssessment, channel: ip0, port: 22100, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22100 listening on ALL INTERFACES (remote mode)
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for TriageService:processTriageAssessment on port: 12100
Rule Handler is listening on UDP port: 22100 (mode: REMOTE)
 INFO [RuleHandler-TriageService-processTriageAssessment] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for TriageService:processTriageAssessment listening on port 22100
 INFO [main] (ServiceLoader.java:561) - Found operation: Triage_CollectorService.collectAllData on ip0:2200
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up Triage_CollectorService.collectAllData -> EventReactor:12200, RuleHandler:22200
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for Triage_CollectorService.collectAllData
 INFO [main] (ServiceLoader.java:515) - LOADING service: Triage_InitializationService
Loading services C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\ServiceLoaderQueries\Triage_InitializationServiceLoaderQuery.ruleml... 
 INFO [main] (ServiceLoader.java:523) - === DETECTED SERVICELIST QUERY FOR: Triage_InitializationService ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage\RuleFolder.v003/Service.ruleml
 INFO [RuleHandler-Triage_CollectorService-collectAllData] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: Triage_CollectorService, operation: collectAllData, channel: ip0, port: 22200, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22200 listening on ALL INTERFACES (remote mode)
Rule Handler is listening on UDP port: 22200 (mode: REMOTE)
 INFO [RuleHandler-Triage_CollectorService-collectAllData] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for Triage_CollectorService:collectAllData listening on port 22200
Feb 05, 2026 5:36:25 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
 INFO [main] (ServiceLoader.java:561) - Found operation: Triage_InitializationService.purgeAndInitialize on ip0:2300
 INFO [main] (ServiceLoader.java:573) - Creating ServiceThreads for 1 operations
 INFO [main] (ServiceLoader.java:675) - Setting up Triage_InitializationService.purgeAndInitialize -> EventReactor:12300, RuleHandler:22300
 INFO [main] (ServiceLoader.java:703) - Successfully created ServiceThread for Triage_InitializationService.purgeAndInitialize
 INFO [main] (ServiceLoader.java:618) - === ServiceLoader Startup Complete ===
 INFO [main] (ServiceLoader.java:619) - Version: v003
 INFO [main] (ServiceLoader.java:620) - Mode: REMOTE on 192.168.1.152
 INFO [main] (ServiceLoader.java:621) - Services loaded: 3
 INFO [main] (ServiceLoader.java:622) - Services skipped: 0
 INFO [main] (ServiceLoader.java:631) - === Shutdown Options ===
 INFO [main] (ServiceLoader.java:632) -   1. Delete file: all_services_v003.running
 INFO [main] (ServiceLoader.java:633) -   2. Send 'SHUTDOWN' to UDP port: 39003
 INFO [main] (ServiceLoader.java:634) -   3. Kill the process
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for Triage_CollectorService:collectAllData on port: 12200
 INFO [RuleHandler-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:809) - Starting UDP RuleHandler for service: Triage_InitializationService, operation: purgeAndInitialize, channel: ip0, port: 22300, listening on: all interfaces
RuleHandler: Remote mode detected, will listen on all interfaces
RuleHandler: Created UDP socket on port 22300 listening on ALL INTERFACES (remote mode)
Rule Handler is listening on UDP port: 22300 (mode: REMOTE)
 INFO [RuleHandler-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:815) - Successfully created UDP RuleHandler for Triage_InitializationService:purgeAndInitialize listening on port 22300
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:862) - Starting REMOTE UDP ServiceThread for Triage_InitializationService:purgeAndInitialize on port: 12300
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: === Initializing EventPublisher ===
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
Feb 05, 2026 5:36:26 PM org.btsn.handlers.EventPublisher loadPublisherConfiguration
INFO: EventPublisher: Config - MaxWireLength: 4096, SocketTimeout: 5000ms
Feb 05, 2026 5:36:27 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Ready for local/remote publishing
Feb 05, 2026 5:36:27 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Compression enabled: true
Feb 05, 2026 5:36:27 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Max wire length: 4096 bytes
Feb 05, 2026 5:36:27 PM org.btsn.handlers.EventPublisher <init>
INFO: EventPublisher: Chunking enabled for payloads > 4096 bytes
ServiceThread: Derived SERVICE_PACKAGE from own package: org.btsn.places
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: Triage_InitializationService:purgeAndInitialize
Channel: ip0, Port: 12300
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-TriageService-processTriageAssessment] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: TriageService:processTriageAssessment
Channel: ip0, Port: 12100
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
=== SERVICE ORCHESTRATOR INITIALIZING ===
My Identity: Triage_CollectorService:collectAllData
Channel: ip0, Port: 12200
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12200
 INFO [ServiceThread-TriageService-processTriageAssessment] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12100
 INFO [ServiceThread-TriageService-processTriageAssessment] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12200
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
Service Handler is listening on UDP port: 12200 (ALL INTERFACES, remote mode, compression enabled)
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12100
Service Handler is listening on UDP port: 12100 (ALL INTERFACES, remote mode, compression enabled)
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-Triage_CollectorService-collectAllData] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12200
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-TriageService-processTriageAssessment] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12100
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:84) - === PETRI NET INSTRUMENTATION INITIALIZED ===
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-5
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-7
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-8
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-9
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-10
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-11
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-13
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-12
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-14
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-15
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-16
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-17
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:85) - Service: ip0:12300
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (PetriNetInstrumentationHelper.java:86) - Recording: Transitions=true, Genealogy=true, Joins=true
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:226) - ORCHESTRATOR: Petri Net instrumentation ENABLED (full mode)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:245) - Join processing strategy: OPTIMIZED (any complete join)
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:264) - Starting EventReactor for channel: ip0, port: 12300
Service Handler is listening on UDP port: 12300 (ALL INTERFACES, remote mode, compression enabled)
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: EventReactor: Chunk reassembly enabled (buffer expiry: 30000ms)
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-19
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-20
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceThread.java:273) - EventReactor started successfully on attempt 1
=== SERVICE ORCHESTRATOR READY ===
 INFO [ServiceThread-Triage_InitializationService-purgeAndInitialize] (ServiceLoader.java:873) - Successfully created REMOTE UDP ServiceThread for port 12300
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-21
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-22
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-23
Feb 05, 2026 5:36:29 PM org.btsn.handlers.EventReactor <init>
INFO: Created and started UDP network pool thread = Thread-24
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:429) - ServiceThread ORCHESTRATOR starting main processing loop
Rule Handler received from 192.168.1.152:64960 - payload length: 673
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_InitializationService</serviceName>
		<operationName>purgeAndInitialize</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>TerminateNode</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
Received rule payload packet.....for operation: purgeAndInitialize<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_InitializationService</serviceName>
		<operationName>purgeAndInitialize</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>TerminateNode</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_R001\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_InitializationService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_InitializationService-CanonicalBindings.ruleml.xml
Processing control Node file.... Triage_InitializationService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35003
Converted XML to simple format: CONFIRMED:v003:4
Sent commitment response: CONFIRMED:v003:4 to 192.168.1.152:35003
Sent acknowledgment to 192.168.1.152
CreatFile: file deleted
Scheduler returned pArgs: [100000424, 100000]
pArgs.get(0): 100000424
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 100000424
sid: 100000
Maximum Buffer size seen is = 1
PRIORITY: seqId=100000 version=v003 completedJoin=false schedulerKey=100000424 -> priorityKey=10000100000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10000100000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = "init triage"
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277002516 for seqID=100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:537) - Incoming Sequence ID = 100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:569) - FILTER: Event for Triage_InitializationService.purgeAndInitialize accepted by Triage_InitializationService thread
 WARN [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 100000 (tokenId=100000, mapSize=1)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/purgeAndInitialize/Service.ruleml
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13340
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_InitializationService.purgeAndInitialize with attribute 'token'
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation purgeAndInitialize uses standard (AND) semantics
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2414) - CANONICAL-BINDING: purgeAndInitialize requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2424) - CANONICAL-BINDING: purgeAndInitialize needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:2523) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:658) - DEBUG: Skipping getNextService for TerminateNode
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:354) - Token 100000 buffered at T_in_Triage_InitializationService (buffer=0)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_InitializationService token=100000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_InitializationService (TerminateNode) token=100000  -> Triage_InitializationService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3110) - PETRI-NET: Token 100000 BUFFERED at Triage_InitializationService (T_in arrival)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:137) - Token 100000 entering place: Triage_InitializationService (buffer=0)
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_InitializationService token=100000 eventType=ENTER
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_InitializationService (TerminateNode) token=100000  -> Triage_InitializationService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3116) - PETRI-NET: Token 100000 ENTER at Triage_InitializationService
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:679) - DEBUG: nodeType: TerminateNode
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service Triage_InitializationService:purgeAndInitialize executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1254) - ORCHESTRATOR: Processing TerminateNode for Triage_InitializationService.purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:834) - ORCHESTRATOR: Invoking Triage_InitializationService.purgeAndInitialize via ServiceHelper
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_InitializationService.purgeAndInitialize
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:127) - SequenceID: 100000
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 13
ERROR [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:62) - Error parsing JSON string: "init triage"
java.lang.ClassCastException: class java.lang.String cannot be cast to class org.json.simple.JSONObject (java.lang.String is in module java.base of loader 'bootstrap'; org.json.simple.JSONObject is in unnamed module of loader 'app')
	at org.btsn.json.jsonLibrary.parseString(jsonLibrary.java:60)
	at org.btsn.handlers.ServiceHelper.extractMetadata(ServiceHelper.java:241)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:144)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:223)
	at org.btsn.handlers.TransitionHandler.processTerminateType(TransitionHandler.java:842)
	at org.btsn.handlers.ServiceThread.processControlNode(ServiceThread.java:1264)
	at org.btsn.handlers.ServiceThread.parsePayLoad(ServiceThread.java:721)
	at org.btsn.handlers.ServiceThread.run(ServiceThread.java:483)
	at java.base/java.lang.Thread.run(Thread.java:832)
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:243) - ENRICHMENT: Failed to parse token, creating empty metadata
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
ERROR [ServiceThread-Triage_InitializationService-12300] (jsonLibrary.java:62) - Error parsing JSON string: "init triage"
java.lang.ClassCastException: class java.lang.String cannot be cast to class org.json.simple.JSONObject (java.lang.String is in module java.base of loader 'bootstrap'; org.json.simple.JSONObject is in unnamed module of loader 'app')
	at org.btsn.json.jsonLibrary.parseString(jsonLibrary.java:60)
	at org.btsn.handlers.ServiceHelper.extractBusinessData(ServiceHelper.java:328)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:161)
	at org.btsn.handlers.ServiceHelper.process(ServiceHelper.java:223)
	at org.btsn.handlers.TransitionHandler.processTerminateType(TransitionHandler.java:842)
	at org.btsn.handlers.ServiceThread.processControlNode(ServiceThread.java:1264)
	at org.btsn.handlers.ServiceThread.parsePayLoad(ServiceThread.java:721)
	at org.btsn.handlers.ServiceThread.run(ServiceThread.java:483)
	at java.base/java.lang.Thread.run(Thread.java:832)
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:330) - ENRICHMENT: Failed to parse token, returning as-is
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 13 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_InitializationService.purgeAndInitialize with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_InitializationService.purgeAndInitialize
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:130) - Derby Embedded Driver registered successfully.
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.Triage_InitializationService
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:590) - INVOKE: Calling purgeAndInitialize with 1 arguments

=== TRIAGESERVICE DATABASE PURGE & INITIALIZE (WITH VERIFICATION) ===
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1220) - Discovered 12 tables to purge
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_MARKING_EVOLUTION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_PLACE_STATISTICS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TOKEN_GENEALOGY
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TOKEN_PATHS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: CONSOLIDATED_TRANSITION_FIRINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: JOIN_SYNCHRONIZATION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: MARKINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: PROCESSMEASUREMENTS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: SERVICECONTRIBUTION
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: SERVICEMEASUREMENTS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: TOKEN_GENEALOGY
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1226) - Purged table: TRANSITION_FIRINGS
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1233) - Total tables purged: 12
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:406) - Connected to Derby database: ServiceAnalysisDataBase
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:430) - Creating core measurement tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table SERVICEMEASUREMENTS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table PROCESSMEASUREMENTS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table SERVICECONTRIBUTION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table MARKINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:498) - Core measurement tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:506) - Creating consolidated Petri Net tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TRANSITION_FIRINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TOKEN_PATHS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_MARKING_EVOLUTION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_PLACE_STATISTICS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table CONSOLIDATED_TOKEN_GENEALOGY already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:590) - Consolidated Petri Net tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:598) - Creating local Petri Net analysis tables...
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table TRANSITION_FIRINGS already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table TOKEN_GENEALOGY already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1590) - Table JOIN_SYNCHRONIZATION already exists
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:646) - Local Petri Net tables created/verified
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:417) - Database initialization complete - 13 tables (4 core + 5 consolidated PN + 3 local PN + 1 event) created/verified
 WARN [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1550) - Could not get count for EVENTRESPONSETABLE: Table/View 'EVENTRESPONSETABLE' does not exist.
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1555) - Retrieved measurement statistics: {CONSOLIDATED_MARKING_EVOLUTION_Count=0, CONSOLIDATED_PLACE_STATISTICS_Count=0, CONSOLIDATED_TOKEN_GENEALOGY_Count=0, CONSOLIDATED_TOKEN_PATHS_Count=0, CONSOLIDATED_TRANSITION_FIRINGS_Count=0, EVENTRESPONSETABLE_Count=-1, JOIN_SYNCHRONIZATION_Count=0, MARKINGS_Count=0, PROCESSMEASUREMENTS_Count=0, SERVICECONTRIBUTION_Count=0, SERVICEMEASUREMENTS_Count=0, TOKEN_GENEALOGY_Count=0, TRANSITION_FIRINGS_Count=0}
 WARN [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1550) - Could not get count for EVENTRESPONSETABLE: Table/View 'EVENTRESPONSETABLE' does not exist.
 INFO [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:1555) - Retrieved measurement statistics: {CONSOLIDATED_MARKING_EVOLUTION_Count=0, CONSOLIDATED_PLACE_STATISTICS_Count=0, CONSOLIDATED_TOKEN_GENEALOGY_Count=0, CONSOLIDATED_TOKEN_PATHS_Count=0, CONSOLIDATED_TRANSITION_FIRINGS_Count=0, EVENTRESPONSETABLE_Count=-1, JOIN_SYNCHRONIZATION_Count=0, MARKINGS_Count=0, PROCESSMEASUREMENTS_Count=0, SERVICECONTRIBUTION_Count=0, SERVICEMEASUREMENTS_Count=0, TOKEN_GENEALOGY_Count=0, TRANSITION_FIRINGS_Count=0}
[SUCCESS] TriageService purged and verified on attempt 1
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_InitializationService.purgeAndInitialize completed in 471ms
 WARN [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:376) - ENRICHMENT: Output attribute 'results' not found in service result, cannot enrich
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_InitializationService-12300] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:848) - ORCHESTRATOR: Service returned: {"duration_ms":457,"tables_purged":12,"service":"TriageService_InitializationService","action":"purge_and_initialize","status":"success","attempts":1,"statistics":{"CONSOLIDATED_TOKEN_PATHS_Count":0,"SERVICECONTRIBUTION_Count":0,"CONSOLIDATED_TRANSITION_FIRINGS_Count":0,"CONSOLIDATED_MARKING_EVOLUTION_Count":0,"EVENTRESPONSETABLE_Count":-1,"CONSOLIDATED_TOKEN_GENEALOGY_Count":0,"TOKEN_GENEALOGY_Count":0,"MARKINGS_Count":0,"SERVICEMEASUREMENTS_Count":0,"CONSOLIDATED_PLACE_STATISTICS_Count":0,"PROCESSMEASUREMENTS_Count":0,"TRANSITION_FIRINGS_Count":0,"JOIN_SYNCHRONIZATION_Count":0}}
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:592) - Token 100000 exiting place: Triage_InitializationService -> TERMINATE
 WARN [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_InitializationService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_InitializationService-12300] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_InitializationService token=100000 eventType=TERMINATE
DEBUG [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_InitializationService (TerminateNode) token=100000 Triage_InitializationService -> TERMINATE [TERMINATE]
 INFO [ServiceThread-Triage_InitializationService-12300] (PetriNetInstrumentationHelper.java:626) - Token 100000 terminating at T_out_Triage_InitializationService
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:3220) - PETRI-NET: Token 100000 TERMINATED at Triage_InitializationService
 INFO [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:853) - ORCHESTRATOR: Token 100000 terminated after Triage_InitializationService.purgeAndInitialize
DEBUG [ServiceThread-Triage_InitializationService-12300] (TransitionHandler.java:859) - Processing Terminate Type complete.
ERROR [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1306) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 100000
DEBUG [ServiceThread-Triage_InitializationService-12300] (ServiceThread.java:724) - ORCHESTRATOR: Service Triage_InitializationService sequence ID: 100000 complete.
Rule Handler received from 192.168.1.152:51504 - payload length: 1311
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>5</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>LaboratoryService</Ind><Ind>processLabRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>CardiologyService</Ind><Ind>processCardiacAssessment</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>RadiologyService</Ind><Ind>processImagingRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>TreatmentService</Ind><Ind>executeDirectTreatment</Ind><Ind>GATEWAY_NODE</Ind><Ind>DIRECT_TO_TREATMENT</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Received rule payload packet.....for operation: processTriageAssessment<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v003</ruleBaseVersion>
		<ruleBaseCommitment>5</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>LaboratoryService</Ind><Ind>processLabRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>CardiologyService</Ind><Ind>processCardiacAssessment</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>RadiologyService</Ind><Ind>processImagingRequest</Ind><Ind>GATEWAY_NODE</Ind><Ind>STANDARD_WORKFLOW</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>TreatmentService</Ind><Ind>executeDirectTreatment</Ind><Ind>GATEWAY_NODE</Ind><Ind>DIRECT_TO_TREATMENT</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_R001\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
Processing control Node file.... TriageService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35003
Converted XML to simple format: CONFIRMED:v003:5
Sent commitment response: CONFIRMED:v003:5 to 192.168.1.152:35003
Sent acknowledgment to 192.168.1.152
Rule Handler received from 192.168.1.152:51514 - payload length: 853
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v002</ruleBaseVersion>
		<ruleBaseCommitment>2</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>acknowledgeTokenArrival</Ind><Ind>GATEWAY_NODE</Ind><Ind>Network</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Received rule payload packet.....for operation: processTriageAssessment<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v002</ruleBaseVersion>
		<ruleBaseCommitment>2</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>TriageService</serviceName>
		<operationName>processTriageAssessment</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>NodeType</Rel><Ind>GatewayNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>acknowledgeTokenArrival</Ind><Ind>GATEWAY_NODE</Ind><Ind>Network</Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_R001\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\TriageService-CanonicalBindings.ruleml.xml
Processing control Node file.... TriageService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35002
Converted XML to simple format: CONFIRMED:v002:2
Sent commitment response: CONFIRMED:v002:2 to 192.168.1.152:35002
Sent acknowledgment to 192.168.1.152
Scheduler returned pArgs: [3000000482, 3000000]
pArgs.get(0): 3000000482
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3000000482
sid: 3000000
PRIORITY: seqId=3000000 version=v003 completedJoin=false schedulerKey=3000000482 -> priorityKey=10003000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003000000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277146424,"tokenId":"3000000","data":{"condition":"chest pain","patientId":"P_Triage_3000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277026424,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277026427 for seqID=3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3000000 (tokenId=3000000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Maximum Buffer size seen is = 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-TriageService-12100] (ServiceThread.java:2523) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3000000 buffered at T_in_TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3000000 from PATIENT_ARRIVAL at 1770277026427 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3000000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3000000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3000000  -> TriageService [BUFFERED] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3000000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3000000 entering place: TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3000000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3000000  -> TriageService [ENTER] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3000000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277026424
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
=== TRIAGE SERVICE INITIALIZING ===
Pure Business Logic - No Infrastructure Concerns
Clinical-based routing decisions enabled
=== TRIAGE SERVICE READY ===
Scheduler returned pArgs: [3010000838, 3010000]
pArgs.get(0): 3010000838
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3010000838
sid: 3010000
PRIORITY: seqId=3010000 version=v003 completedJoin=false schedulerKey=3010000838 -> priorityKey=10003010000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003010000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_3000000] Database initialized
[TRIAGE_PLACE_3000000] No database setup needed - service ready
[TRIAGE_PLACE_3000000] TriageService initialized for sequence: 3000000
[TRIAGE_PLACE_3000000] TriageService instance created - nurse: RN_TRIAGE_202
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3000000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3000000] Received clean business data length: 271
[TRIAGE_PLACE_3000000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3000000] Processing assessment for sequence 3000000 with data: {"notAfter":1770277146424,"tokenId":"3000000","data":{"condition":"chest pain","patientId":"P_Triage_3000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277026424,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3000000] Preserved workflow_start_time: 1770277026424
[TRIAGE_PLACE_3000000] Parsed token: id=3000000, version=v003, place=TriageService
[TRIAGE_PLACE_3000000] Extracted: Patient=P_Triage_3000000, Indication=chest pain
[TRIAGE_PLACE_3000000] Processing specific triage assessment
[TRIAGE_PLACE_3000000] Patient condition: chest pain
[TRIAGE_PLACE_3000000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3000000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3000000] Condition: chest pain
[TRIAGE_PLACE_3000000] Priority: URGENT
[TRIAGE_PLACE_3000000] Pain Score: 8/10
[TRIAGE_PLACE_3000000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3000000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3000000] Processing Time: 15ms
[TRIAGE_PLACE_3000000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3000000] Assessment completed successfully
[TRIAGE_PLACE_3000000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 397ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3000000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1770277146424,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026424,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277026829,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":397,"original_token":"{\"notAfter\":1770277146424,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277027226,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3000000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3000000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3000000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000001 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3000000 -> child 3000001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3000001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3000001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3000001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1770277146424,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026424,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277026829,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":397,"original_token":"{\"notAfter\":1770277146424,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277027226,"status":"TRIAGE_COMPLETE"}}
Feb 05, 2026 5:37:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277027442_19 to 192.168.1.152:2105
Feb 05, 2026 5:37:07 PM org.btsn.handlers.EventPublisher publishDirectly
INFO: EventPublisher: Created shared socket on port 51525
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3000000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000002 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3000000 -> child 3000002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3000002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3000002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:37:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277027586_204 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3000002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1770277146424,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026424,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277026829,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":397,"original_token":"{\"notAfter\":1770277146424,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277027226,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3000003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3000000 -> child=3000003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3000000 -> 3000003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3000000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3000003 created from parent 3000000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3000000 -> child 3000003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3000003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3000003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3000003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3000003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3000003
Scheduler returned pArgs: [3020000657, 3020000]
pArgs.get(0): 3020000657
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3020000657
sid: 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3000003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3000000":{"serviceType":"triageResults","notAfter":1770277146424,"tokenId":"3000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:07","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026424,"placeId":"TRIAGE_PLACE_3000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277026829,"version":"v003","sequenceId":"3000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":397,"original_token":"{\"notAfter\":1770277146424,\"tokenId\":\"3000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277027226,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3000000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277026488 for seqID=3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277026427 for seqID=3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277026488
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277026741
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277027926
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277026427
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=0, Total=1, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 253ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1185ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 1438ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 0.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3000000 complete.
Feb 05, 2026 5:37:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277027924_479 to 192.168.1.152:2101
Maximum Buffer size seen is = 2
PRIORITY: seqId=3020000 version=v003 completedJoin=false schedulerKey=3020000657 -> priorityKey=10003020000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003020000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277146826,"tokenId":"3010000","data":{"condition":"chest pain","patientId":"P_Triage_3010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277026826,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277026826 for seqID=3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3010000 (tokenId=3010000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3010000 buffered at T_in_TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3010000 from PATIENT_ARRIVAL at 1770277026826 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3010000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3010000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3010000  -> TriageService [BUFFERED] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3010000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3010000 entering place: TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3010000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3010000  -> TriageService [ENTER] buffer=1
Scheduler returned pArgs: [3030000298, 3030000]
pArgs.get(0): 3030000298
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3030000298
sid: 3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3010000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
PRIORITY: seqId=3030000 version=v003 completedJoin=false schedulerKey=3030000298 -> priorityKey=10003030000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003030000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277026826
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3010000] Database initialized
[TRIAGE_PLACE_3010000] No database setup needed - service ready
[TRIAGE_PLACE_3010000] TriageService initialized for sequence: 3010000
[TRIAGE_PLACE_3010000] TriageService instance created - nurse: RN_TRIAGE_1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3010000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3010000] Received clean business data length: 271
[TRIAGE_PLACE_3010000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3010000] Processing assessment for sequence 3010000 with data: {"notAfter":1770277146826,"tokenId":"3010000","data":{"condition":"chest pain","patientId":"P_Triage_3010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277026826,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3010000] Preserved workflow_start_time: 1770277026826
[TRIAGE_PLACE_3010000] Parsed token: id=3010000, version=v003, place=TriageService
[TRIAGE_PLACE_3010000] Extracted: Patient=P_Triage_3010000, Indication=chest pain
[TRIAGE_PLACE_3010000] Processing specific triage assessment
[TRIAGE_PLACE_3010000] Patient condition: chest pain
[TRIAGE_PLACE_3010000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3010000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3010000] Condition: chest pain
[TRIAGE_PLACE_3010000] Priority: URGENT
[TRIAGE_PLACE_3010000] Pain Score: 9/10
[TRIAGE_PLACE_3010000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3010000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3010000] Processing Time: 0ms
[TRIAGE_PLACE_3010000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3010000] Assessment completed successfully
[TRIAGE_PLACE_3010000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 1233ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3010000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1770277146826,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026826,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277029781,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1233,"original_token":"{\"notAfter\":1770277146826,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026826,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277031014,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3010000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3010000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3010000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010001 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3010000 -> child 3010001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3010001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3010001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3010001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1770277146826,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026826,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277029781,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1233,"original_token":"{\"notAfter\":1770277146826,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026826,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277031014,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
Scheduler returned pArgs: [3040000531, 3040000]
pArgs.get(0): 3040000531
queueAction: 48
MAXQUEUE: 50
costKeyTokenMap size before: 2
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3040000531
sid: 3040000
PRIORITY: seqId=3040000 version=v003 completedJoin=false schedulerKey=3040000531 -> priorityKey=10003040000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003040000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 3
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3010000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:11 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277031509_275 to 192.168.1.152:2105
Maximum Buffer size seen is = 3
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010002 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3010000 -> child 3010002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3010002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3010002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3010002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1770277146826,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026826,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277029781,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1233,"original_token":"{\"notAfter\":1770277146826,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026826,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277031014,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3010003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3010000 -> child=3010003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3010000 -> 3010003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3010000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3010003 created from parent 3010000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3010000 -> child 3010003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3010003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3010003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3010003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3010003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3010003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Feb 05, 2026 5:37:11 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277031767_144 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:37:12 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277032027_658 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3010003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3010000":{"serviceType":"triageResults","notAfter":1770277146826,"tokenId":"3010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:11","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277026826,"placeId":"TRIAGE_PLACE_3010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277029781,"version":"v003","sequenceId":"3010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1233,"original_token":"{\"notAfter\":1770277146826,\"tokenId\":\"3010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277026826,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277031014,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3010000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277026844 for seqID=3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277026826 for seqID=3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277026844
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277029417
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277032058
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277026826
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=1, Total=2, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 2573ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2641ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 5214ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 2.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3010000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277147629,"tokenId":"3020000","data":{"condition":"chest pain","patientId":"P_Triage_3020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277027629,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277027630 for seqID=3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3020000 (tokenId=3020000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3020000 buffered at T_in_TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3020000 from PATIENT_ARRIVAL at 1770277027630 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3020000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3020000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3020000  -> TriageService [BUFFERED] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3020000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3020000 entering place: TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3020000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3020000  -> TriageService [ENTER] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3020000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277027629
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3020000] Database initialized
[TRIAGE_PLACE_3020000] No database setup needed - service ready
[TRIAGE_PLACE_3020000] TriageService initialized for sequence: 3020000
[TRIAGE_PLACE_3020000] TriageService instance created - nurse: RN_TRIAGE_205
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3020000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3020000] Received clean business data length: 271
[TRIAGE_PLACE_3020000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3020000] Processing assessment for sequence 3020000 with data: {"notAfter":1770277147629,"tokenId":"3020000","data":{"condition":"chest pain","patientId":"P_Triage_3020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277027629,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3020000] Preserved workflow_start_time: 1770277027629
[TRIAGE_PLACE_3020000] Parsed token: id=3020000, version=v003, place=TriageService
[TRIAGE_PLACE_3020000] Extracted: Patient=P_Triage_3020000, Indication=chest pain
[TRIAGE_PLACE_3020000] Processing specific triage assessment
[TRIAGE_PLACE_3020000] Patient condition: chest pain
[TRIAGE_PLACE_3020000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3020000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3020000] Condition: chest pain
[TRIAGE_PLACE_3020000] Priority: URGENT
[TRIAGE_PLACE_3020000] Pain Score: 7/10
[TRIAGE_PLACE_3020000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3020000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3020000] Processing Time: 1ms
[TRIAGE_PLACE_3020000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3020000] Assessment completed successfully
[TRIAGE_PLACE_3020000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 594ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3020000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1770277147629,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:14","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277027629,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277033790,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":594,"original_token":"{\"notAfter\":1770277147629,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277027629,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277034384,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3020000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3020000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3020000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020001 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3020000 -> child 3020001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3020001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3020001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3020001 -> 'triageResults' to LaboratoryService.processLabRequest
Scheduler returned pArgs: [2000000199, 2000000]
pArgs.get(0): 2000000199
queueAction: 48
MAXQUEUE: 50
costKeyTokenMap size before: 2
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2000000199
sid: 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1770277147629,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:14","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277027629,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277033790,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":594,"original_token":"{\"notAfter\":1770277147629,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277027629,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277034384,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
PRIORITY: seqId=2000000 version=v002 completedJoin=false schedulerKey=2000000199 -> priorityKey=10002000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002000000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 3
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Scheduler returned pArgs: [3050000238, 3050000]
pArgs.get(0): 3050000238
queueAction: 47
MAXQUEUE: 50
costKeyTokenMap size before: 3
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3050000238
sid: 3050000
PRIORITY: seqId=3050000 version=v003 completedJoin=false schedulerKey=3050000238 -> priorityKey=10003050000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003050000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 4
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3020000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020002 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3020000 -> child 3020002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3020002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3020002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
Feb 05, 2026 5:37:15 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277035200_572 to 192.168.1.152:2105
Maximum Buffer size seen is = 4
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3020002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1770277147629,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:14","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277027629,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277033790,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":594,"original_token":"{\"notAfter\":1770277147629,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277027629,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277034384,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3020003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3020000 -> child=3020003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3020000 -> 3020003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3020000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:15 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277035628_792 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3020003 created from parent 3020000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3020000 -> child 3020003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3020003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3020003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3020003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3020003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3020003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:37:15 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277035980_992 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3020003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3020000":{"serviceType":"triageResults","notAfter":1770277147629,"tokenId":"3020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:14","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277027629,"placeId":"TRIAGE_PLACE_3020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277033790,"version":"v003","sequenceId":"3020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":594,"original_token":"{\"notAfter\":1770277147629,\"tokenId\":\"3020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277027629,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277034384,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3020000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277028007 for seqID=3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277027630 for seqID=3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277028007
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277033238
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277035982
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277027630
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=2, Total=3, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 5231ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2744ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 7975ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 4.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3020000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277154621,"tokenId":"2000000","data":{"condition":"chest pain","patientId":"P_Triage_2000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277034621,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277034623 for seqID=2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2000000 (tokenId=2000000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2000000 buffered at T_in_TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2000000 from CANARY_TEST at 1770277034623 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2000000 eventType=GENERATED
Scheduler returned pArgs: [3060000180, 3060000]
pArgs.get(0): 3060000180
queueAction: 47
MAXQUEUE: 50
costKeyTokenMap size before: 3
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3060000180
sid: 3060000
PRIORITY: seqId=3060000 version=v003 completedJoin=false schedulerKey=3060000180 -> priorityKey=10003060000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003060000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 4
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2000000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2000000  -> TriageService [BUFFERED] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2000000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2000000 entering place: TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2000000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2000000  -> TriageService [ENTER] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2000000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Maximum Buffer size seen is = 5
Scheduler returned pArgs: [2010000542, 2010000]
pArgs.get(0): 2010000542
queueAction: 46
MAXQUEUE: 50
costKeyTokenMap size before: 4
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2010000542
sid: 2010000
PRIORITY: seqId=2010000 version=v002 completedJoin=false schedulerKey=2010000542 -> priorityKey=10002010000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002010000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 5
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277034621
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3070000862, 3070000]
pArgs.get(0): 3070000862
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3070000862
sid: 3070000
PRIORITY: seqId=3070000 version=v003 completedJoin=false schedulerKey=3070000862 -> priorityKey=10003070000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003070000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 6
[TRIAGE_PLACE_2000000] Database initialized
[TRIAGE_PLACE_2000000] No database setup needed - service ready
[TRIAGE_PLACE_2000000] TriageService initialized for sequence: 2000000
[TRIAGE_PLACE_2000000] TriageService instance created - nurse: RN_TRIAGE_178
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2000000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2000000] Received clean business data length: 271
[TRIAGE_PLACE_2000000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2000000] Processing assessment for sequence 2000000 with data: {"notAfter":1770277154621,"tokenId":"2000000","data":{"condition":"chest pain","patientId":"P_Triage_2000000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277034621,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2000000] Preserved workflow_start_time: 1770277034621
[TRIAGE_PLACE_2000000] Parsed token: id=2000000, version=v002, place=TriageService
[TRIAGE_PLACE_2000000] Extracted: Patient=P_Triage_2000000, Indication=chest pain
[TRIAGE_PLACE_2000000] Processing specific triage assessment
[TRIAGE_PLACE_2000000] Patient condition: chest pain
[TRIAGE_PLACE_2000000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2000000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2000000] Condition: chest pain
[TRIAGE_PLACE_2000000] Priority: URGENT
[TRIAGE_PLACE_2000000] Pain Score: 8/10
[TRIAGE_PLACE_2000000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2000000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2000000] Processing Time: 0ms
[TRIAGE_PLACE_2000000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2000000] Assessment completed successfully
[TRIAGE_PLACE_2000000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 1516ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2000000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2000000":{"serviceType":"triageResults","notAfter":1770277154621,"tokenId":"2000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277034621,"placeId":"TRIAGE_PLACE_2000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277038667,"version":"v002","sequenceId":"2000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1516,"original_token":"{\"notAfter\":1770277154621,\"tokenId\":\"2000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277034621,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277040183,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2000000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2000000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2000000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2000000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2000000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2000000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2000000":{"serviceType":"triageResults","notAfter":1770277154621,"tokenId":"2000000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2000000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:20","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277034621,"placeId":"TRIAGE_PLACE_2000000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277038667,"version":"v002","sequenceId":"2000000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1516,"original_token":"{\"notAfter\":1770277154621,\"tokenId\":\"2000000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2000000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277034621,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277040183,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277035211 for seqID=2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277034623 for seqID=2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2000000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277035211
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277038241
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277040433
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277034623
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=3, Total=4, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 3030ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2192ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 5222ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 6.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2000000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2000000 complete.
Feb 05, 2026 5:37:20 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277040430_373 to 192.168.1.152:3000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277158374,"tokenId":"2010000","data":{"condition":"chest pain","patientId":"P_Triage_2010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277038374,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277038374 for seqID=2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2010000 (tokenId=2010000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2010000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2010000 from CANARY_TEST at 1770277038374 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2010000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2010000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2010000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2010000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2010000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2010000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2010000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2010000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [3080000742, 3080000]
pArgs.get(0): 3080000742
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3080000742
sid: 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277038374
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
PRIORITY: seqId=3080000 version=v003 completedJoin=false schedulerKey=3080000742 -> priorityKey=10003080000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003080000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Scheduler returned pArgs: [3090000964, 3090000]
pArgs.get(0): 3090000964
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3090000964
sid: 3090000
Maximum Buffer size seen is = 7
PRIORITY: seqId=3090000 version=v003 completedJoin=false schedulerKey=3090000964 -> priorityKey=10003090000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003090000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Scheduler returned pArgs: [3100000737, 3100000]
pArgs.get(0): 3100000737
queueAction: 43
MAXQUEUE: 50
costKeyTokenMap size before: 7
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3100000737
sid: 3100000
PRIORITY: seqId=3100000 version=v003 completedJoin=false schedulerKey=3100000737 -> priorityKey=10003100000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003100000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 8
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 8
Scheduler returned pArgs: [2020000081, 2020000]
pArgs.get(0): 2020000081
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2020000081
sid: 2020000
[TRIAGE_PLACE_2010000] Database initialized
[TRIAGE_PLACE_2010000] No database setup needed - service ready
[TRIAGE_PLACE_2010000] TriageService initialized for sequence: 2010000
[TRIAGE_PLACE_2010000] TriageService instance created - nurse: RN_TRIAGE_85
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2010000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2010000] Received clean business data length: 271
[TRIAGE_PLACE_2010000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2010000] Processing assessment for sequence 2010000 with data: {"notAfter":1770277158374,"tokenId":"2010000","data":{"condition":"chest pain","patientId":"P_Triage_2010000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277038374,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2010000] Preserved workflow_start_time: 1770277038374
[TRIAGE_PLACE_2010000] Parsed token: id=2010000, version=v002, place=TriageService
[TRIAGE_PLACE_2010000] Extracted: Patient=P_Triage_2010000, Indication=chest pain
[TRIAGE_PLACE_2010000] Processing specific triage assessment
[TRIAGE_PLACE_2010000] Patient condition: chest pain
[TRIAGE_PLACE_2010000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2010000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2010000] Condition: chest pain
[TRIAGE_PLACE_2010000] Priority: URGENT
[TRIAGE_PLACE_2010000] Pain Score: 8/10
[TRIAGE_PLACE_2010000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2010000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2010000] Processing Time: 0ms
[TRIAGE_PLACE_2010000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2010000] Assessment completed successfully
[TRIAGE_PLACE_2010000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 1202ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2010000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2010000":{"serviceType":"triageResults","notAfter":1770277158374,"tokenId":"2010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:24","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038374,"placeId":"TRIAGE_PLACE_2010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277042886,"version":"v002","sequenceId":"2010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1202,"original_token":"{\"notAfter\":1770277158374,\"tokenId\":\"2010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038374,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277044088,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2010000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2010000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2010000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2010000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2010000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
PRIORITY: seqId=2020000 version=v002 completedJoin=false schedulerKey=2020000081 -> priorityKey=10002020000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002020000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Maximum Buffer size seen is = 9
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2010000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2010000":{"serviceType":"triageResults","notAfter":1770277158374,"tokenId":"2010000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2010000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:24","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038374,"placeId":"TRIAGE_PLACE_2010000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277042886,"version":"v002","sequenceId":"2010000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":1202,"original_token":"{\"notAfter\":1770277158374,\"tokenId\":\"2010000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2010000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038374,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277044088,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277038553 for seqID=2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277038374 for seqID=2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2010000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277038553
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277042274
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277044308
Feb 05, 2026 5:37:24 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277044306_723 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277038374
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 3721ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2034ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 5755ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2010000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2010000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277164016,"tokenId":"2020000","data":{"condition":"chest pain","patientId":"P_Triage_2020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277044016,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277044016 for seqID=2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2020000 (tokenId=2020000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2020000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2020000 from CANARY_TEST at 1770277044016 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2020000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2020000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2020000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2020000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2020000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2020000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2020000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2020000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277044016
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3110000620, 3110000]
pArgs.get(0): 3110000620
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3110000620
sid: 3110000
PRIORITY: seqId=3110000 version=v003 completedJoin=false schedulerKey=3110000620 -> priorityKey=10003110000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003110000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 10
Scheduler returned pArgs: [2030000662, 2030000]
pArgs.get(0): 2030000662
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2030000662
sid: 2030000
PRIORITY: seqId=2030000 version=v002 completedJoin=false schedulerKey=2030000662 -> priorityKey=10002030000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002030000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2020000] Database initialized
[TRIAGE_PLACE_2020000] No database setup needed - service ready
[TRIAGE_PLACE_2020000] TriageService initialized for sequence: 2020000
[TRIAGE_PLACE_2020000] TriageService instance created - nurse: RN_TRIAGE_729
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2020000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2020000] Received clean business data length: 271
[TRIAGE_PLACE_2020000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2020000] Processing assessment for sequence 2020000 with data: {"notAfter":1770277164016,"tokenId":"2020000","data":{"condition":"chest pain","patientId":"P_Triage_2020000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277044016,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2020000] Preserved workflow_start_time: 1770277044016
[TRIAGE_PLACE_2020000] Parsed token: id=2020000, version=v002, place=TriageService
[TRIAGE_PLACE_2020000] Extracted: Patient=P_Triage_2020000, Indication=chest pain
[TRIAGE_PLACE_2020000] Processing specific triage assessment
[TRIAGE_PLACE_2020000] Patient condition: chest pain
[TRIAGE_PLACE_2020000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2020000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2020000] Condition: chest pain
[TRIAGE_PLACE_2020000] Priority: URGENT
[TRIAGE_PLACE_2020000] Pain Score: 9/10
[TRIAGE_PLACE_2020000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2020000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2020000] Processing Time: 1ms
[TRIAGE_PLACE_2020000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2020000] Assessment completed successfully
[TRIAGE_PLACE_2020000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 754ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2020000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2020000":{"serviceType":"triageResults","notAfter":1770277164016,"tokenId":"2020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:26","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277044016,"placeId":"TRIAGE_PLACE_2020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277045980,"version":"v002","sequenceId":"2020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":754,"original_token":"{\"notAfter\":1770277164016,\"tokenId\":\"2020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277044016,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277046734,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2020000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2020000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2020000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2020000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2020000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2020000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2020000":{"serviceType":"triageResults","notAfter":1770277164016,"tokenId":"2020000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2020000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:26","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277044016,"placeId":"TRIAGE_PLACE_2020000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277045980,"version":"v002","sequenceId":"2020000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":754,"original_token":"{\"notAfter\":1770277164016,\"tokenId\":\"2020000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2020000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277044016,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277046734,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277044085 for seqID=2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277044016 for seqID=2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2020000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277044085
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277045608
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277046924
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277044016
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 1523ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1316ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 2839ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2020000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2020000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277166634,"tokenId":"2030000","data":{"condition":"chest pain","patientId":"P_Triage_2030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277046634,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277046634 for seqID=2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2030000 (tokenId=2030000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
Feb 05, 2026 5:37:26 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277046922_973 to 192.168.1.152:3000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2030000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2030000 from CANARY_TEST at 1770277046634 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2030000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2030000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2030000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2030000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2030000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2030000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2030000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2030000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [3120000773, 3120000]
pArgs.get(0): 3120000773
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3120000773
sid: 3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277046634
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
PRIORITY: seqId=3120000 version=v003 completedJoin=false schedulerKey=3120000773 -> priorityKey=10003120000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003120000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2030000] Database initialized
[TRIAGE_PLACE_2030000] No database setup needed - service ready
[TRIAGE_PLACE_2030000] TriageService initialized for sequence: 2030000
[TRIAGE_PLACE_2030000] TriageService instance created - nurse: RN_TRIAGE_1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2030000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2030000] Received clean business data length: 271
[TRIAGE_PLACE_2030000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2030000] Processing assessment for sequence 2030000 with data: {"notAfter":1770277166634,"tokenId":"2030000","data":{"condition":"chest pain","patientId":"P_Triage_2030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277046634,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2030000] Preserved workflow_start_time: 1770277046634
[TRIAGE_PLACE_2030000] Parsed token: id=2030000, version=v002, place=TriageService
[TRIAGE_PLACE_2030000] Extracted: Patient=P_Triage_2030000, Indication=chest pain
[TRIAGE_PLACE_2030000] Processing specific triage assessment
[TRIAGE_PLACE_2030000] Patient condition: chest pain
[TRIAGE_PLACE_2030000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_2030000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2030000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2030000] Condition: chest pain
[TRIAGE_PLACE_2030000] Priority: URGENT
[TRIAGE_PLACE_2030000] Pain Score: 9/10
[TRIAGE_PLACE_2030000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_2030000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2030000] Processing Time: 0ms
[TRIAGE_PLACE_2030000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2030000] Assessment completed successfully
[TRIAGE_PLACE_2030000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 189ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2030000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2030000":{"serviceType":"triageResults","notAfter":1770277166634,"tokenId":"2030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:28","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046634,"placeId":"TRIAGE_PLACE_2030000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277047819,"version":"v002","sequenceId":"2030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":189,"original_token":"{\"notAfter\":1770277166634,\"tokenId\":\"2030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046634,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277048008,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2030000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2030000 exiting place: TriageService -> MonitorService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2030000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2030000 TriageService -> MonitorService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2030000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:28 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277048214_621 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2030000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2030000":{"serviceType":"triageResults","notAfter":1770277166634,"tokenId":"2030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:28","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046634,"placeId":"TRIAGE_PLACE_2030000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277047819,"version":"v002","sequenceId":"2030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":189,"original_token":"{\"notAfter\":1770277166634,\"tokenId\":\"2030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046634,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277048008,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277046669 for seqID=2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277046634 for seqID=2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277046669
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277047615
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277048216
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277046634
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 946ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 601ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 1547ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2030000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277148226,"tokenId":"3030000","data":{"condition":"chest pain","patientId":"P_Triage_3030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277028226,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277028226 for seqID=3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3030000 (tokenId=3030000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3030000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3030000 from PATIENT_ARRIVAL at 1770277028226 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3030000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3030000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3030000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3030000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3030000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3030000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3030000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3030000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277028226
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3030000] Database initialized
[TRIAGE_PLACE_3030000] No database setup needed - service ready
[TRIAGE_PLACE_3030000] TriageService initialized for sequence: 3030000
[TRIAGE_PLACE_3030000] TriageService instance created - nurse: RN_TRIAGE_3
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3030000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3030000] Received clean business data length: 271
[TRIAGE_PLACE_3030000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3030000] Processing assessment for sequence 3030000 with data: {"notAfter":1770277148226,"tokenId":"3030000","data":{"condition":"chest pain","patientId":"P_Triage_3030000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277028226,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3030000] Preserved workflow_start_time: 1770277028226
[TRIAGE_PLACE_3030000] Parsed token: id=3030000, version=v003, place=TriageService
[TRIAGE_PLACE_3030000] Extracted: Patient=P_Triage_3030000, Indication=chest pain
[TRIAGE_PLACE_3030000] Processing specific triage assessment
[TRIAGE_PLACE_3030000] Patient condition: chest pain
[TRIAGE_PLACE_3030000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3030000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3030000] Condition: chest pain
[TRIAGE_PLACE_3030000] Priority: URGENT
[TRIAGE_PLACE_3030000] Pain Score: 9/10
[TRIAGE_PLACE_3030000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3030000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3030000] Processing Time: 2ms
[TRIAGE_PLACE_3030000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3030000] Assessment completed successfully
[TRIAGE_PLACE_3030000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 405ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3030000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1770277148226,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:30","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277028226,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277049602,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":405,"original_token":"{\"notAfter\":1770277148226,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277028226,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277050007,"status":"TRIAGE_COMPLETE"}}
Scheduler returned pArgs: [2040000021, 2040000]
pArgs.get(0): 2040000021
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2040000021
sid: 2040000
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3030000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3030000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030001 via T_out_TriageService (workflowBase=3000000)
PRIORITY: seqId=2040000 version=v002 completedJoin=false schedulerKey=2040000021 -> priorityKey=10002040000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002040000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3030000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030001 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3030000 -> child 3030001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3030001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3030001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3030001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1770277148226,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:30","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277028226,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277049602,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":405,"original_token":"{\"notAfter\":1770277148226,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277028226,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277050007,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3030000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030002 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3030000 -> child 3030002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3030002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3030002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:37:30 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277050390_24 to 192.168.1.152:2105
Feb 05, 2026 5:37:30 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277050691_252 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3030002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1770277148226,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:30","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277028226,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277049602,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":405,"original_token":"{\"notAfter\":1770277148226,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277028226,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277050007,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3030003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3030000 -> child=3030003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3030000 -> 3030003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3030000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3030003 created from parent 3030000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3030000 -> child 3030003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3030003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3030003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3030003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3030003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3030003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3030003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3030000":{"serviceType":"triageResults","notAfter":1770277148226,"tokenId":"3030000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3030000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:30","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277028226,"placeId":"TRIAGE_PLACE_3030000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277049602,"version":"v003","sequenceId":"3030000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":405,"original_token":"{\"notAfter\":1770277148226,\"tokenId\":\"3030000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3030000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277028226,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277050007,"status":"TRIAGE_COMPLETE"}}
Feb 05, 2026 5:37:31 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277051260_320 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3030000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277029305 for seqID=3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277028226 for seqID=3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3030000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277029305
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277049240
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277051358
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277028226
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 19935ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2118ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 22053ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3030000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3030000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277170007,"tokenId":"2040000","data":{"condition":"chest pain","patientId":"P_Triage_2040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277050007,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277050007 for seqID=2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2040000 (tokenId=2040000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [2050000573, 2050000]
pArgs.get(0): 2050000573
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2050000573
sid: 2050000
PRIORITY: seqId=2050000 version=v002 completedJoin=false schedulerKey=2050000573 -> priorityKey=10002050000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002050000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2040000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2040000 from CANARY_TEST at 1770277050007 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2040000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2040000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2040000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2040000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2040000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2040000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2040000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2040000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277050007
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2040000] Database initialized
[TRIAGE_PLACE_2040000] No database setup needed - service ready
[TRIAGE_PLACE_2040000] TriageService initialized for sequence: 2040000
[TRIAGE_PLACE_2040000] TriageService instance created - nurse: RN_TRIAGE_693
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2040000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2040000] Received clean business data length: 271
[TRIAGE_PLACE_2040000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2040000] Processing assessment for sequence 2040000 with data: {"notAfter":1770277170007,"tokenId":"2040000","data":{"condition":"chest pain","patientId":"P_Triage_2040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277050007,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2040000] Preserved workflow_start_time: 1770277050007
[TRIAGE_PLACE_2040000] Parsed token: id=2040000, version=v002, place=TriageService
[TRIAGE_PLACE_2040000] Extracted: Patient=P_Triage_2040000, Indication=chest pain
[TRIAGE_PLACE_2040000] Processing specific triage assessment
[TRIAGE_PLACE_2040000] Patient condition: chest pain
[TRIAGE_PLACE_2040000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_2040000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2040000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2040000] Condition: chest pain
[TRIAGE_PLACE_2040000] Priority: URGENT
[TRIAGE_PLACE_2040000] Pain Score: 9/10
[TRIAGE_PLACE_2040000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_2040000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_2040000] Processing Time: 0ms
[TRIAGE_PLACE_2040000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2040000] Assessment completed successfully
[TRIAGE_PLACE_2040000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 157ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2040000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2040000":{"serviceType":"triageResults","notAfter":1770277170007,"tokenId":"2040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:33","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277050007,"placeId":"TRIAGE_PLACE_2040000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277053538,"version":"v002","sequenceId":"2040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":157,"original_token":"{\"notAfter\":1770277170007,\"tokenId\":\"2040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277050007,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277053695,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2040000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2040000 exiting place: TriageService -> MonitorService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2040000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2040000 TriageService -> MonitorService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2040000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:33 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277053882_748 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2040000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2040000":{"serviceType":"triageResults","notAfter":1770277170007,"tokenId":"2040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_2040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:33","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277050007,"placeId":"TRIAGE_PLACE_2040000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277053538,"version":"v002","sequenceId":"2040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":157,"original_token":"{\"notAfter\":1770277170007,\"tokenId\":\"2040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277050007,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277053695,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277050069 for seqID=2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277050007 for seqID=2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277050069
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277053081
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277053884
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277050007
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 3012ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 803ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 3815ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2040000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277172062,"tokenId":"2050000","data":{"condition":"chest pain","patientId":"P_Triage_2050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277052062,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277052063 for seqID=2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2050000 (tokenId=2050000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2050000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2050000 from CANARY_TEST at 1770277052063 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2050000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2050000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2050000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2050000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2050000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2050000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2050000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2050000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [2060000717, 2060000]
pArgs.get(0): 2060000717
queueAction: 41
MAXQUEUE: 50
costKeyTokenMap size before: 9
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2060000717
sid: 2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277052062
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
PRIORITY: seqId=2060000 version=v002 completedJoin=false schedulerKey=2060000717 -> priorityKey=10002060000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002060000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 10
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2050000] Database initialized
[TRIAGE_PLACE_2050000] No database setup needed - service ready
[TRIAGE_PLACE_2050000] TriageService initialized for sequence: 2050000
[TRIAGE_PLACE_2050000] TriageService instance created - nurse: RN_TRIAGE_993
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2050000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2050000] Received clean business data length: 271
[TRIAGE_PLACE_2050000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2050000] Processing assessment for sequence 2050000 with data: {"notAfter":1770277172062,"tokenId":"2050000","data":{"condition":"chest pain","patientId":"P_Triage_2050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277052062,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2050000] Preserved workflow_start_time: 1770277052062
[TRIAGE_PLACE_2050000] Parsed token: id=2050000, version=v002, place=TriageService
[TRIAGE_PLACE_2050000] Extracted: Patient=P_Triage_2050000, Indication=chest pain
[TRIAGE_PLACE_2050000] Processing specific triage assessment
[TRIAGE_PLACE_2050000] Patient condition: chest pain
[TRIAGE_PLACE_2050000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2050000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2050000] Condition: chest pain
[TRIAGE_PLACE_2050000] Priority: URGENT
[TRIAGE_PLACE_2050000] Pain Score: 9/10
[TRIAGE_PLACE_2050000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2050000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2050000] Processing Time: 0ms
[TRIAGE_PLACE_2050000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2050000] Assessment completed successfully
[TRIAGE_PLACE_2050000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 177ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2050000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2050000":{"serviceType":"triageResults","notAfter":1770277172062,"tokenId":"2050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277052062,"placeId":"TRIAGE_PLACE_2050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277054819,"version":"v002","sequenceId":"2050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277172062,\"tokenId\":\"2050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277052062,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277054996,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2050000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2050000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2050000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2050000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2050000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:35 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277055213_941 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2050000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2050000":{"serviceType":"triageResults","notAfter":1770277172062,"tokenId":"2050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:34","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277052062,"placeId":"TRIAGE_PLACE_2050000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277054819,"version":"v002","sequenceId":"2050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277172062,\"tokenId\":\"2050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277052062,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277054996,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277052577 for seqID=2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277052063 for seqID=2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277052577
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277054522
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277055214
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277052063
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 1945ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 692ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 2637ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2050000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277174584,"tokenId":"2060000","data":{"condition":"chest pain","patientId":"P_Triage_2060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277054584,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277054584 for seqID=2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2060000 (tokenId=2060000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2060000 buffered at T_in_TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2060000 from CANARY_TEST at 1770277054584 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2060000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2060000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2060000  -> TriageService [BUFFERED] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2060000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2060000 entering place: TriageService (buffer=9)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2060000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2060000  -> TriageService [ENTER] buffer=9
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2060000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277054584
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2060000] Database initialized
[TRIAGE_PLACE_2060000] No database setup needed - service ready
[TRIAGE_PLACE_2060000] TriageService initialized for sequence: 2060000
[TRIAGE_PLACE_2060000] TriageService instance created - nurse: RN_TRIAGE_908
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2060000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2060000] Received clean business data length: 271
[TRIAGE_PLACE_2060000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2060000] Processing assessment for sequence 2060000 with data: {"notAfter":1770277174584,"tokenId":"2060000","data":{"condition":"chest pain","patientId":"P_Triage_2060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277054584,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2060000] Preserved workflow_start_time: 1770277054584
[TRIAGE_PLACE_2060000] Parsed token: id=2060000, version=v002, place=TriageService
[TRIAGE_PLACE_2060000] Extracted: Patient=P_Triage_2060000, Indication=chest pain
[TRIAGE_PLACE_2060000] Processing specific triage assessment
[TRIAGE_PLACE_2060000] Patient condition: chest pain
[TRIAGE_PLACE_2060000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2060000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2060000] Condition: chest pain
[TRIAGE_PLACE_2060000] Priority: URGENT
[TRIAGE_PLACE_2060000] Pain Score: 7/10
[TRIAGE_PLACE_2060000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2060000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2060000] Processing Time: 1ms
[TRIAGE_PLACE_2060000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2060000] Assessment completed successfully
[TRIAGE_PLACE_2060000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 204ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2060000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2060000":{"serviceType":"triageResults","notAfter":1770277174584,"tokenId":"2060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:36","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277054584,"placeId":"TRIAGE_PLACE_2060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277056707,"version":"v002","sequenceId":"2060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":204,"original_token":"{\"notAfter\":1770277174584,\"tokenId\":\"2060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277054584,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277056911,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2060000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2060000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2060000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2060000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2060000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:37 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277057166_41 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2060000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2060000":{"serviceType":"triageResults","notAfter":1770277174584,"tokenId":"2060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:36","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277054584,"placeId":"TRIAGE_PLACE_2060000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277056707,"version":"v002","sequenceId":"2060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":204,"original_token":"{\"notAfter\":1770277174584,\"tokenId\":\"2060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277054584,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277056911,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277054825 for seqID=2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277054584 for seqID=2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277054825
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277056362
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277057169
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277054584
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=9, Total=10, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 1537ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 807ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 2344ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 18.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2060000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277151429,"tokenId":"3040000","data":{"condition":"chest pain","patientId":"P_Triage_3040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277031429,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277031429 for seqID=3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3040000 (tokenId=3040000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3040000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3040000 from PATIENT_ARRIVAL at 1770277031429 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3040000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3040000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3040000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3040000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3040000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3040000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3040000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3040000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [2070000478, 2070000]
pArgs.get(0): 2070000478
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2070000478
sid: 2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277031429
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3040000] Database initialized
[TRIAGE_PLACE_3040000] No database setup needed - service ready
[TRIAGE_PLACE_3040000] TriageService initialized for sequence: 3040000
[TRIAGE_PLACE_3040000] TriageService instance created - nurse: RN_TRIAGE_674
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3040000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3040000] Received clean business data length: 271
[TRIAGE_PLACE_3040000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3040000] Processing assessment for sequence 3040000 with data: {"notAfter":1770277151429,"tokenId":"3040000","data":{"condition":"chest pain","patientId":"P_Triage_3040000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277031429,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3040000] Preserved workflow_start_time: 1770277031429
[TRIAGE_PLACE_3040000] Parsed token: id=3040000, version=v003, place=TriageService
[TRIAGE_PLACE_3040000] Extracted: Patient=P_Triage_3040000, Indication=chest pain
[TRIAGE_PLACE_3040000] Processing specific triage assessment
[TRIAGE_PLACE_3040000] Patient condition: chest pain
[TRIAGE_PLACE_3040000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3040000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3040000] Condition: chest pain
[TRIAGE_PLACE_3040000] Priority: URGENT
[TRIAGE_PLACE_3040000] Pain Score: 8/10
[TRIAGE_PLACE_3040000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3040000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3040000] Processing Time: 0ms
[TRIAGE_PLACE_3040000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3040000] Assessment completed successfully
[TRIAGE_PLACE_3040000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 120ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3040000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1770277151429,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:38","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277031429,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277058556,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":120,"original_token":"{\"notAfter\":1770277151429,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277031429,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277058676,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3040000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3040000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3040000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3040000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3040001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3040000 -> child=3040001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3040000 -> 3040001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3040000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3040001 created from parent 3040000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3040000 -> child 3040001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3040001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3040001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3040001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3040001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
PRIORITY: seqId=2070000 version=v002 completedJoin=false schedulerKey=2070000478 -> priorityKey=10002070000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002070000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3040001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1770277151429,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:38","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277031429,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277058556,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":120,"original_token":"{\"notAfter\":1770277151429,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277031429,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277058676,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3040002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3040000 -> child=3040002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3040000 -> 3040002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3040000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3040002 created from parent 3040000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3040000 -> child 3040002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3040002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:38 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277058979_249 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3040002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3040002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3040002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3040002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1770277151429,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:38","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277031429,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277058556,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":120,"original_token":"{\"notAfter\":1770277151429,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277031429,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277058676,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3040003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3040000 -> child=3040003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3040000 -> 3040003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3040000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:39 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277059296_171 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3040003 created from parent 3040000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3040000 -> child 3040003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3040003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3040003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3040003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3040003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3040003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3040003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3040000":{"serviceType":"triageResults","notAfter":1770277151429,"tokenId":"3040000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3040000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:38","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277031429,"placeId":"TRIAGE_PLACE_3040000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277058556,"version":"v003","sequenceId":"3040000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":120,"original_token":"{\"notAfter\":1770277151429,\"tokenId\":\"3040000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3040000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277031429,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277058676,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3040000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277031538 for seqID=3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277031429 for seqID=3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3040000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277031538
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277058174
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277059662
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277031429
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
Feb 05, 2026 5:37:39 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277059661_360 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 26636ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1488ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 28124ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3040000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3040000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277177431,"tokenId":"2070000","data":{"condition":"chest pain","patientId":"P_Triage_2070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277057431,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277057431 for seqID=2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2070000 (tokenId=2070000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13529
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v002</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2070000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2070000 from CANARY_TEST at 1770277057431 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2070000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2070000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2070000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2070000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2070000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2070000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2070000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2070000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
Scheduler returned pArgs: [2080000431, 2080000]
pArgs.get(0): 2080000431
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2080000431
sid: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2070000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277057431
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
PRIORITY: seqId=2080000 version=v002 completedJoin=false schedulerKey=2080000431 -> priorityKey=10002080000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002080000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_2070000] Database initialized
[TRIAGE_PLACE_2070000] No database setup needed - service ready
[TRIAGE_PLACE_2070000] TriageService initialized for sequence: 2070000
[TRIAGE_PLACE_2070000] TriageService instance created - nurse: RN_TRIAGE_777
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2070000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2070000] Received clean business data length: 271
[TRIAGE_PLACE_2070000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2070000] Processing assessment for sequence 2070000 with data: {"notAfter":1770277177431,"tokenId":"2070000","data":{"condition":"chest pain","patientId":"P_Triage_2070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277057431,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2070000] Preserved workflow_start_time: 1770277057431
[TRIAGE_PLACE_2070000] Parsed token: id=2070000, version=v002, place=TriageService
[TRIAGE_PLACE_2070000] Extracted: Patient=P_Triage_2070000, Indication=chest pain
[TRIAGE_PLACE_2070000] Processing specific triage assessment
[TRIAGE_PLACE_2070000] Patient condition: chest pain
[TRIAGE_PLACE_2070000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2070000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2070000] Condition: chest pain
[TRIAGE_PLACE_2070000] Priority: URGENT
[TRIAGE_PLACE_2070000] Pain Score: 8/10
[TRIAGE_PLACE_2070000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2070000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2070000] Processing Time: 1ms
[TRIAGE_PLACE_2070000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2070000] Assessment completed successfully
[TRIAGE_PLACE_2070000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 188ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2070000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2070000":{"serviceType":"triageResults","notAfter":1770277177431,"tokenId":"2070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277057431,"placeId":"TRIAGE_PLACE_2070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277061593,"version":"v002","sequenceId":"2070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":188,"original_token":"{\"notAfter\":1770277177431,\"tokenId\":\"2070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277057431,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277061781,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2070000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2070000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2070000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2070000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2070000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2070000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2070000":{"serviceType":"triageResults","notAfter":1770277177431,"tokenId":"2070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:41","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277057431,"placeId":"TRIAGE_PLACE_2070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277061593,"version":"v002","sequenceId":"2070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":188,"original_token":"{\"notAfter\":1770277177431,\"tokenId\":\"2070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277057431,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277061781,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277058735 for seqID=2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277057431 for seqID=2070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2070000
Feb 05, 2026 5:37:42 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277062002_982 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277058735
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277061181
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277062003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277057431
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 2446ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 822ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 3268ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2070000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277179777,"tokenId":"2080000","data":{"condition":"chest pain","patientId":"P_Triage_2080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277059777,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277059777 for seqID=2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2080000 (tokenId=2080000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [2090000449, 2090000]
pArgs.get(0): 2090000449
queueAction: 42
MAXQUEUE: 50
costKeyTokenMap size before: 8
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2090000449
sid: 2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2080000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2080000 from CANARY_TEST at 1770277059777 -> TriageService
PRIORITY: seqId=2090000 version=v002 completedJoin=false schedulerKey=2090000449 -> priorityKey=10002090000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002090000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 9
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2080000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2080000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2080000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2080000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2080000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2080000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2080000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2080000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277059777
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2080000] Database initialized
[TRIAGE_PLACE_2080000] No database setup needed - service ready
[TRIAGE_PLACE_2080000] TriageService initialized for sequence: 2080000
[TRIAGE_PLACE_2080000] TriageService instance created - nurse: RN_TRIAGE_161
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2080000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2080000] Received clean business data length: 271
[TRIAGE_PLACE_2080000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2080000] Processing assessment for sequence 2080000 with data: {"notAfter":1770277179777,"tokenId":"2080000","data":{"condition":"chest pain","patientId":"P_Triage_2080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277059777,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2080000] Preserved workflow_start_time: 1770277059777
[TRIAGE_PLACE_2080000] Parsed token: id=2080000, version=v002, place=TriageService
[TRIAGE_PLACE_2080000] Extracted: Patient=P_Triage_2080000, Indication=chest pain
[TRIAGE_PLACE_2080000] Processing specific triage assessment
[TRIAGE_PLACE_2080000] Patient condition: chest pain
[TRIAGE_PLACE_2080000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2080000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2080000] Condition: chest pain
[TRIAGE_PLACE_2080000] Priority: URGENT
[TRIAGE_PLACE_2080000] Pain Score: 8/10
[TRIAGE_PLACE_2080000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2080000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2080000] Processing Time: 0ms
[TRIAGE_PLACE_2080000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2080000] Assessment completed successfully
[TRIAGE_PLACE_2080000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 128ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2080000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2080000":{"serviceType":"triageResults","notAfter":1770277179777,"tokenId":"2080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:43","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277059777,"placeId":"TRIAGE_PLACE_2080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277063035,"version":"v002","sequenceId":"2080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":128,"original_token":"{\"notAfter\":1770277179777,\"tokenId\":\"2080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277059777,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277063163,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2080000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2080000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2080000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2080000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2080000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:43 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277063313_116 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2080000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2080000":{"serviceType":"triageResults","notAfter":1770277179777,"tokenId":"2080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:43","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277059777,"placeId":"TRIAGE_PLACE_2080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277063035,"version":"v002","sequenceId":"2080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":128,"original_token":"{\"notAfter\":1770277179777,\"tokenId\":\"2080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277059777,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277063163,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277061609 for seqID=2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277059777 for seqID=2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277061609
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277062730
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277063318
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277059777
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 1121ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 588ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 1709ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2080000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277182213,"tokenId":"2090000","data":{"condition":"chest pain","patientId":"P_Triage_2090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277062213,"currentPlace":"TriageService","version":"v002"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277062214 for seqID=2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v002
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2090000 (tokenId=2090000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 2090000 buffered at T_in_TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 2090000 from CANARY_TEST at 1770277062214 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: CANARY_TEST token=2090000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2090000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2090000  -> TriageService [BUFFERED] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 2090000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 2090000 entering place: TriageService (buffer=8)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=2090000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=2090000  -> TriageService [ENTER] buffer=8
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 2090000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v002/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277062213
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_2090000] Database initialized
[TRIAGE_PLACE_2090000] No database setup needed - service ready
[TRIAGE_PLACE_2090000] TriageService initialized for sequence: 2090000
[TRIAGE_PLACE_2090000] TriageService instance created - nurse: RN_TRIAGE_124
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_2090000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_2090000] Received clean business data length: 271
[TRIAGE_PLACE_2090000] Extracted condition: [chest pain]
[TRIAGE_PLACE_2090000] Processing assessment for sequence 2090000 with data: {"notAfter":1770277182213,"tokenId":"2090000","data":{"condition":"chest pain","patientId":"P_Triage_2090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277062213,"currentPlace":"TriageService","version":"v002"}
[TRIAGE_PLACE_2090000] Preserved workflow_start_time: 1770277062213
[TRIAGE_PLACE_2090000] Parsed token: id=2090000, version=v002, place=TriageService
[TRIAGE_PLACE_2090000] Extracted: Patient=P_Triage_2090000, Indication=chest pain
[TRIAGE_PLACE_2090000] Processing specific triage assessment
[TRIAGE_PLACE_2090000] Patient condition: chest pain
[TRIAGE_PLACE_2090000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2090000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_2090000] Condition: chest pain
[TRIAGE_PLACE_2090000] Priority: URGENT
[TRIAGE_PLACE_2090000] Pain Score: 7/10
[TRIAGE_PLACE_2090000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_2090000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_2090000] Processing Time: 0ms
[TRIAGE_PLACE_2090000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_2090000] Assessment completed successfully
[TRIAGE_PLACE_2090000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 107ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_2090000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_2090000":{"serviceType":"triageResults","notAfter":1770277182213,"tokenId":"2090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277062213,"placeId":"TRIAGE_PLACE_2090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277064019,"version":"v002","sequenceId":"2090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1770277182213,\"tokenId\":\"2090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277062213,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277064126,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] MonitorService (decision_value='Network')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 0
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:521) - GATEWAY-DIAG: No conditions matched, but single destination exists - using EdgeNode fallback
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to MonitorService.acknowledgeTokenArrival with token 2090000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 2090000 exiting place: TriageService -> MonitorService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=2090000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=2090000 TriageService -> MonitorService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 2090000 EXIT from TriageService -> MonitorService.acknowledgeTokenArrival [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3000
Feb 05, 2026 5:37:44 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_ACKNOWLEDGETOKENARRIVAL_1770277064378_660 to 192.168.1.152:3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 2090000 -> 'triageResults' to MonitorService.acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: acknowledgeTokenArrival
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_2090000":{"serviceType":"triageResults","notAfter":1770277182213,"tokenId":"2090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_2090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:44","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277062213,"placeId":"TRIAGE_PLACE_2090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277064019,"version":"v002","sequenceId":"2090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":107,"original_token":"{\"notAfter\":1770277182213,\"tokenId\":\"2090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_2090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277062213,\"currentPlace\":\"TriageService\",\"version\":\"v002\"}","service_end_time":1770277064126,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277062452 for seqID=2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277062214 for seqID=2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 2090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277062452
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277063838
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277064383
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277062214
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=8, Total=9, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 1386ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 545ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 1931ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 16.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 2090000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277154846,"tokenId":"3050000","data":{"condition":"chest pain","patientId":"P_Triage_3050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277034846,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277034847 for seqID=3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3050000 (tokenId=3050000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13987
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v003</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3050000 buffered at T_in_TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3050000 from PATIENT_ARRIVAL at 1770277034847 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3050000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3050000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3050000  -> TriageService [BUFFERED] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3050000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3050000 entering place: TriageService (buffer=7)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3050000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3050000  -> TriageService [ENTER] buffer=7
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3050000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277034846
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3050000] Database initialized
[TRIAGE_PLACE_3050000] No database setup needed - service ready
[TRIAGE_PLACE_3050000] TriageService initialized for sequence: 3050000
[TRIAGE_PLACE_3050000] TriageService instance created - nurse: RN_TRIAGE_276
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3050000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3050000] Received clean business data length: 271
[TRIAGE_PLACE_3050000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3050000] Processing assessment for sequence 3050000 with data: {"notAfter":1770277154846,"tokenId":"3050000","data":{"condition":"chest pain","patientId":"P_Triage_3050000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277034846,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3050000] Preserved workflow_start_time: 1770277034846
[TRIAGE_PLACE_3050000] Parsed token: id=3050000, version=v003, place=TriageService
[TRIAGE_PLACE_3050000] Extracted: Patient=P_Triage_3050000, Indication=chest pain
[TRIAGE_PLACE_3050000] Processing specific triage assessment
[TRIAGE_PLACE_3050000] Patient condition: chest pain
[TRIAGE_PLACE_3050000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3050000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3050000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3050000] Condition: chest pain
[TRIAGE_PLACE_3050000] Priority: URGENT
[TRIAGE_PLACE_3050000] Pain Score: 8/10
[TRIAGE_PLACE_3050000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3050000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3050000] Processing Time: 0ms
[TRIAGE_PLACE_3050000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3050000] Assessment completed successfully
[TRIAGE_PLACE_3050000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 86ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3050000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1770277154846,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:45","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277034846,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277065203,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":86,"original_token":"{\"notAfter\":1770277154846,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277034846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277065289,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3050000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3050000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3050000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3050000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3050000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Feb 05, 2026 5:37:45 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1770277065508_523 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3050000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3050000":{"serviceType":"triageResults","notAfter":1770277154846,"tokenId":"3050000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3050000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:45","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277034846,"placeId":"TRIAGE_PLACE_3050000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277065203,"version":"v003","sequenceId":"3050000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":86,"original_token":"{\"notAfter\":1770277154846,\"tokenId\":\"3050000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3050000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277034846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277065289,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277035275 for seqID=3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277034847 for seqID=3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3050000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277035275
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277065036
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277065510
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277034847
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=7, Total=8, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 29761ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 474ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 30235ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 14.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3050000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3050000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277157537,"tokenId":"3060000","data":{"condition":"chest pain","patientId":"P_Triage_3060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277037537,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277037537 for seqID=3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3060000 (tokenId=3060000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3060000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3060000 from PATIENT_ARRIVAL at 1770277037537 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3060000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3060000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3060000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3060000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3060000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3060000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3060000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3060000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277037537
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3060000] Database initialized
[TRIAGE_PLACE_3060000] No database setup needed - service ready
[TRIAGE_PLACE_3060000] TriageService initialized for sequence: 3060000
[TRIAGE_PLACE_3060000] TriageService instance created - nurse: RN_TRIAGE_376
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3060000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3060000] Received clean business data length: 271
[TRIAGE_PLACE_3060000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3060000] Processing assessment for sequence 3060000 with data: {"notAfter":1770277157537,"tokenId":"3060000","data":{"condition":"chest pain","patientId":"P_Triage_3060000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277037537,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3060000] Preserved workflow_start_time: 1770277037537
[TRIAGE_PLACE_3060000] Parsed token: id=3060000, version=v003, place=TriageService
[TRIAGE_PLACE_3060000] Extracted: Patient=P_Triage_3060000, Indication=chest pain
[TRIAGE_PLACE_3060000] Processing specific triage assessment
[TRIAGE_PLACE_3060000] Patient condition: chest pain
[TRIAGE_PLACE_3060000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3060000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3060000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3060000] Condition: chest pain
[TRIAGE_PLACE_3060000] Priority: URGENT
[TRIAGE_PLACE_3060000] Pain Score: 8/10
[TRIAGE_PLACE_3060000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3060000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3060000] Processing Time: 0ms
[TRIAGE_PLACE_3060000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3060000] Assessment completed successfully
[TRIAGE_PLACE_3060000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 105ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3060000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1770277157537,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:46","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277037537,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277066274,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":105,"original_token":"{\"notAfter\":1770277157537,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277037537,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277066379,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3060000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3060000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3060000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3060000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3060000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Feb 05, 2026 5:37:46 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1770277066538_220 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3060000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3060000":{"serviceType":"triageResults","notAfter":1770277157537,"tokenId":"3060000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3060000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:37:46","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277037537,"placeId":"TRIAGE_PLACE_3060000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277066274,"version":"v003","sequenceId":"3060000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":105,"original_token":"{\"notAfter\":1770277157537,\"tokenId\":\"3060000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3060000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277037537,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277066379,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277038200 for seqID=3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277037537 for seqID=3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3060000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277038200
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277066013
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277066542
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277037537
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 27813ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 529ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 28342ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3060000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3060000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277158831,"tokenId":"3070000","data":{"condition":"chest pain","patientId":"P_Triage_3070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277038831,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277038831 for seqID=3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3070000 (tokenId=3070000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
Scheduler returned pArgs: [3130000846, 3130000]
pArgs.get(0): 3130000846
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3130000846
sid: 3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
PRIORITY: seqId=3130000 version=v003 completedJoin=false schedulerKey=3130000846 -> priorityKey=10003130000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003130000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3070000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3070000 from PATIENT_ARRIVAL at 1770277038831 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3070000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3070000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3070000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3070000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3070000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3070000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3070000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3070000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277038831
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3070000] Database initialized
[TRIAGE_PLACE_3070000] No database setup needed - service ready
[TRIAGE_PLACE_3070000] TriageService initialized for sequence: 3070000
[TRIAGE_PLACE_3070000] TriageService instance created - nurse: RN_TRIAGE_292
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3070000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3070000] Received clean business data length: 271
[TRIAGE_PLACE_3070000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3070000] Processing assessment for sequence 3070000 with data: {"notAfter":1770277158831,"tokenId":"3070000","data":{"condition":"chest pain","patientId":"P_Triage_3070000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277038831,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3070000] Preserved workflow_start_time: 1770277038831
[TRIAGE_PLACE_3070000] Parsed token: id=3070000, version=v003, place=TriageService
[TRIAGE_PLACE_3070000] Extracted: Patient=P_Triage_3070000, Indication=chest pain
[TRIAGE_PLACE_3070000] Processing specific triage assessment
[TRIAGE_PLACE_3070000] Patient condition: chest pain
[TRIAGE_PLACE_3070000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3070000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3070000] Condition: chest pain
[TRIAGE_PLACE_3070000] Priority: URGENT
[TRIAGE_PLACE_3070000] Pain Score: 7/10
[TRIAGE_PLACE_3070000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3070000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3070000] Processing Time: 0ms
[TRIAGE_PLACE_3070000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3070000] Assessment completed successfully
[TRIAGE_PLACE_3070000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 126ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3070000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1770277158831,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038831,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277067168,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277158831,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038831,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277067294,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3070000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3070000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3070000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070001 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3070000 -> child 3070001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3070001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3070001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3070001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1770277158831,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038831,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277067168,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277158831,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038831,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277067294,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3070000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:47 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277067649_582 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070002 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3070000 -> child 3070002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3070002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3070002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:37:47 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277067855_300 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3070002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1770277158831,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038831,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277067168,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277158831,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038831,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277067294,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3070003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3070000 -> child=3070003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3070000 -> 3070003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3070000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3070003 created from parent 3070000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3070000 -> child 3070003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3070003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3070003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3070003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3070003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3070003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3070003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3070000":{"serviceType":"triageResults","notAfter":1770277158831,"tokenId":"3070000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3070000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:47","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277038831,"placeId":"TRIAGE_PLACE_3070000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277067168,"version":"v003","sequenceId":"3070000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277158831,\"tokenId\":\"3070000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3070000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277038831,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277067294,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3070000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277038887 for seqID=3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277038831 for seqID=3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3070000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277038887
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277066978
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277068127
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277038831
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 28091ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1149ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 29240ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3070000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3070000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277161025,"tokenId":"3080000","data":{"condition":"chest pain","patientId":"P_Triage_3080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277041025,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277041025 for seqID=3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3080000 (tokenId=3080000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Feb 05, 2026 5:37:48 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277068125_281 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3080000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3080000 from PATIENT_ARRIVAL at 1770277041025 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3080000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3080000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3080000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3080000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3080000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3080000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3080000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3080000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277041025
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3080000] Database initialized
[TRIAGE_PLACE_3080000] No database setup needed - service ready
[TRIAGE_PLACE_3080000] TriageService initialized for sequence: 3080000
[TRIAGE_PLACE_3080000] TriageService instance created - nurse: RN_TRIAGE_854
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3080000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3080000] Received clean business data length: 271
[TRIAGE_PLACE_3080000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3080000] Processing assessment for sequence 3080000 with data: {"notAfter":1770277161025,"tokenId":"3080000","data":{"condition":"chest pain","patientId":"P_Triage_3080000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277041025,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3080000] Preserved workflow_start_time: 1770277041025
[TRIAGE_PLACE_3080000] Parsed token: id=3080000, version=v003, place=TriageService
[TRIAGE_PLACE_3080000] Extracted: Patient=P_Triage_3080000, Indication=chest pain
[TRIAGE_PLACE_3080000] Processing specific triage assessment
[TRIAGE_PLACE_3080000] Patient condition: chest pain
[TRIAGE_PLACE_3080000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3080000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3080000] Condition: chest pain
[TRIAGE_PLACE_3080000] Priority: URGENT
[TRIAGE_PLACE_3080000] Pain Score: 9/10
[TRIAGE_PLACE_3080000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3080000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3080000] Processing Time: 1ms
[TRIAGE_PLACE_3080000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3080000] Assessment completed successfully
[TRIAGE_PLACE_3080000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 177ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3080000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1770277161025,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:49","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041025,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277069681,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277161025,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041025,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277069858,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3080000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3080000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3080000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080001 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3080000 -> child 3080001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3080001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3080001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Feb 05, 2026 5:37:50 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277070175_136 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3080001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1770277161025,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:49","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041025,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277069681,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277161025,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041025,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277069858,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3080000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080002 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3080000 -> child 3080002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3080002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3080002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:37:50 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277070512_939 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3080002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1770277161025,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:49","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041025,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277069681,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277161025,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041025,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277069858,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3080003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3080000 -> child=3080003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3080000 -> 3080003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3080000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3080003 created from parent 3080000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3080000 -> child 3080003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3080003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3080003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3080003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3080003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3080003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:37:51 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277071365_569 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3080003 -> 'triageResults' to RadiologyService.processImagingRequest
Scheduler returned pArgs: [3140000355, 3140000]
pArgs.get(0): 3140000355
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3140000355
sid: 3140000
PRIORITY: seqId=3140000 version=v003 completedJoin=false schedulerKey=3140000355 -> priorityKey=10003140000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003140000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3080000":{"serviceType":"triageResults","notAfter":1770277161025,"tokenId":"3080000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3080000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:49","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041025,"placeId":"TRIAGE_PLACE_3080000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277069681,"version":"v003","sequenceId":"3080000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":177,"original_token":"{\"notAfter\":1770277161025,\"tokenId\":\"3080000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3080000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041025,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277069858,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3080000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277042767 for seqID=3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277041025 for seqID=3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3080000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277042767
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277069277
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277071367
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277041025
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 26510ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2090ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 28600ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3080000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3080000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277161519,"tokenId":"3090000","data":{"condition":"chest pain","patientId":"P_Triage_3090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277041519,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277041519 for seqID=3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3090000 (tokenId=3090000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3090000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3090000 from PATIENT_ARRIVAL at 1770277041519 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3090000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3090000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3090000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3090000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3090000 entering place: TriageService (buffer=5)
Scheduler returned pArgs: [3150000532, 3150000]
pArgs.get(0): 3150000532
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3150000532
sid: 3150000
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3090000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3090000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3090000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
PRIORITY: seqId=3150000 version=v003 completedJoin=false schedulerKey=3150000532 -> priorityKey=10003150000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003150000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277041519
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Scheduler returned pArgs: [3160000169, 3160000]
pArgs.get(0): 3160000169
queueAction: 44
MAXQUEUE: 50
costKeyTokenMap size before: 6
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3160000169
sid: 3160000
PRIORITY: seqId=3160000 version=v003 completedJoin=false schedulerKey=3160000169 -> priorityKey=10003160000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003160000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 7
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
[TRIAGE_PLACE_3090000] Database initialized
[TRIAGE_PLACE_3090000] No database setup needed - service ready
[TRIAGE_PLACE_3090000] TriageService initialized for sequence: 3090000
[TRIAGE_PLACE_3090000] TriageService instance created - nurse: RN_TRIAGE_231
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3090000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3090000] Received clean business data length: 271
[TRIAGE_PLACE_3090000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3090000] Processing assessment for sequence 3090000 with data: {"notAfter":1770277161519,"tokenId":"3090000","data":{"condition":"chest pain","patientId":"P_Triage_3090000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277041519,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3090000] Preserved workflow_start_time: 1770277041519
[TRIAGE_PLACE_3090000] Parsed token: id=3090000, version=v003, place=TriageService
[TRIAGE_PLACE_3090000] Extracted: Patient=P_Triage_3090000, Indication=chest pain
[TRIAGE_PLACE_3090000] Processing specific triage assessment
[TRIAGE_PLACE_3090000] Patient condition: chest pain
[TRIAGE_PLACE_3090000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3090000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3090000] Condition: chest pain
[TRIAGE_PLACE_3090000] Priority: URGENT
[TRIAGE_PLACE_3090000] Pain Score: 7/10
[TRIAGE_PLACE_3090000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3090000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3090000] Processing Time: 0ms
[TRIAGE_PLACE_3090000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3090000] Assessment completed successfully
[TRIAGE_PLACE_3090000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 160ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3090000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1770277161519,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:53","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041519,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277073073,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":160,"original_token":"{\"notAfter\":1770277161519,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041519,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277073233,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3090000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3090000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3090000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090001 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3090000 -> child 3090001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3090001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3090001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3090001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1770277161519,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:53","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041519,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277073073,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":160,"original_token":"{\"notAfter\":1770277161519,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041519,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277073233,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3090000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:53 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277073837_256 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090002 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3090000 -> child 3090002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3090002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3090002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3090002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1770277161519,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:53","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041519,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277073073,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":160,"original_token":"{\"notAfter\":1770277161519,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041519,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277073233,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3090003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3090000 -> child=3090003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3090000 -> 3090003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3090000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277074175_717 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3090003 created from parent 3090000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3090000 -> child 3090003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3090003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3090003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3090003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3090003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3090003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3090003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3090000":{"serviceType":"triageResults","notAfter":1770277161519,"tokenId":"3090000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3090000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:53","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277041519,"placeId":"TRIAGE_PLACE_3090000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277073073,"version":"v003","sequenceId":"3090000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":160,"original_token":"{\"notAfter\":1770277161519,\"tokenId\":\"3090000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3090000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277041519,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277073233,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3090000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277043002 for seqID=3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277041519 for seqID=3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3090000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277043002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277072538
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277074502
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277041519
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
Feb 05, 2026 5:37:54 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277074480_950 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 29536ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1964ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 31500ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3090000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3090000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277163637,"tokenId":"3100000","data":{"condition":"chest pain","patientId":"P_Triage_3100000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277043637,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277043638 for seqID=3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3100000 (tokenId=3100000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3100000 buffered at T_in_TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3100000 from PATIENT_ARRIVAL at 1770277043638 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3100000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3100000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3100000  -> TriageService [BUFFERED] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3100000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3100000 entering place: TriageService (buffer=6)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3100000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3100000  -> TriageService [ENTER] buffer=6
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3100000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277043637
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3100000] Database initialized
[TRIAGE_PLACE_3100000] No database setup needed - service ready
[TRIAGE_PLACE_3100000] TriageService initialized for sequence: 3100000
[TRIAGE_PLACE_3100000] TriageService instance created - nurse: RN_TRIAGE_504
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3100000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3100000] Received clean business data length: 271
[TRIAGE_PLACE_3100000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3100000] Processing assessment for sequence 3100000 with data: {"notAfter":1770277163637,"tokenId":"3100000","data":{"condition":"chest pain","patientId":"P_Triage_3100000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277043637,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3100000] Preserved workflow_start_time: 1770277043637
[TRIAGE_PLACE_3100000] Parsed token: id=3100000, version=v003, place=TriageService
[TRIAGE_PLACE_3100000] Extracted: Patient=P_Triage_3100000, Indication=chest pain
[TRIAGE_PLACE_3100000] Processing specific triage assessment
[TRIAGE_PLACE_3100000] Patient condition: chest pain
[TRIAGE_PLACE_3100000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3100000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3100000] Condition: chest pain
[TRIAGE_PLACE_3100000] Priority: URGENT
[TRIAGE_PLACE_3100000] Pain Score: 9/10
[TRIAGE_PLACE_3100000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3100000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3100000] Processing Time: 1ms
[TRIAGE_PLACE_3100000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3100000] Assessment completed successfully
[TRIAGE_PLACE_3100000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 294ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3100000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1770277163637,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:56","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277043637,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277076225,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":294,"original_token":"{\"notAfter\":1770277163637,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277043637,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277076519,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3100000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3100000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3100000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100001 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3100000 -> child 3100001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3100001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3100001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
Feb 05, 2026 5:37:56 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277076803_888 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3100001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1770277163637,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:56","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277043637,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277076225,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":294,"original_token":"{\"notAfter\":1770277163637,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277043637,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277076519,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3100000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100002 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3100000 -> child 3100002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3100002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3100002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3100002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1770277163637,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:56","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277043637,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277076225,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":294,"original_token":"{\"notAfter\":1770277163637,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277043637,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277076519,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3100003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3100000 -> child=3100003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3100000 -> 3100003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3100000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3100003 created from parent 3100000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3100000 -> child 3100003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3100003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:57 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277077305_390 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3100003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3100003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3100003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3100003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:37:57 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277077613_433 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3100003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3100000":{"serviceType":"triageResults","notAfter":1770277163637,"tokenId":"3100000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3100000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:56","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277043637,"placeId":"TRIAGE_PLACE_3100000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277076225,"version":"v003","sequenceId":"3100000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":294,"original_token":"{\"notAfter\":1770277163637,\"tokenId\":\"3100000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3100000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277043637,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277076519,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3100000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277043741 for seqID=3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277043638 for seqID=3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3100000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277043741
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277075840
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277077615
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277043638
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=6, Total=7, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 32099ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1775ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 33874ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 12.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3100000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3100000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277166488,"tokenId":"3110000","data":{"condition":"chest pain","patientId":"P_Triage_3110000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277046488,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277046488 for seqID=3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3110000 (tokenId=3110000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3110000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3110000 from PATIENT_ARRIVAL at 1770277046488 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3110000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3110000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3110000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3110000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3110000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3110000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3110000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3110000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277046488
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3110000] Database initialized
[TRIAGE_PLACE_3110000] No database setup needed - service ready
[TRIAGE_PLACE_3110000] TriageService initialized for sequence: 3110000
[TRIAGE_PLACE_3110000] TriageService instance created - nurse: RN_TRIAGE_256
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3110000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3110000] Received clean business data length: 271
[TRIAGE_PLACE_3110000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3110000] Processing assessment for sequence 3110000 with data: {"notAfter":1770277166488,"tokenId":"3110000","data":{"condition":"chest pain","patientId":"P_Triage_3110000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277046488,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3110000] Preserved workflow_start_time: 1770277046488
[TRIAGE_PLACE_3110000] Parsed token: id=3110000, version=v003, place=TriageService
[TRIAGE_PLACE_3110000] Extracted: Patient=P_Triage_3110000, Indication=chest pain
[TRIAGE_PLACE_3110000] Processing specific triage assessment
[TRIAGE_PLACE_3110000] Patient condition: chest pain
[TRIAGE_PLACE_3110000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3110000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3110000] Condition: chest pain
[TRIAGE_PLACE_3110000] Priority: URGENT
[TRIAGE_PLACE_3110000] Pain Score: 7/10
[TRIAGE_PLACE_3110000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3110000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3110000] Processing Time: 1ms
[TRIAGE_PLACE_3110000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3110000] Assessment completed successfully
[TRIAGE_PLACE_3110000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 119ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3110000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1770277166488,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:59","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046488,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277079139,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":119,"original_token":"{\"notAfter\":1770277166488,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046488,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277079258,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3110000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3110000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3110000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110001 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3110000 -> child 3110001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3110001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3110001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3110001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1770277166488,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:59","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046488,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277079139,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":119,"original_token":"{\"notAfter\":1770277166488,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046488,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277079258,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3110000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:37:59 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277079649_647 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110002 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3110000 -> child 3110002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3110002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3110002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3110002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1770277166488,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:59","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046488,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277079139,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":119,"original_token":"{\"notAfter\":1770277166488,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046488,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277079258,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3110003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3110000 -> child=3110003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3110000 -> 3110003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3110000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3110003 created from parent 3110000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3110000 -> child 3110003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3110003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3110003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3110003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3110003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3110003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Feb 05, 2026 5:38:00 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277080105_991 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:38:00 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277080382_855 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3110003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3110000":{"serviceType":"triageResults","notAfter":1770277166488,"tokenId":"3110000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3110000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:37:59","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277046488,"placeId":"TRIAGE_PLACE_3110000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277079139,"version":"v003","sequenceId":"3110000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":119,"original_token":"{\"notAfter\":1770277166488,\"tokenId\":\"3110000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3110000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277046488,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277079258,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3110000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277046624 for seqID=3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277046488 for seqID=3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3110000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277046624
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277078775
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277080383
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277046488
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 32151ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1608ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 33759ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3110000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3110000 complete.
Scheduler returned pArgs: [3170000431, 3170000]
pArgs.get(0): 3170000431
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3170000431
sid: 3170000
PRIORITY: seqId=3170000 version=v003 completedJoin=false schedulerKey=3170000431 -> priorityKey=10003170000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003170000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277167627,"tokenId":"3120000","data":{"condition":"chest pain","patientId":"P_Triage_3120000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277047627,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277047627 for seqID=3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3120000 (tokenId=3120000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3120000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3120000 from PATIENT_ARRIVAL at 1770277047627 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3120000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3120000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3120000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3120000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3120000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3120000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3120000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3120000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277047627
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3120000] Database initialized
[TRIAGE_PLACE_3120000] No database setup needed - service ready
[TRIAGE_PLACE_3120000] TriageService initialized for sequence: 3120000
[TRIAGE_PLACE_3120000] TriageService instance created - nurse: RN_TRIAGE_484
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3120000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3120000] Received clean business data length: 271
[TRIAGE_PLACE_3120000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3120000] Processing assessment for sequence 3120000 with data: {"notAfter":1770277167627,"tokenId":"3120000","data":{"condition":"chest pain","patientId":"P_Triage_3120000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277047627,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3120000] Preserved workflow_start_time: 1770277047627
[TRIAGE_PLACE_3120000] Parsed token: id=3120000, version=v003, place=TriageService
[TRIAGE_PLACE_3120000] Extracted: Patient=P_Triage_3120000, Indication=chest pain
[TRIAGE_PLACE_3120000] Processing specific triage assessment
[TRIAGE_PLACE_3120000] Patient condition: chest pain
[TRIAGE_PLACE_3120000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3120000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3120000] Condition: chest pain
[TRIAGE_PLACE_3120000] Priority: URGENT
[TRIAGE_PLACE_3120000] Pain Score: 9/10
[TRIAGE_PLACE_3120000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3120000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3120000] Processing Time: 0ms
[TRIAGE_PLACE_3120000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3120000] Assessment completed successfully
[TRIAGE_PLACE_3120000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 135ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3120000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1770277167627,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:03","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277047627,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277083351,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":135,"original_token":"{\"notAfter\":1770277167627,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277047627,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277083486,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3120000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3120000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3120000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120001 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3120000 -> child 3120001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3120001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3120001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3120001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1770277167627,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:03","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277047627,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277083351,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":135,"original_token":"{\"notAfter\":1770277167627,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277047627,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277083486,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3120000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:38:03 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277083914_728 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120002 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3120000 -> child 3120002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3120002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3120002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:38:04 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277084449_240 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3120002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1770277167627,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:03","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277047627,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277083351,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":135,"original_token":"{\"notAfter\":1770277167627,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277047627,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277083486,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3120003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3120000 -> child=3120003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3120000 -> 3120003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3120000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Scheduler returned pArgs: [3180000482, 3180000]
pArgs.get(0): 3180000482
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3180000482
sid: 3180000
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3120003 created from parent 3120000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3120000 -> child 3120003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3120003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3120003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3120003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3120003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3120003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
PRIORITY: seqId=3180000 version=v003 completedJoin=false schedulerKey=3180000482 -> priorityKey=10003180000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003180000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:38:04 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277084997_207 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3120003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3120000":{"serviceType":"triageResults","notAfter":1770277167627,"tokenId":"3120000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3120000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:03","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277047627,"placeId":"TRIAGE_PLACE_3120000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277083351,"version":"v003","sequenceId":"3120000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":135,"original_token":"{\"notAfter\":1770277167627,\"tokenId\":\"3120000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3120000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277047627,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277083486,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3120000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277047828 for seqID=3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277047627 for seqID=3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3120000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277047828
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277081964
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277084998
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277047627
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 34136ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 3034ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 37170ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3120000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3120000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277186829,"tokenId":"3130000","data":{"condition":"chest pain","patientId":"P_Triage_3130000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277066829,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277066829 for seqID=3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3130000 (tokenId=3130000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3130000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3130000 from PATIENT_ARRIVAL at 1770277066829 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3130000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3130000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3130000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3130000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3130000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3130000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3130000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3130000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277066829
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3130000] Database initialized
[TRIAGE_PLACE_3130000] No database setup needed - service ready
[TRIAGE_PLACE_3130000] TriageService initialized for sequence: 3130000
[TRIAGE_PLACE_3130000] TriageService instance created - nurse: RN_TRIAGE_804
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3130000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3130000] Received clean business data length: 271
[TRIAGE_PLACE_3130000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3130000] Processing assessment for sequence 3130000 with data: {"notAfter":1770277186829,"tokenId":"3130000","data":{"condition":"chest pain","patientId":"P_Triage_3130000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277066829,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3130000] Preserved workflow_start_time: 1770277066829
[TRIAGE_PLACE_3130000] Parsed token: id=3130000, version=v003, place=TriageService
[TRIAGE_PLACE_3130000] Extracted: Patient=P_Triage_3130000, Indication=chest pain
[TRIAGE_PLACE_3130000] Processing specific triage assessment
[TRIAGE_PLACE_3130000] Patient condition: chest pain
[TRIAGE_PLACE_3130000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3130000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3130000] Condition: chest pain
[TRIAGE_PLACE_3130000] Priority: URGENT
[TRIAGE_PLACE_3130000] Pain Score: 9/10
[TRIAGE_PLACE_3130000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3130000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3130000] Processing Time: 1ms
[TRIAGE_PLACE_3130000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3130000] Assessment completed successfully
[TRIAGE_PLACE_3130000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 172ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3130000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1770277186829,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277066829,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277086634,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":172,"original_token":"{\"notAfter\":1770277186829,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277066829,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277086806,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3130000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3130000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3130000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130001 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3130000 -> child 3130001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Scheduler returned pArgs: [3190000865, 3190000]
pArgs.get(0): 3190000865
queueAction: 45
MAXQUEUE: 50
costKeyTokenMap size before: 5
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3190000865
sid: 3190000
PRIORITY: seqId=3190000 version=v003 completedJoin=false schedulerKey=3190000865 -> priorityKey=10003190000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003190000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 6
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3130001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3130001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3130001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1770277186829,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277066829,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277086634,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":172,"original_token":"{\"notAfter\":1770277186829,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277066829,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277086806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3130000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130002 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3130000 -> child 3130002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3130002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3130002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
Feb 05, 2026 5:38:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277087149_915 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3130002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1770277186829,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277066829,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277086634,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":172,"original_token":"{\"notAfter\":1770277186829,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277066829,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277086806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3130003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3130000 -> child=3130003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3130000 -> 3130003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3130000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3130003 created from parent 3130000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3130000 -> child 3130003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3130003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3130003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3130003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3130003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3130003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Feb 05, 2026 5:38:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277087596_7 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3130003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3130000":{"serviceType":"triageResults","notAfter":1770277186829,"tokenId":"3130000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3130000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:06","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277066829,"placeId":"TRIAGE_PLACE_3130000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277086634,"version":"v003","sequenceId":"3130000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":172,"original_token":"{\"notAfter\":1770277186829,\"tokenId\":\"3130000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3130000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277066829,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277086806,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3130000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277066849 for seqID=3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277066829 for seqID=3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3130000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277066849
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277086109
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277087951
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277066829
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 19260ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1842ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 21102ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3130000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3130000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277190846,"tokenId":"3140000","data":{"condition":"chest pain","patientId":"P_Triage_3140000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277070846,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277070846 for seqID=3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3140000 (tokenId=3140000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Feb 05, 2026 5:38:07 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277087950_970 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3140000 buffered at T_in_TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3140000 from PATIENT_ARRIVAL at 1770277070846 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3140000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3140000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3140000  -> TriageService [BUFFERED] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3140000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3140000 entering place: TriageService (buffer=5)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3140000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3140000  -> TriageService [ENTER] buffer=5
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3140000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277070846
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3140000] Database initialized
[TRIAGE_PLACE_3140000] No database setup needed - service ready
[TRIAGE_PLACE_3140000] TriageService initialized for sequence: 3140000
[TRIAGE_PLACE_3140000] TriageService instance created - nurse: RN_TRIAGE_737
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3140000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3140000] Received clean business data length: 271
[TRIAGE_PLACE_3140000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3140000] Processing assessment for sequence 3140000 with data: {"notAfter":1770277190846,"tokenId":"3140000","data":{"condition":"chest pain","patientId":"P_Triage_3140000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277070846,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3140000] Preserved workflow_start_time: 1770277070846
[TRIAGE_PLACE_3140000] Parsed token: id=3140000, version=v003, place=TriageService
[TRIAGE_PLACE_3140000] Extracted: Patient=P_Triage_3140000, Indication=chest pain
[TRIAGE_PLACE_3140000] Processing specific triage assessment
[TRIAGE_PLACE_3140000] Patient condition: chest pain
[TRIAGE_PLACE_3140000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3140000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3140000] Condition: chest pain
[TRIAGE_PLACE_3140000] Priority: URGENT
[TRIAGE_PLACE_3140000] Pain Score: 9/10
[TRIAGE_PLACE_3140000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3140000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3140000] Processing Time: 0ms
[TRIAGE_PLACE_3140000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3140000] Assessment completed successfully
[TRIAGE_PLACE_3140000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 121ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3140000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1770277190846,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:09","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277070846,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277089618,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":121,"original_token":"{\"notAfter\":1770277190846,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277070846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277089739,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3140000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3140000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3140000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3140000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3140001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3140000 -> child=3140001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3140000 -> 3140001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3140000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3140001 created from parent 3140000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3140000 -> child 3140001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3140001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3140001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3140001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3140001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3140001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1770277190846,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:09","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277070846,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277089618,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":121,"original_token":"{\"notAfter\":1770277190846,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277070846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277089739,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3140002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3140000 -> child=3140002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3140000 -> 3140002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3140000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3140002 created from parent 3140000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3140000 -> child 3140002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3140002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3140002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3140002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3140002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
Feb 05, 2026 5:38:10 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277090132_682 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:38:10 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277090578_307 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3140002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1770277190846,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:09","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277070846,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277089618,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":121,"original_token":"{\"notAfter\":1770277190846,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277070846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277089739,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3140003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3140000 -> child=3140003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3140000 -> 3140003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3140000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3140003 created from parent 3140000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3140000 -> child 3140003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3140003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3140003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3140003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3140003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3140003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:38:11 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277091216_322 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3140003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3140000":{"serviceType":"triageResults","notAfter":1770277190846,"tokenId":"3140000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3140000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:09","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"9\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277070846,"placeId":"TRIAGE_PLACE_3140000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277089618,"version":"v003","sequenceId":"3140000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":121,"original_token":"{\"notAfter\":1770277190846,\"tokenId\":\"3140000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3140000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277070846,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277089739,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3140000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277071358 for seqID=3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277070846 for seqID=3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3140000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277071358
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277088979
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277091371
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277070846
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=5, Total=6, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 17621ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2392ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 20013ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 10.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3140000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3140000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277192080,"tokenId":"3150000","data":{"condition":"chest pain","patientId":"P_Triage_3150000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277072080,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277072080 for seqID=3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3150000 (tokenId=3150000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3150000 buffered at T_in_TriageService (buffer=4)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3150000 from PATIENT_ARRIVAL at 1770277072080 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3150000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3150000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3150000  -> TriageService [BUFFERED] buffer=4
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3150000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3150000 entering place: TriageService (buffer=4)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3150000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3150000  -> TriageService [ENTER] buffer=4
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3150000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277072080
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3150000] Database initialized
[TRIAGE_PLACE_3150000] No database setup needed - service ready
[TRIAGE_PLACE_3150000] TriageService initialized for sequence: 3150000
[TRIAGE_PLACE_3150000] TriageService instance created - nurse: RN_TRIAGE_375
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3150000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3150000] Received clean business data length: 271
[TRIAGE_PLACE_3150000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3150000] Processing assessment for sequence 3150000 with data: {"notAfter":1770277192080,"tokenId":"3150000","data":{"condition":"chest pain","patientId":"P_Triage_3150000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277072080,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3150000] Preserved workflow_start_time: 1770277072080
[TRIAGE_PLACE_3150000] Parsed token: id=3150000, version=v003, place=TriageService
[TRIAGE_PLACE_3150000] Extracted: Patient=P_Triage_3150000, Indication=chest pain
[TRIAGE_PLACE_3150000] Processing specific triage assessment
[TRIAGE_PLACE_3150000] Patient condition: chest pain
[TRIAGE_PLACE_3150000] TEST MODE: 15% random bypass - DIRECT_TO_TREATMENT
[TRIAGE_PLACE_3150000] ROUTING: DIRECT TO TREATMENT - Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3150000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3150000] Condition: chest pain
[TRIAGE_PLACE_3150000] Priority: URGENT
[TRIAGE_PLACE_3150000] Pain Score: 7/10
[TRIAGE_PLACE_3150000] Routing: DIRECT TO TREATMENT
[TRIAGE_PLACE_3150000] Rationale: Clinical presentation requires immediate intervention without delay for diagnostics.
[TRIAGE_PLACE_3150000] Processing Time: 0ms
[TRIAGE_PLACE_3150000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=DIRECT_TO_TREATMENT
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3150000] Assessment completed successfully
[TRIAGE_PLACE_3150000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 197ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3150000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1770277192080,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:38:13","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072080,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277093180,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":197,"original_token":"{\"notAfter\":1770277192080,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072080,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277093377,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'DIRECT_TO_TREATMENT' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'DIRECT_TO_TREATMENT'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'DIRECT_TO_TREATMENT' == 'DIRECT_TO_TREATMENT' -> TreatmentService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 1
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:537) - GATEWAY-DIAG: Single match -> EDGE strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:623) - GATEWAY-EDGE: Single path to TreatmentService.executeDirectTreatment with token 3150000 [arc=DIRECT_TO_TREATMENT]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3150000 exiting place: TriageService -> TreatmentService [arc=DIRECT_TO_TREATMENT]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3150000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (GatewayNode) token=3150000 TriageService -> TreatmentService [EXIT] arc=DIRECT_TO_TREATMENT
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3150000 EXIT from TriageService -> TreatmentService.executeDirectTreatment [arc=DIRECT_TO_TREATMENT]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2107
Feb 05, 2026 5:38:13 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_TREATMENTSERVICE_EXECUTEDIRECTTREATMENT_1770277093793_322 to 192.168.1.152:2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to TreatmentService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3150000 -> 'triageResults' to TreatmentService.executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service TreatmentService Operation: executeDirectTreatment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2107
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3150000":{"serviceType":"triageResults","notAfter":1770277192080,"tokenId":"3150000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"required_treatment_preparation":[],"patientId":"P_Triage_3150000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"5-10 minutes","routing_timestamp":"2026-02-05 17:38:13","bypass_diagnostics":"true","routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"7\/10","condition":"chest pain","providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072080,"placeId":"TRIAGE_PLACE_3150000","routing_decision":{"guard_result":true,"bypass_diagnostics":true,"routing_path":"DIRECT_TO_TREATMENT","rationale":"Clinical presentation requires immediate intervention without delay for diagnostics."},"service_start_time":1770277093180,"version":"v003","sequenceId":"3150000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":197,"original_token":"{\"notAfter\":1770277192080,\"tokenId\":\"3150000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3150000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072080,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277093377,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for TreatmentService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to TreatmentService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277072675 for seqID=3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277072080 for seqID=3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3150000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277072675
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277092632
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277093794
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277072080
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=4, Total=5, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 19957ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1162ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 21119ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 8.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3150000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3150000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277192827,"tokenId":"3160000","data":{"condition":"chest pain","patientId":"P_Triage_3160000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277072827,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277072827 for seqID=3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3160000 (tokenId=3160000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3160000 buffered at T_in_TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3160000 from PATIENT_ARRIVAL at 1770277072827 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3160000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3160000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3160000  -> TriageService [BUFFERED] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3160000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3160000 entering place: TriageService (buffer=3)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3160000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3160000  -> TriageService [ENTER] buffer=3
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3160000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277072827
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3160000] Database initialized
[TRIAGE_PLACE_3160000] No database setup needed - service ready
[TRIAGE_PLACE_3160000] TriageService initialized for sequence: 3160000
[TRIAGE_PLACE_3160000] TriageService instance created - nurse: RN_TRIAGE_612
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3160000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3160000] Received clean business data length: 271
[TRIAGE_PLACE_3160000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3160000] Processing assessment for sequence 3160000 with data: {"notAfter":1770277192827,"tokenId":"3160000","data":{"condition":"chest pain","patientId":"P_Triage_3160000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277072827,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3160000] Preserved workflow_start_time: 1770277072827
[TRIAGE_PLACE_3160000] Parsed token: id=3160000, version=v003, place=TriageService
[TRIAGE_PLACE_3160000] Extracted: Patient=P_Triage_3160000, Indication=chest pain
[TRIAGE_PLACE_3160000] Processing specific triage assessment
[TRIAGE_PLACE_3160000] Patient condition: chest pain
[TRIAGE_PLACE_3160000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3160000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3160000] Condition: chest pain
[TRIAGE_PLACE_3160000] Priority: URGENT
[TRIAGE_PLACE_3160000] Pain Score: 8/10
[TRIAGE_PLACE_3160000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3160000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3160000] Processing Time: 1ms
[TRIAGE_PLACE_3160000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3160000] Assessment completed successfully
[TRIAGE_PLACE_3160000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 126ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3160000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1770277192827,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:15","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072827,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277095488,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277192827,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072827,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277095614,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3160000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3160000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3160000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160001 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3160000 -> child 3160001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3160001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3160001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3160001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1770277192827,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:15","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072827,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277095488,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277192827,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072827,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277095614,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3160000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:38:16 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277096066_650 to 192.168.1.152:2105
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160002 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3160000 -> child 3160002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3160002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3160002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3160002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1770277192827,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:15","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072827,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277095488,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277192827,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072827,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277095614,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3160003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3160000 -> child=3160003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3160000 -> 3160003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3160000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3160003 created from parent 3160000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3160000 -> child 3160003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3160003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3160003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3160003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3160003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3160003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Feb 05, 2026 5:38:16 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277096357_91 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
Feb 05, 2026 5:38:16 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277096717_45 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3160003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3160000":{"serviceType":"triageResults","notAfter":1770277192827,"tokenId":"3160000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3160000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:15","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277072827,"placeId":"TRIAGE_PLACE_3160000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277095488,"version":"v003","sequenceId":"3160000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":126,"original_token":"{\"notAfter\":1770277192827,\"tokenId\":\"3160000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3160000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277072827,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277095614,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3160000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277073173 for seqID=3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277072827 for seqID=3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3160000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277073173
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277095121
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277096718
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277072827
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=3, Total=4, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 21948ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 1597ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 23545ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 6.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3160000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3160000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277200424,"tokenId":"3170000","data":{"condition":"chest pain","patientId":"P_Triage_3170000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277080424,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277080424 for seqID=3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3170000 (tokenId=3170000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3170000 buffered at T_in_TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3170000 from PATIENT_ARRIVAL at 1770277080424 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3170000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3170000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3170000  -> TriageService [BUFFERED] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3170000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3170000 entering place: TriageService (buffer=2)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3170000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3170000  -> TriageService [ENTER] buffer=2
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3170000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277080424
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3170000] Database initialized
[TRIAGE_PLACE_3170000] No database setup needed - service ready
[TRIAGE_PLACE_3170000] TriageService initialized for sequence: 3170000
[TRIAGE_PLACE_3170000] TriageService instance created - nurse: RN_TRIAGE_665
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3170000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3170000] Received clean business data length: 271
[TRIAGE_PLACE_3170000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3170000] Processing assessment for sequence 3170000 with data: {"notAfter":1770277200424,"tokenId":"3170000","data":{"condition":"chest pain","patientId":"P_Triage_3170000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277080424,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3170000] Preserved workflow_start_time: 1770277080424
[TRIAGE_PLACE_3170000] Parsed token: id=3170000, version=v003, place=TriageService
[TRIAGE_PLACE_3170000] Extracted: Patient=P_Triage_3170000, Indication=chest pain
[TRIAGE_PLACE_3170000] Processing specific triage assessment
[TRIAGE_PLACE_3170000] Patient condition: chest pain
[TRIAGE_PLACE_3170000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3170000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3170000] Condition: chest pain
[TRIAGE_PLACE_3170000] Priority: URGENT
[TRIAGE_PLACE_3170000] Pain Score: 8/10
[TRIAGE_PLACE_3170000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3170000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3170000] Processing Time: 1ms
[TRIAGE_PLACE_3170000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3170000] Assessment completed successfully
[TRIAGE_PLACE_3170000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 184ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3170000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1770277200424,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:19","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277080424,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277099483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1770277200424,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277080424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277099667,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3170000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3170000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3170000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170001 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3170000 -> child 3170001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3170001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3170001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3170001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1770277200424,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:19","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277080424,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277099483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1770277200424,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277080424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277099667,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3170000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170002 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3170000 -> child 3170002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170002 eventType=EXIT
Feb 05, 2026 5:38:19 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277099929_456 to 192.168.1.152:2105
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3170002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3170002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
Feb 05, 2026 5:38:20 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277100410_62 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3170002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1770277200424,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:19","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277080424,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277099483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1770277200424,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277080424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277099667,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3170003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3170000 -> child=3170003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3170000 -> 3170003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3170000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3170003 created from parent 3170000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3170000 -> child 3170003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3170003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3170003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3170003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3170003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3170003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3170003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3170000":{"serviceType":"triageResults","notAfter":1770277200424,"tokenId":"3170000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3170000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:19","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277080424,"placeId":"TRIAGE_PLACE_3170000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277099483,"version":"v003","sequenceId":"3170000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":184,"original_token":"{\"notAfter\":1770277200424,\"tokenId\":\"3170000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3170000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277080424,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277099667,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3170000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277080450 for seqID=3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277080424 for seqID=3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3170000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277080450
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277099033
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277101070
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277080424
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=2, Total=3, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 18583ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2037ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 20620ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 4.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3170000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3170000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277204434,"tokenId":"3180000","data":{"condition":"chest pain","patientId":"P_Triage_3180000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277084434,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277084434 for seqID=3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3180000 (tokenId=3180000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
Feb 05, 2026 5:38:21 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277101068_745 to 192.168.1.152:2101
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3180000 buffered at T_in_TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3180000 from PATIENT_ARRIVAL at 1770277084434 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3180000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3180000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3180000  -> TriageService [BUFFERED] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3180000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3180000 entering place: TriageService (buffer=1)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3180000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3180000  -> TriageService [ENTER] buffer=1
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3180000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277084434
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3180000] Database initialized
[TRIAGE_PLACE_3180000] No database setup needed - service ready
[TRIAGE_PLACE_3180000] TriageService initialized for sequence: 3180000
[TRIAGE_PLACE_3180000] TriageService instance created - nurse: RN_TRIAGE_875
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3180000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3180000] Received clean business data length: 271
[TRIAGE_PLACE_3180000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3180000] Processing assessment for sequence 3180000 with data: {"notAfter":1770277204434,"tokenId":"3180000","data":{"condition":"chest pain","patientId":"P_Triage_3180000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277084434,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3180000] Preserved workflow_start_time: 1770277084434
[TRIAGE_PLACE_3180000] Parsed token: id=3180000, version=v003, place=TriageService
[TRIAGE_PLACE_3180000] Extracted: Patient=P_Triage_3180000, Indication=chest pain
[TRIAGE_PLACE_3180000] Processing specific triage assessment
[TRIAGE_PLACE_3180000] Patient condition: chest pain
[TRIAGE_PLACE_3180000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3180000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3180000] Condition: chest pain
[TRIAGE_PLACE_3180000] Priority: URGENT
[TRIAGE_PLACE_3180000] Pain Score: 8/10
[TRIAGE_PLACE_3180000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3180000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3180000] Processing Time: 1ms
[TRIAGE_PLACE_3180000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3180000] Assessment completed successfully
[TRIAGE_PLACE_3180000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 985ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3180000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1770277204434,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:23","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277084434,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277102893,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":985,"original_token":"{\"notAfter\":1770277204434,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277084434,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277103878,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3180000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3180000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3180000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3180000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3180001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3180000 -> child=3180001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3180000 -> 3180001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3180000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3180001 created from parent 3180000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3180000 -> child 3180001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3180001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3180001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3180001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3180001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Feb 05, 2026 5:38:24 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277104314_442 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3180001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1770277204434,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:23","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277084434,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277102893,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":985,"original_token":"{\"notAfter\":1770277204434,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277084434,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277103878,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3180002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3180000 -> child=3180002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3180000 -> 3180002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3180000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3180002 created from parent 3180000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3180000 -> child 3180002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3180002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3180002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3180002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3180002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3180002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1770277204434,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:23","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277084434,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277102893,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":985,"original_token":"{\"notAfter\":1770277204434,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277084434,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277103878,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3180003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3180000 -> child=3180003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3180000 -> 3180003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3180000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3180003 created from parent 3180000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3180000 -> child 3180003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3180003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3180003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3180003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3180003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3180003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
Feb 05, 2026 5:38:24 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277104801_121 to 192.168.1.152:2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3180003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3180000":{"serviceType":"triageResults","notAfter":1770277204434,"tokenId":"3180000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3180000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:23","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277084434,"placeId":"TRIAGE_PLACE_3180000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277102893,"version":"v003","sequenceId":"3180000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":985,"original_token":"{\"notAfter\":1770277204434,\"tokenId\":\"3180000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3180000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277084434,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277103878,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3180000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277084700 for seqID=3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277084434 for seqID=3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3180000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277084700
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277102448
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277105220
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277084434
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=1, Total=2, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 17748ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 2772ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 20520ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 2.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3180000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3180000 complete.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"notAfter":1770277205633,"tokenId":"3190000","data":{"condition":"chest pain","patientId":"P_Triage_3190000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277085633,"currentPlace":"TriageService","version":"v003"}
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277085633 for seqID=3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:537) - Incoming Sequence ID = 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:554) - Using RuleBaseVersion: v003
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:569) - FILTER: Event for TriageService.processTriageAssessment accepted by TriageService thread
 WARN [ServiceThread-TriageService-12100] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3190000 (tokenId=3190000, mapSize=1)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Feb 05, 2026 5:38:25 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277105219_311 to 192.168.1.152:2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:354) - Token 3190000 buffered at T_in_TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:374) - GENERATED: Token 3190000 from PATIENT_ARRIVAL at 1770277085633 -> TriageService
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: PATIENT_ARRIVAL token=3190000 eventType=GENERATED
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3190000 eventType=BUFFERED
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3190000  -> TriageService [BUFFERED] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3110) - PETRI-NET: Token 3190000 BUFFERED at TriageService (T_in arrival)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:137) - Token 3190000 entering place: TriageService (buffer=0)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_TriageService token=3190000 eventType=ENTER
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_TriageService (GatewayNode) token=3190000  -> TriageService [ENTER] buffer=0
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3116) - PETRI-NET: Token 3190000 ENTER at TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:679) - DEBUG: nodeType: GatewayNode
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service TriageService:processTriageAssessment executing with trigger token (no workflow data required)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:1254) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:469) - ORCHESTRATOR: Processing GatewayNode for TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:470) - GATEWAY-DIAG: === START GATEWAY ROUTING ===
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v003/processTriageAssessment/Service.ruleml
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1601) - FORK: Reloaded knowledge base successfully
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for TriageService.processTriageAssessment with attribute 'token'
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation processTriageAssessment uses standard (AND) semantics
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2414) - CANONICAL-BINDING: processTriageAssessment requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2424) - CANONICAL-BINDING: processTriageAssessment needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling TriageService.processTriageAssessment immediately
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking TriageService.processTriageAssessment via ServiceHelper (canonical binding)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:126) - Service: org.btsn.places.TriageService.processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:127) - SequenceID: 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 271
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:268) - ENRICHMENT: Extracted workflow_start_time=1770277085633
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 271 (removed 0 bytes of metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.TriageService.processTriageAssessment with 1 CLEAN business data arguments
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.TriageService.processTriageAssessment
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
[TRIAGE_PLACE_3190000] Database initialized
[TRIAGE_PLACE_3190000] No database setup needed - service ready
[TRIAGE_PLACE_3190000] TriageService initialized for sequence: 3190000
[TRIAGE_PLACE_3190000] TriageService instance created - nurse: RN_TRIAGE_904
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:631) - INVOKE: Created instance using 1-param constructor (context) for org.btsn.places.TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:590) - INVOKE: Calling processTriageAssessment with 1 arguments
[TRIAGE_PLACE_3190000] ========== TRIAGE SERVICE EXECUTION START ==========
[TRIAGE_PLACE_3190000] Received clean business data length: 271
[TRIAGE_PLACE_3190000] Extracted condition: [chest pain]
[TRIAGE_PLACE_3190000] Processing assessment for sequence 3190000 with data: {"notAfter":1770277205633,"tokenId":"3190000","data":{"condition":"chest pain","patientId":"P_Triage_3190000","providerId":"RN_TRIAGE_001","priority":"STANDARD","department":"EMERGENCY"},"workflow_start_time":1770277085633,"currentPlace":"TriageService","version":"v003"}
[TRIAGE_PLACE_3190000] Preserved workflow_start_time: 1770277085633
[TRIAGE_PLACE_3190000] Parsed token: id=3190000, version=v003, place=TriageService
[TRIAGE_PLACE_3190000] Extracted: Patient=P_Triage_3190000, Indication=chest pain
[TRIAGE_PLACE_3190000] Processing specific triage assessment
[TRIAGE_PLACE_3190000] Patient condition: chest pain
[TRIAGE_PLACE_3190000] ROUTING: STANDARD WORKFLOW - Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3190000] ========== TRIAGE ASSESSMENT RESULTS ==========
[TRIAGE_PLACE_3190000] Condition: chest pain
[TRIAGE_PLACE_3190000] Priority: URGENT
[TRIAGE_PLACE_3190000] Pain Score: 8/10
[TRIAGE_PLACE_3190000] Routing: STANDARD WORKFLOW
[TRIAGE_PLACE_3190000] Rationale: Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology.
[TRIAGE_PLACE_3190000] Processing Time: 1ms
[TRIAGE_PLACE_3190000] ================================================
[JsonResponseBuilder] Extracted routing_decision: routing_path=STANDARD_WORKFLOW
[JsonResponseBuilder] Extracted assessment via toJsonFields()
[TRIAGE_PLACE_3190000] Assessment completed successfully
[TRIAGE_PLACE_3190000] ========== TRIAGE ASSESSMENT COMPLETE ==========
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.TriageService.processTriageAssessment completed in 978ms
DEBUG [ServiceThread-TriageService-12100] (ServiceHelper.java:373) - ENRICHMENT: Using wrapped response key 'TRIAGE_PLACE_3190000' instead of 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-TriageService-12100] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:477) - ORCHESTRATOR: Service returned: {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1770277205633,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:27","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277085633,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277106928,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":978,"original_token":"{\"notAfter\":1770277205633,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277085633,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277107906,"status":"TRIAGE_COMPLETE"}}
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1023) - DECISION: Found routing_decision object
DEBUG [ServiceThread-TriageService-12100] (TransitionHandler.java:1001) - DECISION: Found routing_path = 'STANDARD_WORKFLOW' in routing_decision
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:491) - GATEWAY-DIAG: Service routing_path = 'STANDARD_WORKFLOW'
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:496) - GATEWAY-DIAG: Available routes: 4
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [0] LaboratoryService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [1] CardiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [2] RadiologyService (decision_value='STANDARD_WORKFLOW')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:500) - GATEWAY-DIAG:   [3] TreatmentService (decision_value='DIRECT_TO_TREATMENT')
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> LaboratoryService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> CardiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:510) - GATEWAY-DIAG: MATCH - 'STANDARD_WORKFLOW' == 'STANDARD_WORKFLOW' -> RadiologyService
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:515) - GATEWAY-DIAG: Total matches: 3
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:534) - GATEWAY-DIAG: Multiple matches (3) -> FORK strategy
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:550) - GATEWAY-FORK: Parallel split to 3 destinations, parent token 3190000 [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3190000 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190000 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3190000 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3190000 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3190001 to LaboratoryService.processLabRequest (encoded: branch=1)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3190000 -> child=3190001
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3190000 -> 3190001 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190000 eventType=FORK_CONSUMED
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:778) - FORK_CONSUMED: Parent token 3190000 consumed at T_out_TriageService (workflowBase=3000000)
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190001 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3190001 created from parent 3190000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3190000 -> child 3190001 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3190001 exiting place: TriageService -> LaboratoryService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190001 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3190001 TriageService -> LaboratoryService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3190001 EXIT from TriageService -> LaboratoryService.processLabRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3190001
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2105
Feb 05, 2026 5:38:28 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_LABORATORYSERVICE_PROCESSLABREQUEST_1770277108632_472 to 192.168.1.152:2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to LaboratoryService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3190001 -> 'triageResults' to LaboratoryService.processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service LaboratoryService Operation: processLabRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2105
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1770277205633,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:27","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277085633,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277106928,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":978,"original_token":"{\"notAfter\":1770277205633,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277085633,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277107906,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for LaboratoryService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to LaboratoryService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3190002 to CardiologyService.processCardiacAssessment (encoded: branch=2)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3190000 -> child=3190002
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3190000 -> 3190002 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3190000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190002 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3190002 created from parent 3190000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3190000 -> child 3190002 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3190002 exiting place: TriageService -> CardiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190002 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3190002 TriageService -> CardiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3190002 EXIT from TriageService -> CardiologyService.processCardiacAssessment [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3190002
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to CardiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3190002 -> 'triageResults' to CardiologyService.processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service CardiologyService Operation: processCardiacAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2103
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1770277205633,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:27","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277085633,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277106928,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":978,"original_token":"{\"notAfter\":1770277205633,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277085633,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277107906,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for CardiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to CardiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:581) - GATEWAY-FORK: Routing child token 3190003 to RadiologyService.processImagingRequest (encoded: branch=3)
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:841) - Wrote token genealogy: parent=3190000 -> child=3190003
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:676) - GENEALOGY: Recorded fork 3190000 -> 3190003 via T_out_TriageService (workflowBase=3000000)
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:750) - Parent 3190000 already marked as consumed at T_out_TriageService
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
Feb 05, 2026 5:38:29 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_CARDIOLOGYSERVICE_PROCESSCARDIACASSESSMENT_1770277109287_444 to 192.168.1.152:2103
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190003 eventType=FORK
 INFO [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:727) - FORK: Child token 3190003 created from parent 3190000 at T_out_TriageService
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3176) - PETRI-NET: FORK 3190000 -> child 3190003 at TriageService
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:592) - Token 3190003 exiting place: TriageService -> RadiologyService [arc=STANDARD_WORKFLOW]
 WARN [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'TriageService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_TriageService token=3190003 eventType=EXIT
DEBUG [ServiceThread-TriageService-12100] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_TriageService (ForkNode) token=3190003 TriageService -> RadiologyService [EXIT] arc=STANDARD_WORKFLOW
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:3151) - PETRI-NET: Token 3190003 EXIT from TriageService -> RadiologyService.processImagingRequest [arc=STANDARD_WORKFLOW]
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2071) - FORK: Updated payload sequenceId/tokenId to 3190003
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2673) - DEBUG: Querying activeService for RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1382) - ROUTING: External to RadiologyService -> 'triageResults'
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2754) - ROUTING: Token 3190003 -> 'triageResults' to RadiologyService.processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service RadiologyService Operation: processImagingRequest
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 2101
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute triageResults = {"TRIAGE_PLACE_3190000":{"serviceType":"triageResults","notAfter":1770277205633,"tokenId":"3190000","data":{"triage_nurse":"RN_TRIAGE","vital_signs":{"oxygen_saturation":"94%","temperature":"98.6F","heart_rate":"110","blood_pressure":"145\/95"},"patientId":"P_Triage_3190000","triage_priority":"URGENT","diagnostic_orders":["ECG_STAT","Cardiac_Enzymes","Chest_X-Ray"],"routing_decision":{"estimated_time_to_treatment":"30-60 minutes","routing_timestamp":"2026-02-05 17:38:27","bypass_diagnostics":"false","routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"protocol_id":"TRIAGE_PROTOCOL_CHESTPAIN","priority":"STANDARD","pain_score":"8\/10","condition":"chest pain","next_services":["LaboratoryService","CardiologyService","RadiologyService","DiagnosisService","TreatmentService"],"providerId":"RN_TRIAGE_001","chief_complaint":"chest pain","department":"EMERGENCY"},"workflow_start_time":1770277085633,"placeId":"TRIAGE_PLACE_3190000","routing_decision":{"guard_result":false,"bypass_diagnostics":false,"routing_path":"STANDARD_WORKFLOW","rationale":"Chest pain requires diagnostic workup (ECG, cardiac enzymes, possible imaging) to differentiate cardiac from non-cardiac etiology."},"service_start_time":1770277106928,"version":"v003","sequenceId":"3190000","executionTime":0,"marking":0,"currentPlace":"TriageService","service_processing_time_ms":978,"original_token":"{\"notAfter\":1770277205633,\"tokenId\":\"3190000\",\"data\":{\"condition\":\"chest pain\",\"patientId\":\"P_Triage_3190000\",\"providerId\":\"RN_TRIAGE_001\",\"priority\":\"STANDARD\",\"department\":\"EMERGENCY\"},\"workflow_start_time\":1770277085633,\"currentPlace\":\"TriageService\",\"version\":\"v003\"}","service_end_time":1770277107906,"status":"TRIAGE_COMPLETE"}}
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for RadiologyService, published=true
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to RadiologyService via EventPublisher
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:598) - GATEWAY-FORK: Created 3 child tokens from parent 3190000
 INFO [ServiceThread-TriageService-12100] (TransitionHandler.java:541) - GATEWAY-DIAG: === END GATEWAY ROUTING ===
ERROR [ServiceThread-TriageService-12100] (ServiceThread.java:1306) - monitorIncomingEvents: true
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2815) - TIMING: Using EventReactor arrival time=1770277086869 for seqID=3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2830) - WRITE: Using captured workflowStartTime=1770277085633 for seqID=3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2852) - === SERVICE TIMING RECORD ===
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2853) -   Sequence ID: 3190000
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2854) -   Service: TriageService
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2855) -   Operation: processTriageAssessment
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2856) -   Arrival Time (EventReactor): 1770277086869
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2857) -   Invocation Time: 1770277106548
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2858) -   Publish Time: 1770277109895
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2859) -   Workflow Start Time: 1770277085633
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2860) -   MARKING: Buffer=0, Total=1, Capacity=50
 INFO [ServiceThread-TriageService-12100] (ServiceThread.java:2862) - ==============================
 INFO [ServiceThread-TriageService-12100] (BuildServiceAnalysisDatabase.java:683) - Wrote service timing record for sequenceID: 3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2874) -   Queue Time (including priority queue): 19679ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2875) -   Service Time: 3347ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2876) -   Total Time: 23026ms
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:2877) -   Buffer Utilization: 0.0%
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3190000
DEBUG [ServiceThread-TriageService-12100] (ServiceThread.java:724) - ORCHESTRATOR: Service TriageService sequence ID: 3190000 complete.
Feb 05, 2026 5:38:29 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_RADIOLOGYSERVICE_PROCESSIMAGINGREQUEST_1770277109886_588 to 192.168.1.152:2101
Received rule payload packet.....for operation: collectAllData<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v001</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_CollectorService</serviceName>
		<operationName>collectAllData</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>EdgeNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>writeCollectorData</Ind><Ind>EDGE_NODE</Ind><Ind></Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
Searching in: C:\DevShare\BTSN_R001\BTSN/btsn.common/ServiceAttributeBindings
Found binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_CollectorService-CanonicalBindings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml
  Found rule file: C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml
Found 9 rule files in RuleBase
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\CoreRuleBase.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthCareCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Healthcare\ListofHealthcareInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\Monitor\ListofMonitorActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetActiveServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetriNetInitializationServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\PetriNet\ListofPetrinetCollectorServices.ruleml.xml... 
Processing C:\DevShare\BTSN_R001\BTSN\btsn.common\RuleBase\RemoteHostMappings.ruleml.xml... 
Processing binding file: C:\DevShare\BTSN_R001\BTSN\btsn.common\ServiceAttributeBindings\TriageService\Triage_CollectorService-CanonicalBindings.ruleml.xml
Processing control Node file.... Triage_CollectorService-ControlNodeRules.ruleml.xml
All files have been concatenated into Service.ruleml
Sending commitment to remote source: 192.168.1.152:35001
Converted XML to simple format: CONFIRMED:v001:4
Sent commitment response: CONFIRMED:v001:4 to 192.168.1.152:35001
Sent acknowledgment to 192.168.1.152
Rule Handler received from 192.168.1.152:64499 - payload length: 782
=== RECEIVED XML PAYLOAD ===
<?xml version="1.0" encoding="UTF-8" standalone="no"?><rulepayload xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="rulepayload.xsd">
	<header>
		<timestamp>2012-01-02T20:05:05.491+10:30</timestamp>
		<ruleFileName>ThisServiceControlNode</ruleFileName>
		<ruleBaseVersion>v001</ruleBaseVersion>
		<ruleBaseCommitment>4</ruleBaseCommitment>
	</header>
	<targetservice>
		<serviceName>Triage_CollectorService</serviceName>
		<operationName>collectAllData</operationName>
	</targetservice>
	<rulefiledata><data><![CDATA[<Atom><Rel>NodeType</Rel><Ind>EdgeNode</Ind></Atom><Atom><Rel>meetsCondition</Rel><Ind>MonitorService</Ind><Ind>writeCollectorData</Ind><Ind>EDGE_NODE</Ind><Ind></Ind></Atom>]]></data>
	</rulefiledata>
</rulepayload>
=== END PAYLOAD ===
CreatFile: file deleted
Maximum Buffer size seen is = 1
Scheduler returned pArgs: [1000000004, 1000000]
pArgs.get(0): 1000000004
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 1000000004
sid: 1000000
PRIORITY: seqId=1000000 version=v001 completedJoin=false schedulerKey=1000000004 -> priorityKey=10001000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10001000000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"token":"workflow_1000000_v001"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277115986 for seqID=1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:537) - Incoming Sequence ID = 1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:538) - MonitorIncomingEvents+ = true
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:554) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:569) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 1000000 (tokenId=1000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:602) - DEBUG: Loading fresh knowledge base from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
DEBUG: getRuleBaset attempting to read from: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:610) - DEBUG: Loaded knowledge base length: 13646
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:611) - DEBUG: Knowledge base content preview: <Assert>
<Rulebase mapClosure="universal">
<!-- Version On -->
<Data><Atom><Rel>Version</Rel><Ind>v001</Ind></Atom></Data>
<!-- Common Rules to all services -->
<!-- 
This is the rule determines the operational parameters associated with
the destination service.
 -->
<Implies>
	<then>
		<Atom>
			<Rel>publishes</Rel>
			<Var>service</Var>
			<Var>condition</Var>
			<Var>operation</Var>
			<Var>channel</Var>
			<Var>ip</Var>
			<Var>port</Var>
			<Var>decisionValue</Var>
		</A
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2523) - Using legacy getDecisionValue - consider updating CoreRuleBase to include decisionValue in publishes
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 1000000 buffered at T_in_Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=1000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=1000000  -> Triage_CollectorService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3110) - PETRI-NET: Token 1000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 1000000 entering place: Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=1000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=1000000  -> Triage_CollectorService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3116) - PETRI-NET: Token 1000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:679) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1254) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling Triage_CollectorService.collectAllData immediately
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (canonical binding)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 1000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Triage_CollectorService initialized with context: 1000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version: v001
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version(s): [v001]
Triage_CollectorService: Collecting data for version: v001
Triage_CollectorService:   v001 - 30 timing records
Triage_CollectorService:   v001 - 30 marking records
Triage_CollectorService: TOTAL 30 timing records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking records across 1 version(s)
Triage_CollectorService: Generated response (17247 chars)
Performance data collected: 30 timing records, 30 marking records
Collecting Petri Net data...
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_1000000_v001"}
Successfully parsed version(s): [v001]
Triage_CollectorService: Collecting Petri Net data for version: v001
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v001' length=4
Scheduler returned pArgs: [2000000589, 2000000]
pArgs.get(0): 2000000589
queueAction: 50
MAXQUEUE: 50
costKeyTokenMap size before: 0
=== EVENT ACCEPTED - PROCESSING ===
costKey: 2000000589
sid: 2000000
PRIORITY: seqId=2000000 version=v001 completedJoin=false schedulerKey=2000000589 -> priorityKey=10002000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10002000000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 1
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Triage_CollectorService:   v001 - 0 transition firings
Triage_CollectorService:   v001 - 0 token paths
Triage_CollectorService:   v001 - 0 marking snapshots
Triage_CollectorService:   v001 - 0 statistics records
Triage_CollectorService:   v001 - 51 genealogy records
Triage_CollectorService: TOTAL 0 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 0 token path records across 1 version(s)
Triage_CollectorService: TOTAL 0 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 0 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 51 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (7806 chars)
Petri Net data collected: 0 firings, 0 paths, 0 markings, 0 statistics
Triage_CollectorService: Generated unified response (24765 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 190ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":0,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]}},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Triage_CollectorService","collectionTime":1770277116457,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 1000000 exiting place: Triage_CollectorService -> MonitorService [arc=$ANON11]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=1000000 eventType=EXIT
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=1000000 Triage_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3151) - PETRI-NET: Token 1000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2754) - ROUTING: Token 1000000 -> 'token' to MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":0,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]}},"pathRecordCount":0,"statisticsRecordCount":0,"markingRecordCount":0},"reportingService":"Triage_CollectorService","collectionTime":1770277116457,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"1000000","version":"v001","token":"{\"token\":\"workflow_1000000_v001\"}"}
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277117057_299 to 192.168.1.152:3002
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (26003 bytes) exceeds limit, using chunked transfer
Scheduler returned pArgs: [3000000138, 3000000]
pArgs.get(0): 3000000138
queueAction: 49
MAXQUEUE: 50
costKeyTokenMap size before: 1
=== EVENT ACCEPTED - PROCESSING ===
costKey: 3000000138
sid: 3000000
PRIORITY: seqId=3000000 version=v001 completedJoin=false schedulerKey=3000000138 -> priorityKey=10003000000
=== ADDING TO PROCESSING QUEUE ===
About to add costKey 10003000000 to costKeyTokenMap
Successfully added to costKeyTokenMap
costKeyTokenMap size after: 2
About to call notify() to wake up ServiceThread
=== END EVENT PROCESSING ===
Maximum Buffer size seen is = 2
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1306) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 1000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:724) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 1000000 complete.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"token":"workflow_2000000_v002"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277116572 for seqID=2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:537) - Incoming Sequence ID = 2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:538) - MonitorIncomingEvents+ = false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:554) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:569) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 2000000 (tokenId=2000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v001
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (26003 bytes) into 4 chunks of ~7892 bytes each
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: 5d082f3c-0ea5-4357-a3f1-5f53fe72a4e1
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishDirectly
INFO: EventPublisher: Created shared socket on port 64510
Feb 05, 2026 5:38:37 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 4 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277117057_299
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 2000000 buffered at T_in_Triage_CollectorService (buffer=1)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=2000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=2000000  -> Triage_CollectorService [BUFFERED] buffer=1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3110) - PETRI-NET: Token 2000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 2000000 entering place: Triage_CollectorService (buffer=1)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=2000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=2000000  -> Triage_CollectorService [ENTER] buffer=1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3116) - PETRI-NET: Token 2000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:679) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1254) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling Triage_CollectorService.collectAllData immediately
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (canonical binding)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 2000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Triage_CollectorService initialized with context: 2000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version: v002
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version(s): [v002]
Triage_CollectorService: Collecting data for version: v002
Triage_CollectorService:   v002 - 30 timing records
Triage_CollectorService:   v002 - 30 marking records
Triage_CollectorService: TOTAL 30 timing records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking records across 1 version(s)
Triage_CollectorService: Generated response (17247 chars)
Performance data collected: 30 timing records, 30 marking records
Collecting Petri Net data...
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_2000000_v002"}
Successfully parsed version(s): [v002]
Triage_CollectorService: Collecting Petri Net data for version: v002
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v002' length=4
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Triage_CollectorService:   v002 - 40 transition firings
Triage_CollectorService:   v002 - 20 token paths
Triage_CollectorService:   v002 - 30 marking snapshots
Triage_CollectorService:   v002 - 1 statistics records
Triage_CollectorService:   v002 - 51 genealogy records
Triage_CollectorService: TOTAL 40 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 20 token path records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 1 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 51 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (26581 chars)
Petri Net data collected: 40 firings, 20 paths, 30 markings, 1 statistics
Triage_CollectorService: Generated unified response (43540 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 102ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":40,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]},"2000000":{"markingEvolution":[{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277038178,"bufferSize":3},{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277038230,"bufferSize":3},{"marking":0,"tokenId":2000000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277040200,"bufferSize":0},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277042129,"bufferSize":5},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277042254,"bufferSize":5},{"marking":0,"tokenId":2010000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277044119,"bufferSize":0},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277045592,"bufferSize":8},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277045602,"bufferSize":8},{"marking":0,"tokenId":2020000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277046739,"bufferSize":0},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277047597,"bufferSize":9},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277047609,"bufferSize":9},{"marking":0,"tokenId":2030000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277048058,"bufferSize":0},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277052786,"bufferSize":9},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277052843,"bufferSize":9},{"marking":0,"tokenId":2040000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277053763,"bufferSize":0},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277054492,"bufferSize":9},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277054507,"bufferSize":9},{"marking":0,"tokenId":2050000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277055076,"bufferSize":0},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277056330,"bufferSize":9},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277056338,"bufferSize":9},{"marking":0,"tokenId":2060000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277057002,"bufferSize":0},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277061154,"bufferSize":8},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277061168,"bufferSize":8},{"marking":0,"tokenId":2070000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277061805,"bufferSize":0},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277062710,"bufferSize":8},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277062723,"bufferSize":8},{"marking":0,"tokenId":2080000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277063172,"bufferSize":0},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277063821,"bufferSize":8},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277063834,"bufferSize":8},{"marking":0,"tokenId":2090000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277064202,"bufferSize":0}],"tokenGenealogy":[],"tokenPaths":[{"entryTime":1770277038178,"exitTime":1770277040200,"residenceTime":2022,"entryBufferSize":3,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277038230,"exitTime":1770277040200,"residenceTime":1970,"entryBufferSize":3,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277042129,"exitTime":1770277044119,"residenceTime":1990,"entryBufferSize":5,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277042254,"exitTime":1770277044119,"residenceTime":1865,"entryBufferSize":5,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277045592,"exitTime":1770277046739,"residenceTime":1147,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277045602,"exitTime":1770277046739,"residenceTime":1137,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277047597,"exitTime":1770277048058,"residenceTime":461,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277047609,"exitTime":1770277048058,"residenceTime":449,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277052786,"exitTime":1770277053763,"residenceTime":977,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277052843,"exitTime":1770277053763,"residenceTime":920,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277054492,"exitTime":1770277055076,"residenceTime":584,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277054507,"exitTime":1770277055076,"residenceTime":569,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277056330,"exitTime":1770277057002,"residenceTime":672,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277056338,"exitTime":1770277057002,"residenceTime":664,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277061154,"exitTime":1770277061805,"residenceTime":651,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277061168,"exitTime":1770277061805,"residenceTime":637,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277062710,"exitTime":1770277063172,"residenceTime":462,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277062723,"exitTime":1770277063172,"residenceTime":449,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277063821,"exitTime":1770277064202,"residenceTime":381,"entryBufferSize":8,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277063834,"exitTime":1770277064202,"residenceTime":368,"entryBufferSize":8,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":2000000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277034623,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277038178,"bufferSize":3},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277038230,"bufferSize":3},{"tokenId":2010000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277038374,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277040200,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277042129,"bufferSize":5},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277042254,"bufferSize":5},{"tokenId":2020000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277044016,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277044119,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277045592,"bufferSize":8},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277045602,"bufferSize":8},{"tokenId":2030000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277046634,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277046739,"bufferSize":0},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277047597,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277047609,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277048058,"bufferSize":0},{"tokenId":2040000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277050007,"bufferSize":0},{"tokenId":2050000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277052063,"bufferSize":0},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277052786,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277052843,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277053763,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277054492,"bufferSize":9},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277054507,"bufferSize":9},{"tokenId":2060000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277054584,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277055076,"bufferSize":0},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277056330,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277056338,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277057002,"bufferSize":0},{"tokenId":2070000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277057431,"bufferSize":0},{"tokenId":2080000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277059777,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277061154,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277061168,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277061805,"bufferSize":0},{"tokenId":2090000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277062214,"bufferSize":0},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277062710,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277062723,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277063172,"bufferSize":0},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277063821,"bufferSize":8},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277063834,"bufferSize":8},{"tokenId":2090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277064202,"bufferSize":0}],"statistics":[{"avgResidenceTime":918.0,"minResidenceTime":368,"maxBufferSize":9,"tokenCount":20,"maxResidenceTime":2022,"workflowBase":2000000,"throughput":1.0893246187363834,"placeName":"TriageService","avgBufferSize":7.0}]}},"pathRecordCount":20,"statisticsRecordCount":1,"markingRecordCount":30},"reportingService":"Triage_CollectorService","collectionTime":1770277117803,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 2000000 exiting place: Triage_CollectorService -> MonitorService [arc=$ANON11]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=2000000 eventType=EXIT
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=2000000 Triage_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3151) - PETRI-NET: Token 2000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2754) - ROUTING: Token 2000000 -> 'token' to MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":40,"workflowGroups":{"3000000":{"markingEvolution":[],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[],"transitionFirings":[],"statistics":[]},"2000000":{"markingEvolution":[{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277038178,"bufferSize":3},{"marking":1,"tokenId":2000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277038230,"bufferSize":3},{"marking":0,"tokenId":2000000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277040200,"bufferSize":0},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277042129,"bufferSize":5},{"marking":1,"tokenId":2010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277042254,"bufferSize":5},{"marking":0,"tokenId":2010000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277044119,"bufferSize":0},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277045592,"bufferSize":8},{"marking":1,"tokenId":2020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277045602,"bufferSize":8},{"marking":0,"tokenId":2020000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277046739,"bufferSize":0},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277047597,"bufferSize":9},{"marking":1,"tokenId":2030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277047609,"bufferSize":9},{"marking":0,"tokenId":2030000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277048058,"bufferSize":0},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277052786,"bufferSize":9},{"marking":1,"tokenId":2040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277052843,"bufferSize":9},{"marking":0,"tokenId":2040000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277053763,"bufferSize":0},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277054492,"bufferSize":9},{"marking":1,"tokenId":2050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277054507,"bufferSize":9},{"marking":0,"tokenId":2050000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277055076,"bufferSize":0},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277056330,"bufferSize":9},{"marking":1,"tokenId":2060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277056338,"bufferSize":9},{"marking":0,"tokenId":2060000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277057002,"bufferSize":0},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277061154,"bufferSize":8},{"marking":1,"tokenId":2070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277061168,"bufferSize":8},{"marking":0,"tokenId":2070000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277061805,"bufferSize":0},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277062710,"bufferSize":8},{"marking":1,"tokenId":2080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277062723,"bufferSize":8},{"marking":0,"tokenId":2080000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277063172,"bufferSize":0},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277063821,"bufferSize":8},{"marking":1,"tokenId":2090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277063834,"bufferSize":8},{"marking":0,"tokenId":2090000,"transitionId":"T_out_TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277064202,"bufferSize":0}],"tokenGenealogy":[],"tokenPaths":[{"entryTime":1770277038178,"exitTime":1770277040200,"residenceTime":2022,"entryBufferSize":3,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277038230,"exitTime":1770277040200,"residenceTime":1970,"entryBufferSize":3,"tokenId":2000000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277042129,"exitTime":1770277044119,"residenceTime":1990,"entryBufferSize":5,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277042254,"exitTime":1770277044119,"residenceTime":1865,"entryBufferSize":5,"tokenId":2010000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277045592,"exitTime":1770277046739,"residenceTime":1147,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277045602,"exitTime":1770277046739,"residenceTime":1137,"entryBufferSize":8,"tokenId":2020000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277047597,"exitTime":1770277048058,"residenceTime":461,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277047609,"exitTime":1770277048058,"residenceTime":449,"entryBufferSize":9,"tokenId":2030000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277052786,"exitTime":1770277053763,"residenceTime":977,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277052843,"exitTime":1770277053763,"residenceTime":920,"entryBufferSize":9,"tokenId":2040000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277054492,"exitTime":1770277055076,"residenceTime":584,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277054507,"exitTime":1770277055076,"residenceTime":569,"entryBufferSize":9,"tokenId":2050000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277056330,"exitTime":1770277057002,"residenceTime":672,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277056338,"exitTime":1770277057002,"residenceTime":664,"entryBufferSize":9,"tokenId":2060000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277061154,"exitTime":1770277061805,"residenceTime":651,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277061168,"exitTime":1770277061805,"residenceTime":637,"entryBufferSize":8,"tokenId":2070000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277062710,"exitTime":1770277063172,"residenceTime":462,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277062723,"exitTime":1770277063172,"residenceTime":449,"entryBufferSize":8,"tokenId":2080000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277063821,"exitTime":1770277064202,"residenceTime":381,"entryBufferSize":8,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"},{"entryTime":1770277063834,"exitTime":1770277064202,"residenceTime":368,"entryBufferSize":8,"tokenId":2090000,"exitBufferSize":0,"workflowBase":2000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":2000000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277034623,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277038178,"bufferSize":3},{"tokenId":2000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277038230,"bufferSize":3},{"tokenId":2010000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277038374,"bufferSize":0},{"tokenId":2000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277040200,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277042129,"bufferSize":5},{"tokenId":2010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277042254,"bufferSize":5},{"tokenId":2020000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277044016,"bufferSize":0},{"tokenId":2010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277044119,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277045592,"bufferSize":8},{"tokenId":2020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277045602,"bufferSize":8},{"tokenId":2030000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277046634,"bufferSize":0},{"tokenId":2020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277046739,"bufferSize":0},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277047597,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277047609,"bufferSize":9},{"tokenId":2030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277048058,"bufferSize":0},{"tokenId":2040000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277050007,"bufferSize":0},{"tokenId":2050000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277052063,"bufferSize":0},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277052786,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277052843,"bufferSize":9},{"tokenId":2040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277053763,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277054492,"bufferSize":9},{"tokenId":2050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277054507,"bufferSize":9},{"tokenId":2060000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277054584,"bufferSize":0},{"tokenId":2050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277055076,"bufferSize":0},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277056330,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277056338,"bufferSize":9},{"tokenId":2060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277057002,"bufferSize":0},{"tokenId":2070000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277057431,"bufferSize":0},{"tokenId":2080000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277059777,"bufferSize":0},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277061154,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277061168,"bufferSize":8},{"tokenId":2070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277061805,"bufferSize":0},{"tokenId":2090000,"transitionId":"CANARY_TEST","fromPlace":"CANARY_TEST","toPlace":"TriageService","workflowBase":2000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277062214,"bufferSize":0},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277062710,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277062723,"bufferSize":8},{"tokenId":2080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277063172,"bufferSize":0},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277063821,"bufferSize":8},{"tokenId":2090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":2000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277063834,"bufferSize":8},{"tokenId":2090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"MonitorService","workflowBase":2000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277064202,"bufferSize":0}],"statistics":[{"avgResidenceTime":918.0,"minResidenceTime":368,"maxBufferSize":9,"tokenCount":20,"maxResidenceTime":2022,"workflowBase":2000000,"throughput":1.0893246187363834,"placeName":"TriageService","avgBufferSize":7.0}]}},"pathRecordCount":20,"statisticsRecordCount":1,"markingRecordCount":30},"reportingService":"Triage_CollectorService","collectionTime":1770277117803,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"2000000","version":"v002","token":"{\"token\":\"workflow_2000000_v002\"}"}
Feb 05, 2026 5:38:38 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277118324_300 to 192.168.1.152:3002
Feb 05, 2026 5:38:38 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (44778 bytes) exceeds limit, using chunked transfer
Feb 05, 2026 5:38:38 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (44778 bytes) into 6 chunks of ~7892 bytes each
Feb 05, 2026 5:38:38 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: b073bbb5-ff32-461e-bcb4-30dec45c4e3a
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1306) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 2000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:724) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 2000000 complete.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:480) - ORCHESTRATOR: Processing:: token = {"token":"workflow_3000000_v003"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:524) - CAPTURE: WorkflowStartTime=1770277117121 for seqID=3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:537) - Incoming Sequence ID = 3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:538) - MonitorIncomingEvents+ = false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:554) - Using RuleBaseVersion: v001
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:569) - FILTER: Event for Triage_CollectorService.collectAllData accepted by Triage_CollectorService thread
 WARN [ServiceThread-Triage_CollectorService-12200] (jsonLibrary.java:87) - Key "token" already exists. Skipping.
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:585) - JOIN-MAP: Added key=token to join 3000000 (tokenId=3000000, mapSize=1)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:594) - DEBUG: Loading rule base for operation: collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:595) - DEBUG: Rule base location: C:\DevShare\BTSN_R001\BTSN\btsn.healthcare.places.Triage/RuleFolder.v001/collectAllData/Service.ruleml
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:600) - DEBUG: Using cached knowledge base for version: v001
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:620) - DEBUG: Parsing knowledge base...
Feb 05, 2026 5:38:38 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 6 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277118324_300
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:622) - DEBUG: Knowledge base parsed successfully
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:647) - ORCHESTRATOR: Canonical binding found - overriding serviceName facts
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:650) - ORCHESTRATOR: Overrode inputCollection for canonical binding
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2518) - decisionValueCollection already populated from publishes query - skipping legacy getDecisionValue
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:354) - Token 3000000 buffered at T_in_Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=3000000 eventType=BUFFERED
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=3000000  -> Triage_CollectorService [BUFFERED] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3110) - PETRI-NET: Token 3000000 BUFFERED at Triage_CollectorService (T_in arrival)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:137) - Token 3000000 entering place: Triage_CollectorService (buffer=0)
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1085) - Could not extract previousPlace from payload
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_in_Triage_CollectorService token=3000000 eventType=ENTER
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_in_Triage_CollectorService (EdgeNode) token=3000000  -> Triage_CollectorService [ENTER] buffer=0
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3116) - PETRI-NET: Token 3000000 ENTER at Triage_CollectorService
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:677) - DEBUG: About to check inputCollection.isEmpty() - size: 1
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:678) - DEBUG: inputCollection contents: [null]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:679) - DEBUG: nodeType: EdgeNode
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:680) - DEBUG: needsInputSynchronization: false
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:697) - DEBUG: Past inputCollection check, about to enter JOIN processing
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:698) - DEBUG: inputCollection.get(0): null
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:718) - ORCHESTRATOR: Zero-input service Triage_CollectorService:collectAllData executing with trigger token (no workflow data required)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1254) - ORCHESTRATOR: Processing EdgeNode for Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:798) - ORCHESTRATOR: Processing EdgeNode/MergeNode for Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2348) - CANONICAL-BINDING: Checking canonical binding for Triage_CollectorService.collectAllData with attribute 'token'
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2376) - CANONICAL-BINDING: Operation collectAllData uses standard (AND) semantics
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2414) - CANONICAL-BINDING: collectAllData requires 1 inputs total (standard AND logic)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2424) - CANONICAL-BINDING: collectAllData needs 1 input - can call immediately with 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2128) - ORCHESTRATOR: Found single-input canonical binding - calling Triage_CollectorService.collectAllData immediately
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2135) - ORCHESTRATOR: Invoking Triage_CollectorService.collectAllData via ServiceHelper (canonical binding)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:125) - === SERVICE INVOCATION START ===
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:126) - Service: org.btsn.places.Triage_CollectorService.collectAllData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:127) - SequenceID: 3000000
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:128) - Input arguments count: 1
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:139) - Processing argument 1/1, raw length: 33
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:257) - ENRICHMENT: First service - raw token IS original_token
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:149) - ENRICHMENT: Initialized workflow start time (first service)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:163) - ENRICHMENT: Cleaned argument 1, length: 33 (removed 0 bytes of metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:167) - ENRICHMENT: Extracted 1 clean business data arguments (removed infrastructure metadata)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:178) - SERVICE INVOKE: Calling org.btsn.places.Triage_CollectorService.collectAllData with 1 CLEAN business data arguments
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:506) - INVOKE: Reflecting on org.btsn.places.Triage_CollectorService.collectAllData
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:507) - INVOKE: Looking for method with 1 String parameters
Triage_CollectorService initialized with context: 3000000, place: TriageService, buildVersion: token
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:620) - INVOKE: Created instance using 3-param constructor (context, placeName, buildVersion) for org.btsn.places.Triage_CollectorService
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:557) - INVOKE: Found standard method (1 String args)
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:590) - INVOKE: Calling collectAllData with 1 arguments
=== Triage_CollectorService: UNIFIED DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version: v003
Collecting performance data...
=== Triage_CollectorService: PERFORMANCE DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version(s): [v003]
Triage_CollectorService: Collecting data for version: v003
Triage_CollectorService:   v003 - 30 timing records
Triage_CollectorService:   v003 - 30 marking records
Triage_CollectorService: TOTAL 30 timing records across 1 version(s)
Triage_CollectorService: TOTAL 30 marking records across 1 version(s)
Triage_CollectorService: Generated response (17247 chars)
Performance data collected: 30 timing records, 30 marking records
Collecting Petri Net data...
=== Triage_CollectorService: PETRI NET DATA COLLECTION ===
Raw token received: {"token":"workflow_3000000_v003"}
Successfully parsed version(s): [v003]
Triage_CollectorService: Collecting Petri Net data for version: v003
DEBUG: Query params - T_in_TriageService, T_out_TriageService, placeName=TriageService, version='v003' length=4
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
NAMING CONVENTION VIOLATION: 'TriageService' does not end with '_Place'. Transition IDs may not match topology.
Triage_CollectorService:   v003 - 199 transition firings
Triage_CollectorService:   v003 - 40 token paths
Triage_CollectorService:   v003 - 179 marking snapshots
Triage_CollectorService:   v003 - 1 statistics records
Triage_CollectorService:   v003 - 51 genealogy records
Triage_CollectorService: TOTAL 199 transition firing records across 1 version(s)
Triage_CollectorService: TOTAL 40 token path records across 1 version(s)
Triage_CollectorService: TOTAL 179 marking snapshot records across 1 version(s)
Triage_CollectorService: TOTAL 1 statistics records across 1 version(s)
Triage_CollectorService: TOTAL 51 genealogy records across 1 version(s)
Triage_CollectorService: Generated response (96814 chars)
Petri Net data collected: 199 firings, 40 paths, 179 markings, 1 statistics
Triage_CollectorService: Generated unified response (113773 chars)
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:189) - SERVICE COMPLETE: org.btsn.places.Triage_CollectorService.collectAllData completed in 211ms
 WARN [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:384) - ENRICHMENT: Inner object is not a JSONObject, cannot enrich
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:197) - ENRICHMENT: Successfully enriched service result with metadata
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceHelper.java:199) - === SERVICE INVOCATION COMPLETE ===
 INFO [ServiceThread-Triage_CollectorService-12200] (TransitionHandler.java:803) - ORCHESTRATOR: Service returned: {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":199,"workflowGroups":{"3000000":{"markingEvolution":[{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277026719,"bufferSize":0},{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277026734,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027237,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027242,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277027249,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027354,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027450,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027489,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027588,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027650,"bufferSize":0},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277029233,"bufferSize":1},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277029282,"bufferSize":1},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031066,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031070,"bufferSize":0},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277031075,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031172,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031525,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031553,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031768,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031775,"bufferSize":0},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277033207,"bufferSize":2},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277033222,"bufferSize":2},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034504,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277034507,"bufferSize":0},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277034510,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034632,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035202,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035336,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035631,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035701,"bufferSize":0},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277049119,"bufferSize":9},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277049236,"bufferSize":9},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050065,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050068,"bufferSize":0},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277050071,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050187,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050392,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050440,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050693,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050849,"bufferSize":0},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277058162,"bufferSize":8},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277058170,"bufferSize":8},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058755,"bufferSize":0},{"marking":0,"tokenId":3040001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277058758,"bufferSize":0},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277058762,"bufferSize":0},{"marking":0,"tokenId":3040001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058768,"bufferSize":0},{"marking":0,"tokenId":3040002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059103,"bufferSize":0},{"marking":0,"tokenId":3040002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059129,"bufferSize":0},{"marking":0,"tokenId":3040003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059298,"bufferSize":0},{"marking":0,"tokenId":3040003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059342,"bufferSize":0},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065023,"bufferSize":7},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277065030,"bufferSize":7},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277065389,"bufferSize":0},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065996,"bufferSize":6},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066004,"bufferSize":6},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277066422,"bufferSize":0},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277066966,"bufferSize":5},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066973,"bufferSize":5},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067417,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067420,"bufferSize":0},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277067423,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067518,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067651,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067724,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067857,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067946,"bufferSize":0},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277069107,"bufferSize":5},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277069147,"bufferSize":5},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277069948,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277069950,"bufferSize":0},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277069952,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070057,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070176,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070266,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070514,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070581,"bufferSize":0},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277072528,"bufferSize":5},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277072534,"bufferSize":5},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073251,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073259,"bufferSize":0},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277073315,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073375,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073840,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073906,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277074177,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277074245,"bufferSize":0},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277075829,"bufferSize":6},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277075836,"bufferSize":6},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076531,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076534,"bufferSize":0},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277076536,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076544,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076804,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076894,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277077309,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277077360,"bufferSize":0},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277078761,"bufferSize":5},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277078769,"bufferSize":5},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079280,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079283,"bufferSize":0},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277079285,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079317,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079664,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079734,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277080106,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277080129,"bufferSize":0},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277081949,"bufferSize":5},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277081959,"bufferSize":5},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083501,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083513,"bufferSize":0},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277083516,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083604,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083915,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084008,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277084451,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084699,"bufferSize":0},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277086098,"bufferSize":5},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277086105,"bufferSize":5},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086831,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277086833,"bufferSize":0},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277086835,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086852,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087151,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087159,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087600,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087609,"bufferSize":0},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277088919,"bufferSize":5},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277088966,"bufferSize":5},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089787,"bufferSize":0},{"marking":0,"tokenId":3140001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277089789,"bufferSize":0},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277089791,"bufferSize":0},{"marking":0,"tokenId":3140001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089797,"bufferSize":0},{"marking":0,"tokenId":3140002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090133,"bufferSize":0},{"marking":0,"tokenId":3140002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090140,"bufferSize":0},{"marking":0,"tokenId":3140003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090579,"bufferSize":0},{"marking":0,"tokenId":3140003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090644,"bufferSize":0},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277092623,"bufferSize":4},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277092629,"bufferSize":4},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277093471,"bufferSize":0},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277095086,"bufferSize":3},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277095110,"bufferSize":3},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095651,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277095657,"bufferSize":0},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277095660,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095665,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096067,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096074,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096417,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096441,"bufferSize":0},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277098962,"bufferSize":2},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277098973,"bufferSize":2},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099733,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099736,"bufferSize":0},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277099738,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099758,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099930,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100001,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277100415,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100517,"bufferSize":0},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277102351,"bufferSize":1},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277102406,"bufferSize":1},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103979,"bufferSize":0},{"marking":0,"tokenId":3180001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277103984,"bufferSize":0},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277103992,"bufferSize":0},{"marking":0,"tokenId":3180001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103997,"bufferSize":0},{"marking":0,"tokenId":3180002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104315,"bufferSize":0},{"marking":0,"tokenId":3180002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104425,"bufferSize":0},{"marking":0,"tokenId":3180003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104802,"bufferSize":0},{"marking":0,"tokenId":3180003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104880,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277106537,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277106544,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107910,"bufferSize":0},{"marking":0,"tokenId":3190001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277107916,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277107921,"bufferSize":0},{"marking":0,"tokenId":3190001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107929,"bufferSize":0},{"marking":0,"tokenId":3190002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277108633,"bufferSize":0},{"marking":0,"tokenId":3190002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277108750,"bufferSize":0},{"marking":0,"tokenId":3190003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277109293,"bufferSize":0},{"marking":0,"tokenId":3190003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277109492,"bufferSize":0}],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[{"entryTime":1770277026719,"exitTime":1770277027237,"residenceTime":518,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277026734,"exitTime":1770277027237,"residenceTime":503,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277029233,"exitTime":1770277031066,"residenceTime":1833,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277029282,"exitTime":1770277031066,"residenceTime":1784,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277033207,"exitTime":1770277034504,"residenceTime":1297,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277033222,"exitTime":1770277034504,"residenceTime":1282,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277049119,"exitTime":1770277050065,"residenceTime":946,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277049236,"exitTime":1770277050065,"residenceTime":829,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277058162,"exitTime":1770277058755,"residenceTime":593,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277058170,"exitTime":1770277058755,"residenceTime":585,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065023,"exitTime":1770277065389,"residenceTime":366,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065030,"exitTime":1770277065389,"residenceTime":359,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065996,"exitTime":1770277066422,"residenceTime":426,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066004,"exitTime":1770277066422,"residenceTime":418,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066966,"exitTime":1770277067417,"residenceTime":451,"entryBufferSize":5,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066973,"exitTime":1770277067417,"residenceTime":444,"entryBufferSize":5,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277069107,"exitTime":1770277069948,"residenceTime":841,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277069147,"exitTime":1770277069948,"residenceTime":801,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277072528,"exitTime":1770277073251,"residenceTime":723,"entryBufferSize":5,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277072534,"exitTime":1770277073251,"residenceTime":717,"entryBufferSize":5,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277075829,"exitTime":1770277076531,"residenceTime":702,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277075836,"exitTime":1770277076531,"residenceTime":695,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277078761,"exitTime":1770277079280,"residenceTime":519,"entryBufferSize":5,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277078769,"exitTime":1770277079280,"residenceTime":511,"entryBufferSize":5,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277081949,"exitTime":1770277083501,"residenceTime":1552,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277081959,"exitTime":1770277083501,"residenceTime":1542,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277086098,"exitTime":1770277086831,"residenceTime":733,"entryBufferSize":5,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277086105,"exitTime":1770277086831,"residenceTime":726,"entryBufferSize":5,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277088919,"exitTime":1770277089787,"residenceTime":868,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277088966,"exitTime":1770277089787,"residenceTime":821,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277092623,"exitTime":1770277093471,"residenceTime":848,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277092629,"exitTime":1770277093471,"residenceTime":842,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277095086,"exitTime":1770277095651,"residenceTime":565,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277095110,"exitTime":1770277095651,"residenceTime":541,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277098962,"exitTime":1770277099733,"residenceTime":771,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277098973,"exitTime":1770277099733,"residenceTime":760,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277102351,"exitTime":1770277103979,"residenceTime":1628,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277102406,"exitTime":1770277103979,"residenceTime":1573,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277106537,"exitTime":1770277107910,"residenceTime":1373,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277106544,"exitTime":1770277107910,"residenceTime":1366,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":3000000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277026427,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277026719,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277026734,"bufferSize":0},{"tokenId":3010000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277026826,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027237,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027242,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277027249,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027354,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027450,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027489,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027588,"bufferSize":0},{"tokenId":3020000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277027630,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027650,"bufferSize":0},{"tokenId":3030000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277028226,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277029233,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277029282,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031066,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031070,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277031075,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031172,"bufferSize":0},{"tokenId":3040000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277031429,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031525,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031553,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031768,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031775,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277033207,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277033222,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034504,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277034507,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277034510,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034632,"bufferSize":0},{"tokenId":3050000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277034847,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035202,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035336,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035631,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035701,"bufferSize":0},{"tokenId":3060000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277037537,"bufferSize":0},{"tokenId":3070000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277038831,"bufferSize":0},{"tokenId":3080000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277041025,"bufferSize":0},{"tokenId":3090000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277041519,"bufferSize":0},{"tokenId":3100000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277043638,"bufferSize":0},{"tokenId":3110000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277046488,"bufferSize":0},{"tokenId":3120000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277047627,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277049119,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277049236,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050065,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050068,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277050071,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050187,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050392,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050440,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050693,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050849,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277058162,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277058170,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058755,"bufferSize":0},{"tokenId":3040001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277058758,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277058762,"bufferSize":0},{"tokenId":3040001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058768,"bufferSize":0},{"tokenId":3040002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059103,"bufferSize":0},{"tokenId":3040002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059129,"bufferSize":0},{"tokenId":3040003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059298,"bufferSize":0},{"tokenId":3040003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059342,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065023,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277065030,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277065389,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065996,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066004,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277066422,"bufferSize":0},{"tokenId":3130000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277066829,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277066966,"bufferSize":5},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066973,"bufferSize":5},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067417,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067420,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277067423,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067518,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067651,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067724,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067857,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067946,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277069107,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277069147,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277069948,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277069950,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277069952,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070057,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070176,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070266,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070514,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070581,"bufferSize":0},{"tokenId":3140000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277070846,"bufferSize":0},{"tokenId":3150000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277072080,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277072528,"bufferSize":5},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277072534,"bufferSize":5},{"tokenId":3160000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277072827,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073251,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073259,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277073315,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073375,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073840,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073906,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277074177,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277074245,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277075829,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277075836,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076531,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076534,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277076536,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076544,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076804,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076894,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277077309,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277077360,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277078761,"bufferSize":5},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277078769,"bufferSize":5},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079280,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079283,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277079285,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079317,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079664,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079734,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277080106,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277080129,"bufferSize":0},{"tokenId":3170000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277080424,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277081949,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277081959,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083501,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083513,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277083516,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083604,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083915,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084008,"bufferSize":0},{"tokenId":3180000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277084434,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277084451,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084699,"bufferSize":0},{"tokenId":3190000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277085633,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277086098,"bufferSize":5},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277086105,"bufferSize":5},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086831,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277086833,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277086835,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086852,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087151,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087159,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087600,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087609,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277088919,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277088966,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089787,"bufferSize":0},{"tokenId":3140001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277089789,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277089791,"bufferSize":0},{"tokenId":3140001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089797,"bufferSize":0},{"tokenId":3140002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090133,"bufferSize":0},{"tokenId":3140002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090140,"bufferSize":0},{"tokenId":3140003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090579,"bufferSize":0},{"tokenId":3140003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090644,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277092623,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277092629,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277093471,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277095086,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277095110,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095651,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277095657,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277095660,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095665,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096067,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096074,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096417,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096441,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277098962,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277098973,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099733,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099736,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277099738,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099758,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099930,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100001,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277100415,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100517,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277102351,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277102406,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103979,"bufferSize":0},{"tokenId":3180001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277103984,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277103992,"bufferSize":0},{"tokenId":3180001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103997,"bufferSize":0},{"tokenId":3180002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104315,"bufferSize":0},{"tokenId":3180002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104425,"bufferSize":0},{"tokenId":3180003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104802,"bufferSize":0},{"tokenId":3180003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104880,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277106537,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277106544,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107910,"bufferSize":0},{"tokenId":3190001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277107916,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277107921,"bufferSize":0},{"tokenId":3190001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107929,"bufferSize":0},{"tokenId":3190002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277108633,"bufferSize":0},{"tokenId":3190002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277108750,"bufferSize":0},{"tokenId":3190003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277109293,"bufferSize":0},{"tokenId":3190003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277109492,"bufferSize":0}],"statistics":[{"avgResidenceTime":866.0,"minResidenceTime":359,"maxBufferSize":9,"tokenCount":40,"maxResidenceTime":1833,"workflowBase":3000000,"throughput":1.1547344110854503,"placeName":"TriageService","avgBufferSize":4.0}]}},"pathRecordCount":40,"statisticsRecordCount":1,"markingRecordCount":179},"reportingService":"Triage_CollectorService","collectionTime":1770277118922,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"3000000","version":"v003","token":"{\"token\":\"workflow_3000000_v003\"}"}
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:592) - Token 3000000 exiting place: Triage_CollectorService -> MonitorService [arc=$ANON11]
 WARN [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:1270) - NAMING CONVENTION VIOLATION: Service 'Triage_CollectorService' does not end with '_Place'. Expected format: {NodeName}_Place. Transition IDs may not match topology. Please rename the service.
DEBUG [ServiceThread-Triage_CollectorService-12200] (BuildServiceAnalysisDatabase.java:807) - Wrote transition firing: T_out_Triage_CollectorService token=3000000 eventType=EXIT
DEBUG [ServiceThread-Triage_CollectorService-12200] (PetriNetInstrumentationHelper.java:909) - Recorded transition: T_out_Triage_CollectorService (EdgeNode) token=3000000 Triage_CollectorService -> MonitorService [EXIT] arc=$ANON11
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:3151) - PETRI-NET: Token 3000000 EXIT from Triage_CollectorService -> MonitorService.writeCollectorData [arc=$ANON11]
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2673) - DEBUG: Querying activeService for MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2675) - DEBUG: ActiveService query returned 2 rows
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?channelId = ip0
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2686) - DEBUG: ActiveService result - ?port = 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2697) - ORCHESTRATOR: APPLYING activeService override - Channel: ip0, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2720) - ORCHESTRATOR: Resolved ip0 to IP 192.168.1.152
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1382) - ROUTING: External to MonitorService -> 'token'
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2754) - ROUTING: Token 3000000 -> 'token' to MonitorService.writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2778) - ORCHESTRATOR: Publishing to Service MonitorService Operation: writeCollectorData
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2779) - ORCHESTRATOR: Channel: 192.168.1.152, Port: 3002
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2780) - ORCHESTRATOR: Attribute token = {"monitoredPlace":"TriageService","petriNetData":{"firingRecordCount":199,"workflowGroups":{"3000000":{"markingEvolution":[{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277026719,"bufferSize":0},{"marking":1,"tokenId":3000000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277026734,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027237,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027242,"bufferSize":0},{"marking":0,"tokenId":3000000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277027249,"bufferSize":0},{"marking":0,"tokenId":3000001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027354,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027450,"bufferSize":0},{"marking":0,"tokenId":3000002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027489,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027588,"bufferSize":0},{"marking":0,"tokenId":3000003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027650,"bufferSize":0},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277029233,"bufferSize":1},{"marking":1,"tokenId":3010000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277029282,"bufferSize":1},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031066,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031070,"bufferSize":0},{"marking":0,"tokenId":3010000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277031075,"bufferSize":0},{"marking":0,"tokenId":3010001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031172,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031525,"bufferSize":0},{"marking":0,"tokenId":3010002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031553,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031768,"bufferSize":0},{"marking":0,"tokenId":3010003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031775,"bufferSize":0},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277033207,"bufferSize":2},{"marking":1,"tokenId":3020000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277033222,"bufferSize":2},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034504,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277034507,"bufferSize":0},{"marking":0,"tokenId":3020000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277034510,"bufferSize":0},{"marking":0,"tokenId":3020001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034632,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035202,"bufferSize":0},{"marking":0,"tokenId":3020002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035336,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035631,"bufferSize":0},{"marking":0,"tokenId":3020003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035701,"bufferSize":0},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277049119,"bufferSize":9},{"marking":1,"tokenId":3030000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277049236,"bufferSize":9},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050065,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050068,"bufferSize":0},{"marking":0,"tokenId":3030000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277050071,"bufferSize":0},{"marking":0,"tokenId":3030001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050187,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050392,"bufferSize":0},{"marking":0,"tokenId":3030002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050440,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050693,"bufferSize":0},{"marking":0,"tokenId":3030003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050849,"bufferSize":0},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277058162,"bufferSize":8},{"marking":1,"tokenId":3040000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277058170,"bufferSize":8},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058755,"bufferSize":0},{"marking":0,"tokenId":3040001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277058758,"bufferSize":0},{"marking":0,"tokenId":3040000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277058762,"bufferSize":0},{"marking":0,"tokenId":3040001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058768,"bufferSize":0},{"marking":0,"tokenId":3040002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059103,"bufferSize":0},{"marking":0,"tokenId":3040002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059129,"bufferSize":0},{"marking":0,"tokenId":3040003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059298,"bufferSize":0},{"marking":0,"tokenId":3040003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059342,"bufferSize":0},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065023,"bufferSize":7},{"marking":1,"tokenId":3050000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277065030,"bufferSize":7},{"marking":0,"tokenId":3050000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277065389,"bufferSize":0},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065996,"bufferSize":6},{"marking":1,"tokenId":3060000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066004,"bufferSize":6},{"marking":0,"tokenId":3060000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277066422,"bufferSize":0},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277066966,"bufferSize":5},{"marking":1,"tokenId":3070000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066973,"bufferSize":5},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067417,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067420,"bufferSize":0},{"marking":0,"tokenId":3070000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277067423,"bufferSize":0},{"marking":0,"tokenId":3070001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067518,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067651,"bufferSize":0},{"marking":0,"tokenId":3070002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067724,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067857,"bufferSize":0},{"marking":0,"tokenId":3070003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067946,"bufferSize":0},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277069107,"bufferSize":5},{"marking":1,"tokenId":3080000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277069147,"bufferSize":5},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277069948,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277069950,"bufferSize":0},{"marking":0,"tokenId":3080000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277069952,"bufferSize":0},{"marking":0,"tokenId":3080001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070057,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070176,"bufferSize":0},{"marking":0,"tokenId":3080002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070266,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070514,"bufferSize":0},{"marking":0,"tokenId":3080003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070581,"bufferSize":0},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277072528,"bufferSize":5},{"marking":1,"tokenId":3090000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277072534,"bufferSize":5},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073251,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073259,"bufferSize":0},{"marking":0,"tokenId":3090000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277073315,"bufferSize":0},{"marking":0,"tokenId":3090001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073375,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073840,"bufferSize":0},{"marking":0,"tokenId":3090002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073906,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277074177,"bufferSize":0},{"marking":0,"tokenId":3090003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277074245,"bufferSize":0},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277075829,"bufferSize":6},{"marking":1,"tokenId":3100000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277075836,"bufferSize":6},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076531,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076534,"bufferSize":0},{"marking":0,"tokenId":3100000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277076536,"bufferSize":0},{"marking":0,"tokenId":3100001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076544,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076804,"bufferSize":0},{"marking":0,"tokenId":3100002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076894,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277077309,"bufferSize":0},{"marking":0,"tokenId":3100003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277077360,"bufferSize":0},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277078761,"bufferSize":5},{"marking":1,"tokenId":3110000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277078769,"bufferSize":5},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079280,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079283,"bufferSize":0},{"marking":0,"tokenId":3110000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277079285,"bufferSize":0},{"marking":0,"tokenId":3110001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079317,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079664,"bufferSize":0},{"marking":0,"tokenId":3110002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079734,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277080106,"bufferSize":0},{"marking":0,"tokenId":3110003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277080129,"bufferSize":0},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277081949,"bufferSize":5},{"marking":1,"tokenId":3120000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277081959,"bufferSize":5},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083501,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083513,"bufferSize":0},{"marking":0,"tokenId":3120000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277083516,"bufferSize":0},{"marking":0,"tokenId":3120001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083604,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083915,"bufferSize":0},{"marking":0,"tokenId":3120002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084008,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277084451,"bufferSize":0},{"marking":0,"tokenId":3120003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084699,"bufferSize":0},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277086098,"bufferSize":5},{"marking":1,"tokenId":3130000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277086105,"bufferSize":5},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086831,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277086833,"bufferSize":0},{"marking":0,"tokenId":3130000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277086835,"bufferSize":0},{"marking":0,"tokenId":3130001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086852,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087151,"bufferSize":0},{"marking":0,"tokenId":3130002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087159,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087600,"bufferSize":0},{"marking":0,"tokenId":3130003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087609,"bufferSize":0},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277088919,"bufferSize":5},{"marking":1,"tokenId":3140000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277088966,"bufferSize":5},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089787,"bufferSize":0},{"marking":0,"tokenId":3140001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277089789,"bufferSize":0},{"marking":0,"tokenId":3140000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277089791,"bufferSize":0},{"marking":0,"tokenId":3140001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089797,"bufferSize":0},{"marking":0,"tokenId":3140002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090133,"bufferSize":0},{"marking":0,"tokenId":3140002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090140,"bufferSize":0},{"marking":0,"tokenId":3140003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090579,"bufferSize":0},{"marking":0,"tokenId":3140003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090644,"bufferSize":0},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277092623,"bufferSize":4},{"marking":1,"tokenId":3150000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277092629,"bufferSize":4},{"marking":0,"tokenId":3150000,"transitionId":"T_out_TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277093471,"bufferSize":0},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277095086,"bufferSize":3},{"marking":1,"tokenId":3160000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277095110,"bufferSize":3},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095651,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277095657,"bufferSize":0},{"marking":0,"tokenId":3160000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277095660,"bufferSize":0},{"marking":0,"tokenId":3160001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095665,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096067,"bufferSize":0},{"marking":0,"tokenId":3160002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096074,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096417,"bufferSize":0},{"marking":0,"tokenId":3160003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096441,"bufferSize":0},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277098962,"bufferSize":2},{"marking":1,"tokenId":3170000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277098973,"bufferSize":2},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099733,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099736,"bufferSize":0},{"marking":0,"tokenId":3170000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277099738,"bufferSize":0},{"marking":0,"tokenId":3170001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099758,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099930,"bufferSize":0},{"marking":0,"tokenId":3170002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100001,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277100415,"bufferSize":0},{"marking":0,"tokenId":3170003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100517,"bufferSize":0},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277102351,"bufferSize":1},{"marking":1,"tokenId":3180000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277102406,"bufferSize":1},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103979,"bufferSize":0},{"marking":0,"tokenId":3180001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277103984,"bufferSize":0},{"marking":0,"tokenId":3180000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277103992,"bufferSize":0},{"marking":0,"tokenId":3180001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103997,"bufferSize":0},{"marking":0,"tokenId":3180002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104315,"bufferSize":0},{"marking":0,"tokenId":3180002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104425,"bufferSize":0},{"marking":0,"tokenId":3180003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104802,"bufferSize":0},{"marking":0,"tokenId":3180003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104880,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277106537,"bufferSize":0},{"marking":1,"tokenId":3190000,"transitionId":"T_in_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277106544,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107910,"bufferSize":0},{"marking":0,"tokenId":3190001,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277107916,"bufferSize":0},{"marking":0,"tokenId":3190000,"transitionId":"T_out_TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277107921,"bufferSize":0},{"marking":0,"tokenId":3190001,"transitionId":"T_out_TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107929,"bufferSize":0},{"marking":0,"tokenId":3190002,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277108633,"bufferSize":0},{"marking":0,"tokenId":3190002,"transitionId":"T_out_TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277108750,"bufferSize":0},{"marking":0,"tokenId":3190003,"transitionId":"T_out_TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277109293,"bufferSize":0},{"marking":0,"tokenId":3190003,"transitionId":"T_out_TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277109492,"bufferSize":0}],"tokenGenealogy":[{"childTokenId":3000001,"forkTimestamp":1770277027242,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000002,"forkTimestamp":1770277027450,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3000003,"forkTimestamp":1770277027588,"parentTokenId":3000000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010001,"forkTimestamp":1770277031070,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010002,"forkTimestamp":1770277031525,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3010003,"forkTimestamp":1770277031768,"parentTokenId":3010000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020001,"forkTimestamp":1770277034507,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020002,"forkTimestamp":1770277035202,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3020003,"forkTimestamp":1770277035631,"parentTokenId":3020000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030001,"forkTimestamp":1770277050068,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030002,"forkTimestamp":1770277050392,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3030003,"forkTimestamp":1770277050693,"parentTokenId":3030000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040001,"forkTimestamp":1770277058758,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040002,"forkTimestamp":1770277059103,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3040003,"forkTimestamp":1770277059298,"parentTokenId":3040000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070001,"forkTimestamp":1770277067420,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070002,"forkTimestamp":1770277067651,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3070003,"forkTimestamp":1770277067857,"parentTokenId":3070000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080001,"forkTimestamp":1770277069950,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080002,"forkTimestamp":1770277070176,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3080003,"forkTimestamp":1770277070514,"parentTokenId":3080000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090001,"forkTimestamp":1770277073259,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090002,"forkTimestamp":1770277073840,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3090003,"forkTimestamp":1770277074177,"parentTokenId":3090000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100001,"forkTimestamp":1770277076534,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100002,"forkTimestamp":1770277076804,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3100003,"forkTimestamp":1770277077309,"parentTokenId":3100000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110001,"forkTimestamp":1770277079283,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110002,"forkTimestamp":1770277079664,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3110003,"forkTimestamp":1770277080106,"parentTokenId":3110000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120001,"forkTimestamp":1770277083513,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120002,"forkTimestamp":1770277083915,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3120003,"forkTimestamp":1770277084451,"parentTokenId":3120000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130001,"forkTimestamp":1770277086833,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130002,"forkTimestamp":1770277087151,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3130003,"forkTimestamp":1770277087600,"parentTokenId":3130000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140001,"forkTimestamp":1770277089789,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140002,"forkTimestamp":1770277090133,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3140003,"forkTimestamp":1770277090579,"parentTokenId":3140000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160001,"forkTimestamp":1770277095657,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160002,"forkTimestamp":1770277096067,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3160003,"forkTimestamp":1770277096417,"parentTokenId":3160000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170001,"forkTimestamp":1770277099736,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170002,"forkTimestamp":1770277099930,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3170003,"forkTimestamp":1770277100415,"parentTokenId":3170000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180001,"forkTimestamp":1770277103984,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180002,"forkTimestamp":1770277104315,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3180003,"forkTimestamp":1770277104802,"parentTokenId":3180000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190001,"forkTimestamp":1770277107916,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190002,"forkTimestamp":1770277108633,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000},{"childTokenId":3190003,"forkTimestamp":1770277109293,"parentTokenId":3190000,"forkTransitionId":"T_out_TriageService","workflowBase":3000000}],"tokenPaths":[{"entryTime":1770277026719,"exitTime":1770277027237,"residenceTime":518,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277026734,"exitTime":1770277027237,"residenceTime":503,"entryBufferSize":0,"tokenId":3000000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277029233,"exitTime":1770277031066,"residenceTime":1833,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277029282,"exitTime":1770277031066,"residenceTime":1784,"entryBufferSize":1,"tokenId":3010000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277033207,"exitTime":1770277034504,"residenceTime":1297,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277033222,"exitTime":1770277034504,"residenceTime":1282,"entryBufferSize":2,"tokenId":3020000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277049119,"exitTime":1770277050065,"residenceTime":946,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277049236,"exitTime":1770277050065,"residenceTime":829,"entryBufferSize":9,"tokenId":3030000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277058162,"exitTime":1770277058755,"residenceTime":593,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277058170,"exitTime":1770277058755,"residenceTime":585,"entryBufferSize":8,"tokenId":3040000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065023,"exitTime":1770277065389,"residenceTime":366,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065030,"exitTime":1770277065389,"residenceTime":359,"entryBufferSize":7,"tokenId":3050000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277065996,"exitTime":1770277066422,"residenceTime":426,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066004,"exitTime":1770277066422,"residenceTime":418,"entryBufferSize":6,"tokenId":3060000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066966,"exitTime":1770277067417,"residenceTime":451,"entryBufferSize":5,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277066973,"exitTime":1770277067417,"residenceTime":444,"entryBufferSize":5,"tokenId":3070000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277069107,"exitTime":1770277069948,"residenceTime":841,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277069147,"exitTime":1770277069948,"residenceTime":801,"entryBufferSize":5,"tokenId":3080000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277072528,"exitTime":1770277073251,"residenceTime":723,"entryBufferSize":5,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277072534,"exitTime":1770277073251,"residenceTime":717,"entryBufferSize":5,"tokenId":3090000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277075829,"exitTime":1770277076531,"residenceTime":702,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277075836,"exitTime":1770277076531,"residenceTime":695,"entryBufferSize":6,"tokenId":3100000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277078761,"exitTime":1770277079280,"residenceTime":519,"entryBufferSize":5,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277078769,"exitTime":1770277079280,"residenceTime":511,"entryBufferSize":5,"tokenId":3110000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277081949,"exitTime":1770277083501,"residenceTime":1552,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277081959,"exitTime":1770277083501,"residenceTime":1542,"entryBufferSize":5,"tokenId":3120000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277086098,"exitTime":1770277086831,"residenceTime":733,"entryBufferSize":5,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277086105,"exitTime":1770277086831,"residenceTime":726,"entryBufferSize":5,"tokenId":3130000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277088919,"exitTime":1770277089787,"residenceTime":868,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277088966,"exitTime":1770277089787,"residenceTime":821,"entryBufferSize":5,"tokenId":3140000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277092623,"exitTime":1770277093471,"residenceTime":848,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277092629,"exitTime":1770277093471,"residenceTime":842,"entryBufferSize":4,"tokenId":3150000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277095086,"exitTime":1770277095651,"residenceTime":565,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277095110,"exitTime":1770277095651,"residenceTime":541,"entryBufferSize":3,"tokenId":3160000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277098962,"exitTime":1770277099733,"residenceTime":771,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277098973,"exitTime":1770277099733,"residenceTime":760,"entryBufferSize":2,"tokenId":3170000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277102351,"exitTime":1770277103979,"residenceTime":1628,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277102406,"exitTime":1770277103979,"residenceTime":1573,"entryBufferSize":1,"tokenId":3180000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277106537,"exitTime":1770277107910,"residenceTime":1373,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"},{"entryTime":1770277106544,"exitTime":1770277107910,"residenceTime":1366,"entryBufferSize":0,"tokenId":3190000,"exitBufferSize":0,"workflowBase":3000000,"placeName":"TriageService"}],"transitionFirings":[{"tokenId":3000000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277026427,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277026719,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277026734,"bufferSize":0},{"tokenId":3010000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277026826,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027237,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027242,"bufferSize":0},{"tokenId":3000000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277027249,"bufferSize":0},{"tokenId":3000001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027354,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027450,"bufferSize":0},{"tokenId":3000002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027489,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277027588,"bufferSize":0},{"tokenId":3020000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277027630,"bufferSize":0},{"tokenId":3000003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277027650,"bufferSize":0},{"tokenId":3030000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277028226,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277029233,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277029282,"bufferSize":1},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031066,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031070,"bufferSize":0},{"tokenId":3010000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277031075,"bufferSize":0},{"tokenId":3010001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031172,"bufferSize":0},{"tokenId":3040000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277031429,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031525,"bufferSize":0},{"tokenId":3010002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031553,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277031768,"bufferSize":0},{"tokenId":3010003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277031775,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277033207,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277033222,"bufferSize":2},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034504,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277034507,"bufferSize":0},{"tokenId":3020000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277034510,"bufferSize":0},{"tokenId":3020001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277034632,"bufferSize":0},{"tokenId":3050000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277034847,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035202,"bufferSize":0},{"tokenId":3020002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035336,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277035631,"bufferSize":0},{"tokenId":3020003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277035701,"bufferSize":0},{"tokenId":3060000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277037537,"bufferSize":0},{"tokenId":3070000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277038831,"bufferSize":0},{"tokenId":3080000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277041025,"bufferSize":0},{"tokenId":3090000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277041519,"bufferSize":0},{"tokenId":3100000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277043638,"bufferSize":0},{"tokenId":3110000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277046488,"bufferSize":0},{"tokenId":3120000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277047627,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277049119,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277049236,"bufferSize":9},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050065,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050068,"bufferSize":0},{"tokenId":3030000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277050071,"bufferSize":0},{"tokenId":3030001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050187,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050392,"bufferSize":0},{"tokenId":3030002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050440,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277050693,"bufferSize":0},{"tokenId":3030003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277050849,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277058162,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277058170,"bufferSize":8},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058755,"bufferSize":0},{"tokenId":3040001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277058758,"bufferSize":0},{"tokenId":3040000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277058762,"bufferSize":0},{"tokenId":3040001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277058768,"bufferSize":0},{"tokenId":3040002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059103,"bufferSize":0},{"tokenId":3040002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059129,"bufferSize":0},{"tokenId":3040003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277059298,"bufferSize":0},{"tokenId":3040003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277059342,"bufferSize":0},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065023,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277065030,"bufferSize":7},{"tokenId":3050000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277065389,"bufferSize":0},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277065996,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066004,"bufferSize":6},{"tokenId":3060000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277066422,"bufferSize":0},{"tokenId":3130000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277066829,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277066966,"bufferSize":5},{"tokenId":3070000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277066973,"bufferSize":5},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067417,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067420,"bufferSize":0},{"tokenId":3070000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277067423,"bufferSize":0},{"tokenId":3070001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067518,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067651,"bufferSize":0},{"tokenId":3070002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067724,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277067857,"bufferSize":0},{"tokenId":3070003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277067946,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277069107,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277069147,"bufferSize":5},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277069948,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277069950,"bufferSize":0},{"tokenId":3080000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277069952,"bufferSize":0},{"tokenId":3080001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070057,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070176,"bufferSize":0},{"tokenId":3080002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070266,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277070514,"bufferSize":0},{"tokenId":3080003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277070581,"bufferSize":0},{"tokenId":3140000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277070846,"bufferSize":0},{"tokenId":3150000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277072080,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277072528,"bufferSize":5},{"tokenId":3090000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277072534,"bufferSize":5},{"tokenId":3160000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277072827,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073251,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073259,"bufferSize":0},{"tokenId":3090000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277073315,"bufferSize":0},{"tokenId":3090001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073375,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277073840,"bufferSize":0},{"tokenId":3090002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277073906,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277074177,"bufferSize":0},{"tokenId":3090003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277074245,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277075829,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277075836,"bufferSize":6},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076531,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076534,"bufferSize":0},{"tokenId":3100000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277076536,"bufferSize":0},{"tokenId":3100001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076544,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277076804,"bufferSize":0},{"tokenId":3100002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277076894,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277077309,"bufferSize":0},{"tokenId":3100003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277077360,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277078761,"bufferSize":5},{"tokenId":3110000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277078769,"bufferSize":5},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079280,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079283,"bufferSize":0},{"tokenId":3110000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277079285,"bufferSize":0},{"tokenId":3110001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079317,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277079664,"bufferSize":0},{"tokenId":3110002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277079734,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277080106,"bufferSize":0},{"tokenId":3110003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277080129,"bufferSize":0},{"tokenId":3170000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277080424,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277081949,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277081959,"bufferSize":5},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083501,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083513,"bufferSize":0},{"tokenId":3120000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277083516,"bufferSize":0},{"tokenId":3120001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277083604,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277083915,"bufferSize":0},{"tokenId":3120002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084008,"bufferSize":0},{"tokenId":3180000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277084434,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277084451,"bufferSize":0},{"tokenId":3120003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277084699,"bufferSize":0},{"tokenId":3190000,"transitionId":"PATIENT_ARRIVAL","fromPlace":"PATIENT_ARRIVAL","toPlace":"TriageService","workflowBase":3000000,"eventType":"GENERATED","placeName":"TriageService","timestamp":1770277085633,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277086098,"bufferSize":5},{"tokenId":3130000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277086105,"bufferSize":5},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086831,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277086833,"bufferSize":0},{"tokenId":3130000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277086835,"bufferSize":0},{"tokenId":3130001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277086852,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087151,"bufferSize":0},{"tokenId":3130002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087159,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277087600,"bufferSize":0},{"tokenId":3130003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277087609,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277088919,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277088966,"bufferSize":5},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089787,"bufferSize":0},{"tokenId":3140001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277089789,"bufferSize":0},{"tokenId":3140000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277089791,"bufferSize":0},{"tokenId":3140001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277089797,"bufferSize":0},{"tokenId":3140002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090133,"bufferSize":0},{"tokenId":3140002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090140,"bufferSize":0},{"tokenId":3140003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277090579,"bufferSize":0},{"tokenId":3140003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277090644,"bufferSize":0},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277092623,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277092629,"bufferSize":4},{"tokenId":3150000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TreatmentService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277093471,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277095086,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277095110,"bufferSize":3},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095651,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277095657,"bufferSize":0},{"tokenId":3160000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277095660,"bufferSize":0},{"tokenId":3160001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277095665,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096067,"bufferSize":0},{"tokenId":3160002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096074,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277096417,"bufferSize":0},{"tokenId":3160003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277096441,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277098962,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277098973,"bufferSize":2},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099733,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099736,"bufferSize":0},{"tokenId":3170000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277099738,"bufferSize":0},{"tokenId":3170001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277099758,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277099930,"bufferSize":0},{"tokenId":3170002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100001,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277100415,"bufferSize":0},{"tokenId":3170003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277100517,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277102351,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277102406,"bufferSize":1},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103979,"bufferSize":0},{"tokenId":3180001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277103984,"bufferSize":0},{"tokenId":3180000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277103992,"bufferSize":0},{"tokenId":3180001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277103997,"bufferSize":0},{"tokenId":3180002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104315,"bufferSize":0},{"tokenId":3180002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104425,"bufferSize":0},{"tokenId":3180003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277104802,"bufferSize":0},{"tokenId":3180003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277104880,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"BUFFERED","placeName":"TriageService","timestamp":1770277106537,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_in_TriageService","fromPlace":"","toPlace":"TriageService","workflowBase":3000000,"eventType":"ENTER","placeName":"TriageService","timestamp":1770277106544,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107910,"bufferSize":0},{"tokenId":3190001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277107916,"bufferSize":0},{"tokenId":3190000,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"FORK_CONSUMED","workflowBase":3000000,"eventType":"FORK_CONSUMED","placeName":"TriageService","timestamp":1770277107921,"bufferSize":0},{"tokenId":3190001,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"LaboratoryService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277107929,"bufferSize":0},{"tokenId":3190002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277108633,"bufferSize":0},{"tokenId":3190002,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"CardiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277108750,"bufferSize":0},{"tokenId":3190003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"TriageService","workflowBase":3000000,"eventType":"FORK","placeName":"TriageService","timestamp":1770277109293,"bufferSize":0},{"tokenId":3190003,"transitionId":"T_out_TriageService","fromPlace":"TriageService","toPlace":"RadiologyService","workflowBase":3000000,"eventType":"EXIT","placeName":"TriageService","timestamp":1770277109492,"bufferSize":0}],"statistics":[{"avgResidenceTime":866.0,"minResidenceTime":359,"maxBufferSize":9,"tokenCount":40,"maxResidenceTime":1833,"workflowBase":3000000,"throughput":1.1547344110854503,"placeName":"TriageService","avgBufferSize":4.0}]}},"pathRecordCount":40,"statisticsRecordCount":1,"markingRecordCount":179},"reportingService":"Triage_CollectorService","collectionTime":1770277118922,"performanceData":{"workflowGroups":{"1770277043638":[{"maxQueueCapacity":50,"arrivalTime":1770277043741,"totalTime":33874,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","serviceTime":1775,"queueTime":32099,"bufferSize":6}],"1770277062214":[{"maxQueueCapacity":50,"arrivalTime":1770277062452,"totalTime":1931,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","serviceTime":545,"queueTime":1386,"bufferSize":8}],"1770277031429":[{"maxQueueCapacity":50,"arrivalTime":1770277031538,"totalTime":28124,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","serviceTime":1488,"queueTime":26636,"bufferSize":8}],"1770277085633":[{"maxQueueCapacity":50,"arrivalTime":1770277086869,"totalTime":23026,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","serviceTime":3347,"queueTime":19679,"bufferSize":0}],"1770277046488":[{"maxQueueCapacity":50,"arrivalTime":1770277046624,"totalTime":33759,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","serviceTime":1608,"queueTime":32151,"bufferSize":5}],"1770277072080":[{"maxQueueCapacity":50,"arrivalTime":1770277072675,"totalTime":21119,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","serviceTime":1162,"queueTime":19957,"bufferSize":4}],"1770277034623":[{"maxQueueCapacity":50,"arrivalTime":1770277035211,"totalTime":5222,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","serviceTime":2192,"queueTime":3030,"bufferSize":3}],"1770277066829":[{"maxQueueCapacity":50,"arrivalTime":1770277066849,"totalTime":21102,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","serviceTime":1842,"queueTime":19260,"bufferSize":5}],"1770277037537":[{"maxQueueCapacity":50,"arrivalTime":1770277038200,"totalTime":28342,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","serviceTime":529,"queueTime":27813,"bufferSize":6}],"1770277034847":[{"maxQueueCapacity":50,"arrivalTime":1770277035275,"totalTime":30235,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","serviceTime":474,"queueTime":29761,"bufferSize":7}],"1770277047627":[{"maxQueueCapacity":50,"arrivalTime":1770277047828,"totalTime":37170,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","serviceTime":3034,"queueTime":34136,"bufferSize":5}],"1770277044016":[{"maxQueueCapacity":50,"arrivalTime":1770277044085,"totalTime":2839,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","serviceTime":1316,"queueTime":1523,"bufferSize":8}],"1770277046634":[{"maxQueueCapacity":50,"arrivalTime":1770277046669,"totalTime":1547,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","serviceTime":601,"queueTime":946,"bufferSize":9}],"1770277038374":[{"maxQueueCapacity":50,"arrivalTime":1770277038553,"totalTime":5755,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","serviceTime":2034,"queueTime":3721,"bufferSize":5}],"1770277070846":[{"maxQueueCapacity":50,"arrivalTime":1770277071358,"totalTime":20013,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","serviceTime":2392,"queueTime":17621,"bufferSize":5}],"1770277026826":[{"maxQueueCapacity":50,"arrivalTime":1770277026844,"totalTime":5214,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","serviceTime":2641,"queueTime":2573,"bufferSize":1}],"1770277026427":[{"maxQueueCapacity":50,"arrivalTime":1770277026488,"totalTime":1438,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","serviceTime":1185,"queueTime":253,"bufferSize":0}],"1770277072827":[{"maxQueueCapacity":50,"arrivalTime":1770277073173,"totalTime":23545,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","serviceTime":1597,"queueTime":21948,"bufferSize":3}],"1770277084434":[{"maxQueueCapacity":50,"arrivalTime":1770277084700,"totalTime":20520,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","serviceTime":2772,"queueTime":17748,"bufferSize":1}],"1770277028226":[{"maxQueueCapacity":50,"arrivalTime":1770277029305,"totalTime":22053,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","serviceTime":2118,"queueTime":19935,"bufferSize":9}],"1770277080424":[{"maxQueueCapacity":50,"arrivalTime":1770277080450,"totalTime":20620,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","serviceTime":2037,"queueTime":18583,"bufferSize":2}],"1770277041025":[{"maxQueueCapacity":50,"arrivalTime":1770277042767,"totalTime":28600,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","serviceTime":2090,"queueTime":26510,"bufferSize":5}],"1770277027630":[{"maxQueueCapacity":50,"arrivalTime":1770277028007,"totalTime":7975,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","serviceTime":2744,"queueTime":5231,"bufferSize":2}],"1770277054584":[{"maxQueueCapacity":50,"arrivalTime":1770277054825,"totalTime":2344,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","serviceTime":807,"queueTime":1537,"bufferSize":9}],"1770277041519":[{"maxQueueCapacity":50,"arrivalTime":1770277043002,"totalTime":31500,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","serviceTime":1964,"queueTime":29536,"bufferSize":5}],"1770277052063":[{"maxQueueCapacity":50,"arrivalTime":1770277052577,"totalTime":2637,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","serviceTime":692,"queueTime":1945,"bufferSize":9}],"1770277038831":[{"maxQueueCapacity":50,"arrivalTime":1770277038887,"totalTime":29240,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","serviceTime":1149,"queueTime":28091,"bufferSize":5}],"1770277050007":[{"maxQueueCapacity":50,"arrivalTime":1770277050069,"totalTime":3815,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","serviceTime":803,"queueTime":3012,"bufferSize":9}],"1770277057431":[{"maxQueueCapacity":50,"arrivalTime":1770277058735,"totalTime":3268,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","serviceTime":822,"queueTime":2446,"bufferSize":8}],"1770277059777":[{"maxQueueCapacity":50,"arrivalTime":1770277061609,"totalTime":1709,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","serviceTime":588,"queueTime":1121,"bufferSize":8}]},"markingData":{"1770277043638":[{"publishTime":1770277077615,"maxQueueCapacity":50,"arrivalTime":1770277043741,"invocationTime":1770277075840,"workflowStartTime":1770277043638,"totalMarking":7,"serviceName":"TriageService","sequenceId":3100000,"operation":"processTriageAssessment","bufferSize":6}],"1770277062214":[{"publishTime":1770277064383,"maxQueueCapacity":50,"arrivalTime":1770277062452,"invocationTime":1770277063838,"workflowStartTime":1770277062214,"totalMarking":9,"serviceName":"TriageService","sequenceId":2090000,"operation":"processTriageAssessment","bufferSize":8}],"1770277031429":[{"publishTime":1770277059662,"maxQueueCapacity":50,"arrivalTime":1770277031538,"invocationTime":1770277058174,"workflowStartTime":1770277031429,"totalMarking":9,"serviceName":"TriageService","sequenceId":3040000,"operation":"processTriageAssessment","bufferSize":8}],"1770277085633":[{"publishTime":1770277109895,"maxQueueCapacity":50,"arrivalTime":1770277086869,"invocationTime":1770277106548,"workflowStartTime":1770277085633,"totalMarking":1,"serviceName":"TriageService","sequenceId":3190000,"operation":"processTriageAssessment","bufferSize":0}],"1770277046488":[{"publishTime":1770277080383,"maxQueueCapacity":50,"arrivalTime":1770277046624,"invocationTime":1770277078775,"workflowStartTime":1770277046488,"totalMarking":6,"serviceName":"TriageService","sequenceId":3110000,"operation":"processTriageAssessment","bufferSize":5}],"1770277072080":[{"publishTime":1770277093794,"maxQueueCapacity":50,"arrivalTime":1770277072675,"invocationTime":1770277092632,"workflowStartTime":1770277072080,"totalMarking":5,"serviceName":"TriageService","sequenceId":3150000,"operation":"processTriageAssessment","bufferSize":4}],"1770277034623":[{"publishTime":1770277040433,"maxQueueCapacity":50,"arrivalTime":1770277035211,"invocationTime":1770277038241,"workflowStartTime":1770277034623,"totalMarking":4,"serviceName":"TriageService","sequenceId":2000000,"operation":"processTriageAssessment","bufferSize":3}],"1770277066829":[{"publishTime":1770277087951,"maxQueueCapacity":50,"arrivalTime":1770277066849,"invocationTime":1770277086109,"workflowStartTime":1770277066829,"totalMarking":6,"serviceName":"TriageService","sequenceId":3130000,"operation":"processTriageAssessment","bufferSize":5}],"1770277037537":[{"publishTime":1770277066542,"maxQueueCapacity":50,"arrivalTime":1770277038200,"invocationTime":1770277066013,"workflowStartTime":1770277037537,"totalMarking":7,"serviceName":"TriageService","sequenceId":3060000,"operation":"processTriageAssessment","bufferSize":6}],"1770277034847":[{"publishTime":1770277065510,"maxQueueCapacity":50,"arrivalTime":1770277035275,"invocationTime":1770277065036,"workflowStartTime":1770277034847,"totalMarking":8,"serviceName":"TriageService","sequenceId":3050000,"operation":"processTriageAssessment","bufferSize":7}],"1770277047627":[{"publishTime":1770277084998,"maxQueueCapacity":50,"arrivalTime":1770277047828,"invocationTime":1770277081964,"workflowStartTime":1770277047627,"totalMarking":6,"serviceName":"TriageService","sequenceId":3120000,"operation":"processTriageAssessment","bufferSize":5}],"1770277044016":[{"publishTime":1770277046924,"maxQueueCapacity":50,"arrivalTime":1770277044085,"invocationTime":1770277045608,"workflowStartTime":1770277044016,"totalMarking":9,"serviceName":"TriageService","sequenceId":2020000,"operation":"processTriageAssessment","bufferSize":8}],"1770277046634":[{"publishTime":1770277048216,"maxQueueCapacity":50,"arrivalTime":1770277046669,"invocationTime":1770277047615,"workflowStartTime":1770277046634,"totalMarking":10,"serviceName":"TriageService","sequenceId":2030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038374":[{"publishTime":1770277044308,"maxQueueCapacity":50,"arrivalTime":1770277038553,"invocationTime":1770277042274,"workflowStartTime":1770277038374,"totalMarking":6,"serviceName":"TriageService","sequenceId":2010000,"operation":"processTriageAssessment","bufferSize":5}],"1770277070846":[{"publishTime":1770277091371,"maxQueueCapacity":50,"arrivalTime":1770277071358,"invocationTime":1770277088979,"workflowStartTime":1770277070846,"totalMarking":6,"serviceName":"TriageService","sequenceId":3140000,"operation":"processTriageAssessment","bufferSize":5}],"1770277026826":[{"publishTime":1770277032058,"maxQueueCapacity":50,"arrivalTime":1770277026844,"invocationTime":1770277029417,"workflowStartTime":1770277026826,"totalMarking":2,"serviceName":"TriageService","sequenceId":3010000,"operation":"processTriageAssessment","bufferSize":1}],"1770277026427":[{"publishTime":1770277027926,"maxQueueCapacity":50,"arrivalTime":1770277026488,"invocationTime":1770277026741,"workflowStartTime":1770277026427,"totalMarking":1,"serviceName":"TriageService","sequenceId":3000000,"operation":"processTriageAssessment","bufferSize":0}],"1770277072827":[{"publishTime":1770277096718,"maxQueueCapacity":50,"arrivalTime":1770277073173,"invocationTime":1770277095121,"workflowStartTime":1770277072827,"totalMarking":4,"serviceName":"TriageService","sequenceId":3160000,"operation":"processTriageAssessment","bufferSize":3}],"1770277084434":[{"publishTime":1770277105220,"maxQueueCapacity":50,"arrivalTime":1770277084700,"invocationTime":1770277102448,"workflowStartTime":1770277084434,"totalMarking":2,"serviceName":"TriageService","sequenceId":3180000,"operation":"processTriageAssessment","bufferSize":1}],"1770277028226":[{"publishTime":1770277051358,"maxQueueCapacity":50,"arrivalTime":1770277029305,"invocationTime":1770277049240,"workflowStartTime":1770277028226,"totalMarking":10,"serviceName":"TriageService","sequenceId":3030000,"operation":"processTriageAssessment","bufferSize":9}],"1770277080424":[{"publishTime":1770277101070,"maxQueueCapacity":50,"arrivalTime":1770277080450,"invocationTime":1770277099033,"workflowStartTime":1770277080424,"totalMarking":3,"serviceName":"TriageService","sequenceId":3170000,"operation":"processTriageAssessment","bufferSize":2}],"1770277041025":[{"publishTime":1770277071367,"maxQueueCapacity":50,"arrivalTime":1770277042767,"invocationTime":1770277069277,"workflowStartTime":1770277041025,"totalMarking":6,"serviceName":"TriageService","sequenceId":3080000,"operation":"processTriageAssessment","bufferSize":5}],"1770277027630":[{"publishTime":1770277035982,"maxQueueCapacity":50,"arrivalTime":1770277028007,"invocationTime":1770277033238,"workflowStartTime":1770277027630,"totalMarking":3,"serviceName":"TriageService","sequenceId":3020000,"operation":"processTriageAssessment","bufferSize":2}],"1770277054584":[{"publishTime":1770277057169,"maxQueueCapacity":50,"arrivalTime":1770277054825,"invocationTime":1770277056362,"workflowStartTime":1770277054584,"totalMarking":10,"serviceName":"TriageService","sequenceId":2060000,"operation":"processTriageAssessment","bufferSize":9}],"1770277041519":[{"publishTime":1770277074502,"maxQueueCapacity":50,"arrivalTime":1770277043002,"invocationTime":1770277072538,"workflowStartTime":1770277041519,"totalMarking":6,"serviceName":"TriageService","sequenceId":3090000,"operation":"processTriageAssessment","bufferSize":5}],"1770277052063":[{"publishTime":1770277055214,"maxQueueCapacity":50,"arrivalTime":1770277052577,"invocationTime":1770277054522,"workflowStartTime":1770277052063,"totalMarking":10,"serviceName":"TriageService","sequenceId":2050000,"operation":"processTriageAssessment","bufferSize":9}],"1770277038831":[{"publishTime":1770277068127,"maxQueueCapacity":50,"arrivalTime":1770277038887,"invocationTime":1770277066978,"workflowStartTime":1770277038831,"totalMarking":6,"serviceName":"TriageService","sequenceId":3070000,"operation":"processTriageAssessment","bufferSize":5}],"1770277050007":[{"publishTime":1770277053884,"maxQueueCapacity":50,"arrivalTime":1770277050069,"invocationTime":1770277053081,"workflowStartTime":1770277050007,"totalMarking":10,"serviceName":"TriageService","sequenceId":2040000,"operation":"processTriageAssessment","bufferSize":9}],"1770277057431":[{"publishTime":1770277062003,"maxQueueCapacity":50,"arrivalTime":1770277058735,"invocationTime":1770277061181,"workflowStartTime":1770277057431,"totalMarking":9,"serviceName":"TriageService","sequenceId":2070000,"operation":"processTriageAssessment","bufferSize":8}],"1770277059777":[{"publishTime":1770277063318,"maxQueueCapacity":50,"arrivalTime":1770277061609,"invocationTime":1770277062730,"workflowStartTime":1770277059777,"totalMarking":9,"serviceName":"TriageService","sequenceId":2080000,"operation":"processTriageAssessment","bufferSize":8}]},"timingRecordCount":30,"markingRecordCount":30},"reportingChannel":"unified_collection","serviceContext":"3000000","version":"v003","token":"{\"token\":\"workflow_3000000_v003\"}"}
Feb 05, 2026 5:38:39 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Publishing EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277119528_894 to 192.168.1.152:3002
Feb 05, 2026 5:38:39 PM org.btsn.handlers.EventPublisher publishServiceEvent
INFO: EventPublisher: Payload size (115011 bytes) exceeds limit, using chunked transfer
Feb 05, 2026 5:38:39 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Splitting payload (115011 bytes) into 15 chunks of ~7892 bytes each
Feb 05, 2026 5:38:39 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Correlation ID: 2e38c4eb-5643-4fb4-8a6a-a18a315eee5b
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2788) - ORCHESTRATOR: Completed callNextOperation for MonitorService, published=true
 INFO [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:2792) - ORCHESTRATOR: Successfully published to MonitorService via EventPublisher
ERROR [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1306) - monitorIncomingEvents: false
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:1175) - ORCHESTRATOR: Cleaned up join 3000000
DEBUG [ServiceThread-Triage_CollectorService-12200] (ServiceThread.java:724) - ORCHESTRATOR: Service Triage_CollectorService sequence ID: 3000000 complete.
Feb 05, 2026 5:38:39 PM org.btsn.handlers.EventPublisher publishChunked
INFO: EventPublisher: Successfully sent all 15 chunks for EVT_MONITORSERVICE_WRITECOLLECTORDATA_1770277119528_894
