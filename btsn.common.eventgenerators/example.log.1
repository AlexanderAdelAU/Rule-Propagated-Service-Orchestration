INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2303
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: Diagnosis_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2303
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: Diagnosis_InitializationService:purgeAndInitialize ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Diagnosis
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Diagnosis ? Diagnosis (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Diagnosis has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Diagnosis (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Diagnosis
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Diagnosis ? T_out_Diagnosis (TerminateNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Diagnosis has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING TerminateNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Diagnosis (TerminateNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Diagnosis (TerminateNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Diagnosis (TerminateNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Transition leads to termination - no meetsCondition added
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for Diagnosis_InitializationService:purgeAndInitialize (commitment: 6), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for Diagnosis_InitializationService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2303
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22303 (20000 + 0 + 2303)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22303 (RuleHandler for Diagnosis_InitializationService:purgeAndInitialize, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:6
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for Diagnosis_InitializationService:purgeAndInitialize in 101ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: Diagnosis_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: Diagnosis_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: Cardiology_InitializationService:purgeAndInitialize ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Cardiology should go to itself: Cardiology_InitializationService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2302
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2302
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2302
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: Cardiology_InitializationService:purgeAndInitialize ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Cardiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Cardiology ? Cardiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Cardiology has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Cardiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Cardiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Cardiology ? T_out_Cardiology (TerminateNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Cardiology has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING TerminateNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Cardiology (TerminateNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Cardiology (TerminateNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Cardiology (TerminateNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Transition leads to termination - no meetsCondition added
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Cardiology
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for Cardiology_InitializationService:purgeAndInitialize (commitment: 7), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for Cardiology_InitializationService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2302
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22302 (20000 + 0 + 2302)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22302 (RuleHandler for Cardiology_InitializationService:purgeAndInitialize, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:7
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for Cardiology_InitializationService:purgeAndInitialize in 101ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: Cardiology_InitializationService:purgeAndInitialize
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUMMARY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Total services processed: 7
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: 7
INFO main org.btsn.rulecontroller.RuleDeployer - Floating nodes skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Event generators skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Total in manifest: 7
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING STANDALONE MONITOR NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer - === JSON-BASED DEPLOYMENT COMPLETED SUCCESSFULLY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Deployed 7 service operations from JSON workflow
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUCCESSFUL ===
INFO main org.btsn.rulecontroller.RuleDeployer - Commitments: 7
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted version number 3 from 'v003'
INFO main org.btsn.rulecontroller.RuleDeployer - Calculated commitment listener port for version 'v003': 35003 (base: 35000, offset: 3)
INFO main org.btsn.rulecontroller.RuleDeployer - Started commitment listener on port 35003 for version v003
INFO main org.btsn.rulecontroller.RuleDeployer - JSON-Based RuleDeployer initialized for process: healthcare/Workflow/Emergency_Department_Patient_Workflow version: v003
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING RULE DEPLOYMENT ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process: healthcare/Workflow/Emergency_Department_Patient_Workflow
INFO main org.btsn.rulecontroller.RuleDeployer - Version: v003
INFO main org.btsn.rulecontroller.RuleDeployer - Derived common folder from package: org.btsn.rulecontroller ? btsn.common
INFO main org.btsn.rulecontroller.RuleDeployer - Loading JSON workflow from: C:\DevShare\BTSN_R001\BTSN\btsn.common\ProcessDefinitionFolder\healthcare\Workflow\Emergency_Department_Patient_Workflow.json
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully loaded JSON workflow: 15939 characters
INFO main org.btsn.rulecontroller.RuleDeployer - === PARSING JSON WORKFLOW ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process type: SOA
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processTriageAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Triage -> TriageService:processTriageAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Triage -> GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Triage -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Laboratory -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Cardiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Radiology -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processLabRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Laboratory -> LaboratoryService:processLabRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processCardiacAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Cardiology -> CardiologyService:processCardiacAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processImagingRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Radiology -> RadiologyService:processImagingRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Laboratory -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=30 for T_in transition: T_in_Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Diagnosis -> JoinNode:JOIN_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processClinicalDecision
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Diagnosis -> DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Treatment -> MergeNode:MERGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Treatment -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: executeTreatmentPlan
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: executeDirectTreatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Treatment -> TreatmentService:[executeTreatmentPlan, executeDirectTreatment]
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Cardiology -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Diagnosis -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Monitor -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Monitor -> MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Registered EVENT_GENERATOR 'PATIENT_ARRIVAL' as EventGenerator transition (token generation handled externally)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Decision Edge: T_out_Triage -> T_in_Laboratory [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Decision Edge: T_out_Triage -> T_in_Cardiology [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Decision Edge: T_out_Triage -> T_in_Radiology [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Laboratory -> Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Cardiology -> Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Radiology -> Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Laboratory -> T_out_Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Radiology -> T_out_Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Laboratory -> T_in_Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Radiology -> T_in_Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Decision Edge: T_out_Triage -> T_in_Treatment [DECISION_EQUAL_TO=DIRECT_TO_TREATMENT]
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Triage -> Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Triage -> T_out_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Cardiology -> T_out_Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Cardiology -> T_in_Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Diagnosis -> Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Treatment -> Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Treatment -> T_out_Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Diagnosis -> T_out_Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Diagnosis -> T_in_Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Treatment -> T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Monitor -> Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Monitor -> T_out_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: PATIENT_ARRIVAL -> T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - JSON parsing complete - 7 services, 15 transitions, 24 edges
INFO main org.btsn.rulecontroller.RuleDeployer - === POST-PARSING DEBUG ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service nodes parsed: 7
INFO main org.btsn.rulecontroller.RuleDeployer - Multi-op services: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Transition nodes parsed: 15
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow edges parsed: 24
INFO main org.btsn.rulecontroller.RuleDeployer - === SERVICE NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   Treatment -> TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer -     Multi-op: executeTreatmentPlan,executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Radiology -> RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Triage -> TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Laboratory -> LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Diagnosis -> DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer -   Cardiology -> CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - === TRANSITION NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Laboratory -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Treatment -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   PATIENT_ARRIVAL -> EventGenerator:EVENT_GENERATOR
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Diagnosis -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Cardiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Cardiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Diagnosis -> JoinNode:JOIN_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Laboratory -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Treatment -> MergeNode:MERGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Triage -> GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Triage -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === WORKFLOW EDGES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   DECISION EDGE: T_out_Triage -> T_in_Laboratory [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
INFO main org.btsn.rulecontroller.RuleDeployer -   DECISION EDGE: T_out_Triage -> T_in_Cardiology [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
INFO main org.btsn.rulecontroller.RuleDeployer -   DECISION EDGE: T_out_Triage -> T_in_Radiology [DECISION_EQUAL_TO=STANDARD_WORKFLOW]
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Laboratory -> Laboratory
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Cardiology -> Cardiology
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Radiology -> Radiology
INFO main org.btsn.rulecontroller.RuleDeployer -   Laboratory -> T_out_Laboratory
INFO main org.btsn.rulecontroller.RuleDeployer -   Radiology -> T_out_Radiology
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Laboratory -> T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Radiology -> T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   DECISION EDGE: T_out_Triage -> T_in_Treatment [DECISION_EQUAL_TO=DIRECT_TO_TREATMENT] endpoint=executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Triage -> Triage
INFO main org.btsn.rulecontroller.RuleDeployer -   Triage -> T_out_Triage
INFO main org.btsn.rulecontroller.RuleDeployer -   Cardiology -> T_out_Cardiology
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Cardiology -> T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Diagnosis -> Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Treatment -> Treatment
INFO main org.btsn.rulecontroller.RuleDeployer -   Treatment -> T_out_Treatment
INFO main org.btsn.rulecontroller.RuleDeployer -   Diagnosis -> T_out_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   ENDPOINT EDGE: T_out_Diagnosis -> T_in_Treatment [endpoint=executeTreatmentPlan]
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Treatment -> T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> T_out_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   PATIENT_ARRIVAL -> T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Performing comprehensive workflow validation...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Validating service:operation pairs with OOjDREW...
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: TreatmentService:executeTreatmentPlan (node: Treatment)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for TreatmentService:executeTreatmentPlan
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: TreatmentService:executeDirectTreatment (node: Treatment)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for TreatmentService:executeDirectTreatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: MonitorService:acknowledgeTokenArrival (node: Monitor)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: RadiologyService:processImagingRequest (node: Radiology)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for RadiologyService:processImagingRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: TriageService:processTriageAssessment (node: Triage)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for TriageService:processTriageAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: LaboratoryService:processLabRequest (node: Laboratory)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for LaboratoryService:processLabRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: DiagnosisService:processClinicalDecision (node: Diagnosis)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for DiagnosisService:processClinicalDecision
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: CardiologyService:processCardiacAssessment (node: Cardiology)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - Step 2: Validating workflow structure...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Validating transition node types...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 4: Validating graph connectivity...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 5: Validating JoinNode configurations...
INFO main org.btsn.rulecontroller.RuleDeployer - Validating JoinNode: T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer -   [OK] JoinNode T_in_Diagnosis has 3 incoming edges: [T_out_Laboratory, T_out_Radiology, T_out_Cardiology]
INFO main org.btsn.rulecontroller.RuleDeployer -   Downstream service: DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer -   [OK] JoinNode downstream service identified. Runtime will handle synchronization.
INFO main org.btsn.rulecontroller.RuleDeployer -   Note: For PetriNet mode, token will carry joinCount=3
INFO main org.btsn.rulecontroller.RuleDeployer -   JoinNode validation complete: 1/1 JoinNodes valid
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow validation complete. Found 0 issues
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow validation passed! Proceeding with deployment...
INFO main org.btsn.rulecontroller.RuleDeployer - === SOA MODE: Preserving existing canonical binding files ===
INFO main org.btsn.rulecontroller.RuleDeployer - SOA workflows use hand-crafted binding files - no auto-generation
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: TreatmentService:executeTreatmentPlan - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: MonitorService:acknowledgeTokenArrival - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: RadiologyService:processImagingRequest - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: TriageService:processTriageAssessment - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: LaboratoryService:processLabRequest - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: DiagnosisService:processClinicalDecision - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: CardiologyService:processCardiacAssessment - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer - === SOA CANONICAL BINDINGS: Preserved all 7 existing files ===
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING SERVICE NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer - Total services to deploy: 7
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: TreatmentService:executeTreatmentPlan (nodeId: Treatment) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer -   Multi-op: executeTreatmentPlan,executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: MonitorService:acknowledgeTokenArrival (nodeId: Monitor) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: RadiologyService:processImagingRequest (nodeId: Radiology) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: TriageService:processTriageAssessment (nodeId: Triage) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: LaboratoryService:processLabRequest (nodeId: Laboratory) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: DiagnosisService:processClinicalDecision (nodeId: Diagnosis) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: CardiologyService:processCardiacAssessment (nodeId: Cardiology) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING: TreatmentService:executeTreatmentPlan ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Treatment should go to itself: TreatmentService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2106
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2106
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2106
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: TreatmentService:executeTreatmentPlan ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Treatment
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Treatment ? Treatment (MergeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Treatment has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Treatment (MergeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Treatment
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Treatment ? T_out_Treatment (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Treatment has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING EdgeNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Monitor via T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Treatment to Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: MonitorService:acknowledgeTokenArrival:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: MonitorService:acknowledgeTokenArrival via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Treatment
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for TreatmentService:executeTreatmentPlan (commitment: 1), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for TreatmentService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2106
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22106 (20000 + 0 + 2106)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22106 (RuleHandler for TreatmentService:executeTreatmentPlan, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:1
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for TreatmentService:executeTreatmentPlan in 102ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: TreatmentService:executeTreatmentPlan
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING: TreatmentService:executeDirectTreatment ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Treatment should go to itself: TreatmentService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2107
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2107
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2107
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: TreatmentService:executeDirectTreatment ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Treatment
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Treatment ? Treatment (MergeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Treatment has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Treatment (MergeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Treatment
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Treatment ? T_out_Treatment (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Treatment has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING EdgeNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Treatment (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Monitor via T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Treatment to Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: MonitorService:acknowledgeTokenArrival:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: MonitorService:acknowledgeTokenArrival via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Treatment
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for TreatmentService:executeDirectTreatment (commitment: 2), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for TreatmentService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2107
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22107 (20000 + 0 + 2107)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22107 (RuleHandler for TreatmentService:executeDirectTreatment, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:2
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for TreatmentService:executeDirectTreatment in 102ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: TreatmentService:executeDirectTreatment
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: MonitorService:acknowledgeTokenArrival ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Monitor should go to itself: MonitorService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: MonitorService:acknowledgeTokenArrival ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Monitor
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Monitor ? Monitor (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Monitor has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Monitor (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Monitor
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Monitor ? T_out_Monitor (TerminateNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Monitor has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING TerminateNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Monitor (TerminateNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Monitor (TerminateNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Monitor (TerminateNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Transition leads to termination - no meetsCondition added
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for MonitorService:acknowledgeTokenArrival (commitment: 3), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for MonitorService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 23000 (20000 + 0 + 3000)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:23000 (RuleHandler for MonitorService:acknowledgeTokenArrival, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:3
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for MonitorService:acknowledgeTokenArrival in 101ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: RadiologyService:processImagingRequest ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Radiology should go to itself: RadiologyService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2101
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2101
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2101
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: RadiologyService:processImagingRequest ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Radiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Radiology ? Radiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Radiology has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Radiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Radiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Radiology ? T_out_Radiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Radiology has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING EdgeNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Radiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Radiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Radiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Diagnosis via T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Radiology to Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: DiagnosisService:processClinicalDecision:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: DiagnosisService:processClinicalDecision via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Radiology
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for RadiologyService:processImagingRequest (commitment: 4), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for RadiologyService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2101
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22101 (20000 + 0 + 2101)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22101 (RuleHandler for RadiologyService:processImagingRequest, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:4
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for RadiologyService:processImagingRequest in 120ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: RadiologyService:processImagingRequest
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: TriageService:processTriageAssessment ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Triage should go to itself: TriageService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: TriageService:processTriageAssessment ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Triage
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Triage ? Triage (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Triage has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Triage (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Triage
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Triage ? T_out_Triage (GatewayNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Triage has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING GatewayNode (controls routing behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Triage (GatewayNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Triage (GatewayNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Processing GatewayNode routing for T_out_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Processing GatewayNode: T_out_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Added NodeType: GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode has 4 outgoing edges
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode edge: T_out_Triage -> T_in_Laboratory (decision_value='STANDARD_WORKFLOW', attributes={condition=DECISION_EQUAL_TO, decision_value=STANDARD_WORKFLOW, label=STANDARD_WORKFLOW})
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding destination service for edge: T_out_Triage -> T_in_Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding service from: T_in_Laboratory (limited hop version)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Checking immediate neighbor: Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found immediate service: LaboratoryService:processLabRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found reachable service: LaboratoryService
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: LaboratoryService:processLabRequest:GATEWAY_NODE:STANDARD_WORKFLOW
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode: Added meetsCondition for LaboratoryService:processLabRequest with decision_value='STANDARD_WORKFLOW'
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode edge: T_out_Triage -> T_in_Cardiology (decision_value='STANDARD_WORKFLOW', attributes={condition=DECISION_EQUAL_TO, decision_value=STANDARD_WORKFLOW, label=STANDARD_WORKFLOW})
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding destination service for edge: T_out_Triage -> T_in_Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding service from: T_in_Cardiology (limited hop version)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Checking immediate neighbor: Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found immediate service: CardiologyService:processCardiacAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found reachable service: CardiologyService
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: CardiologyService:processCardiacAssessment:GATEWAY_NODE:STANDARD_WORKFLOW
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode: Added meetsCondition for CardiologyService:processCardiacAssessment with decision_value='STANDARD_WORKFLOW'
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode edge: T_out_Triage -> T_in_Radiology (decision_value='STANDARD_WORKFLOW', attributes={condition=DECISION_EQUAL_TO, decision_value=STANDARD_WORKFLOW, label=STANDARD_WORKFLOW})
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding destination service for edge: T_out_Triage -> T_in_Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding service from: T_in_Radiology (limited hop version)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Checking immediate neighbor: Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found immediate service: RadiologyService:processImagingRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found reachable service: RadiologyService
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: RadiologyService:processImagingRequest:GATEWAY_NODE:STANDARD_WORKFLOW
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode: Added meetsCondition for RadiologyService:processImagingRequest with decision_value='STANDARD_WORKFLOW'
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode edge: T_out_Triage -> T_in_Treatment (decision_value='DIRECT_TO_TREATMENT', attributes={condition=DECISION_EQUAL_TO, decision_value=DIRECT_TO_TREATMENT, endpoint=executeDirectTreatment, label=DIRECT_TO_TREATMENT})
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding destination service for edge: T_out_Triage -> T_in_Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding service from: T_in_Treatment (limited hop version)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Checking immediate neighbor: Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found immediate service: TreatmentService:executeTreatmentPlan
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found reachable service: TreatmentService
INFO main org.btsn.rulecontroller.RuleDeployer - Edge specifies endpoint: executeDirectTreatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: TreatmentService:executeDirectTreatment:GATEWAY_NODE:DIRECT_TO_TREATMENT
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode: Added meetsCondition for TreatmentService:executeDirectTreatment with decision_value='DIRECT_TO_TREATMENT'
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for TriageService:processTriageAssessment (commitment: 5), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for TriageService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22100 (20000 + 0 + 2100)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22100 (RuleHandler for TriageService:processTriageAssessment, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:5
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for TriageService:processTriageAssessment in 100ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: LaboratoryService:processLabRequest ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Laboratory should go to itself: LaboratoryService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2105
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2105
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2105
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: LaboratoryService:processLabRequest ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Laboratory
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Laboratory ? Laboratory (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Laboratory has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Laboratory (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Laboratory
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Laboratory ? T_out_Laboratory (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Laboratory has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING EdgeNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Laboratory (EdgeNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Laboratory (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Laboratory (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Diagnosis via T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Laboratory to Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: DiagnosisService:processClinicalDecision:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: DiagnosisService:processClinicalDecision via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Laboratory
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Laboratory
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for LaboratoryService:processLabRequest (commitment: 6), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for LaboratoryService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2105
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22105 (20000 + 0 + 2105)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22105 (RuleHandler for LaboratoryService:processLabRequest, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:6
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for LaboratoryService:processLabRequest in 101ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: LaboratoryService:processLabRequest
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: DiagnosisService:processClinicalDecision ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Diagnosis should go to itself: DiagnosisService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2104
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2104
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2104
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: DiagnosisService:processClinicalDecision ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Diagnosis
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Diagnosis ? Diagnosis (JoinNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Diagnosis has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Diagnosis (JoinNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Diagnosis
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Diagnosis ? T_out_Diagnosis (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Diagnosis has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using INCOMING JoinNode (controls input coordination)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_in_Diagnosis (JoinNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: JoinNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: JoinNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Diagnosis (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Diagnosis (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Treatment via T_in_Treatment
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Diagnosis to Treatment
INFO main org.btsn.rulecontroller.RuleDeployer - Found endpoint 'executeTreatmentPlan' on path to Treatment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: TreatmentService:executeTreatmentPlan:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: TreatmentService:executeTreatmentPlan via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=30 from transition: T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for DiagnosisService:processClinicalDecision (commitment: 7), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for DiagnosisService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2104
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22104 (20000 + 0 + 2104)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22104 (RuleHandler for DiagnosisService:processClinicalDecision, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:7
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for DiagnosisService:processClinicalDecision in 103ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: DiagnosisService:processClinicalDecision
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: CardiologyService:processCardiacAssessment ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Cardiology should go to itself: CardiologyService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2103
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2103
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2103
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: CardiologyService:processCardiacAssessment ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Cardiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Cardiology ? Cardiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Cardiology has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Cardiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Cardiology
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Cardiology ? T_out_Cardiology (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Cardiology has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING EdgeNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Cardiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: EdgeNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Cardiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Cardiology (EdgeNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Found destination service: Diagnosis via T_in_Diagnosis
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 destination services
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding operation for path from T_out_Cardiology to Diagnosis
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: DiagnosisService:processClinicalDecision:EDGE_NODE:
INFO main org.btsn.rulecontroller.RuleDeployer - Added meetsCondition: DiagnosisService:processClinicalDecision via EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Cardiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Cardiology
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for CardiologyService:processCardiacAssessment (commitment: 8), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for CardiologyService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2103
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22103 (20000 + 0 + 2103)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22103 (RuleHandler for CardiologyService:processCardiacAssessment, channel 0)
INFO CommitmentListener-v003 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v003:8
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for CardiologyService:processCardiacAssessment in 102ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: CardiologyService:processCardiacAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUMMARY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Total services processed: 7
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: 8
INFO main org.btsn.rulecontroller.RuleDeployer - Floating nodes skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Event generators skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Total in manifest: 8
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING STANDALONE MONITOR NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer - === JSON-BASED DEPLOYMENT COMPLETED SUCCESSFULLY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Deployed 8 service operations from JSON workflow
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUCCESSFUL ===
INFO main org.btsn.rulecontroller.RuleDeployer - Commitments: 8
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted version number 2 from 'v002'
INFO main org.btsn.rulecontroller.RuleDeployer - Calculated commitment listener port for version 'v002': 35002 (base: 35000, offset: 2)
INFO main org.btsn.rulecontroller.RuleDeployer - Started commitment listener on port 35002 for version v002
INFO main org.btsn.rulecontroller.RuleDeployer - JSON-Based RuleDeployer initialized for process: healthcare/Workflow/Triage_CanaryTest_Workflow version: v002
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING RULE DEPLOYMENT ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process: healthcare/Workflow/Triage_CanaryTest_Workflow
INFO main org.btsn.rulecontroller.RuleDeployer - Version: v002
INFO main org.btsn.rulecontroller.RuleDeployer - Derived common folder from package: org.btsn.rulecontroller ? btsn.common
INFO main org.btsn.rulecontroller.RuleDeployer - Loading JSON workflow from: C:\DevShare\BTSN_R001\BTSN\btsn.common\ProcessDefinitionFolder\healthcare\Workflow\Triage_CanaryTest_Workflow.json
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully loaded JSON workflow: 4366 characters
INFO main org.btsn.rulecontroller.RuleDeployer - === PARSING JSON WORKFLOW ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process type: SOA
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=121 for T_in transition: T_in_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Triage -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: processTriageAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Triage -> TriageService:processTriageAssessment
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Triage -> GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Monitor -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Monitor -> MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Registered EVENT_GENERATOR 'CANARY_TEST' as EventGenerator transition (token generation handled externally)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Triage -> Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Triage -> T_out_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Monitor -> Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Monitor -> T_out_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Triage -> T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: CANARY_TEST -> T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - JSON parsing complete - 2 services, 5 transitions, 6 edges
INFO main org.btsn.rulecontroller.RuleDeployer - === POST-PARSING DEBUG ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service nodes parsed: 2
INFO main org.btsn.rulecontroller.RuleDeployer - Multi-op services: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Transition nodes parsed: 5
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow edges parsed: 6
INFO main org.btsn.rulecontroller.RuleDeployer - === SERVICE NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Triage -> TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - === TRANSITION NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Triage -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Triage -> GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   CANARY_TEST -> EventGenerator:EVENT_GENERATOR
INFO main org.btsn.rulecontroller.RuleDeployer - === WORKFLOW EDGES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Triage -> Triage
INFO main org.btsn.rulecontroller.RuleDeployer -   Triage -> T_out_Triage
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> T_out_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Triage -> T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   CANARY_TEST -> T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Performing comprehensive workflow validation...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Validating service:operation pairs with OOjDREW...
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: MonitorService:acknowledgeTokenArrival (node: Monitor)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: TriageService:processTriageAssessment (node: Triage)
DEBUG main org.btsn.rulecontroller.RuleDeployer - [OK] OOjDREW validation passed for TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - Step 2: Validating workflow structure...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Validating transition node types...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 4: Validating graph connectivity...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 5: Validating JoinNode configurations...
INFO main org.btsn.rulecontroller.RuleDeployer -   No JoinNodes found in workflow (this is OK for linear workflows)
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow validation complete. Found 0 issues
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow validation passed! Proceeding with deployment...
INFO main org.btsn.rulecontroller.RuleDeployer - === SOA MODE: Preserving existing canonical binding files ===
INFO main org.btsn.rulecontroller.RuleDeployer - SOA workflows use hand-crafted binding files - no auto-generation
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: MonitorService:acknowledgeTokenArrival - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer -   SOA service: TriageService:processTriageAssessment - using existing binding file
INFO main org.btsn.rulecontroller.RuleDeployer - === SOA CANONICAL BINDINGS: Preserved all 2 existing files ===
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING SERVICE NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer - Total services to deploy: 2
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: MonitorService:acknowledgeTokenArrival (nodeId: Monitor) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - Will process: TriageService:processTriageAssessment (nodeId: Triage) - DEPLOYABLE
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: MonitorService:acknowledgeTokenArrival ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Monitor should go to itself: MonitorService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: MonitorService:acknowledgeTokenArrival ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Monitor
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Monitor ? Monitor (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Monitor has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Monitor (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Monitor
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Monitor ? T_out_Monitor (TerminateNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Monitor has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING TerminateNode (default output behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Monitor (TerminateNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: TerminateNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Monitor (TerminateNode)
DEBUG main org.btsn.rulecontroller.model.WorkflowModel - Finding destination services from transition: T_out_Monitor (TerminateNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Transition leads to termination - no meetsCondition added
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=10 from transition: T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for MonitorService:acknowledgeTokenArrival (commitment: 1), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for MonitorService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 3000
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 23000 (20000 + 0 + 3000)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:23000 (RuleHandler for MonitorService:acknowledgeTokenArrival, channel 0)
INFO CommitmentListener-v002 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v002:1
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for MonitorService:acknowledgeTokenArrival in 101ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING DEPLOYMENT FOR: TriageService:processTriageAssessment ===
INFO main org.btsn.rulecontroller.RuleDeployer - Rules for Triage should go to itself: TriageService
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Checking activeService facts for TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] Found activeService entry for TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID from activeService: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Port from activeService: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - Step 3: Resolving channel ID 'ip0' via boundChannel facts
INFO main org.btsn.rulecontroller.RuleDeployer - [OK] REMOTE HOST DEPLOYMENT DETECTED
INFO main org.btsn.rulecontroller.RuleDeployer -   Service: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer -   Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer -   Remote Host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer -   Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - === CHANNEL RESOLUTION COMPLETE ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - From: activeService facts
INFO main org.btsn.rulecontroller.RuleDeployer - Channel ID: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Resolved to: REMOTE 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Channel: ip0
INFO main org.btsn.rulecontroller.RuleDeployer - Rule Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - === GENERATING RULES FOR SERVICE: TriageService:processTriageAssessment ===
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding INCOMING transitions for service: Triage
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found incoming transition: T_in_Triage ? Triage (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Triage has 1 incoming transitions
INFO main org.btsn.rulecontroller.RuleDeployer - Input coordination from INCOMING: T_in_Triage (EdgeNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Finding OUTGOING transitions for service: Triage
INFO main org.btsn.rulecontroller.model.WorkflowModel - Found outgoing transition: Triage ? T_out_Triage (GatewayNode)
INFO main org.btsn.rulecontroller.model.WorkflowModel - Service Triage has 1 outgoing transitions
INFO main org.btsn.rulecontroller.RuleDeployer - DECISION: Using OUTGOING GatewayNode (controls routing behavior)
INFO main org.btsn.rulecontroller.RuleDeployer - CONTROLLING TRANSITION for NodeType: T_out_Triage (GatewayNode)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Found 1 outgoing transitions for routing
INFO main org.btsn.rulecontroller.RuleDeployer - Processing OUTGOING: T_out_Triage (GatewayNode)
INFO main org.btsn.rulecontroller.RuleDeployer - Processing GatewayNode routing for T_out_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Processing GatewayNode: T_out_Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote NodeType: GatewayNode
INFO main org.btsn.rulecontroller.RuleDeployer - Added NodeType: GatewayNode:GATEWAY_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode has 1 outgoing edges
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode edge: T_out_Triage -> T_in_Monitor (decision_value='Network', attributes={label=Network})
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding destination service for edge: T_out_Triage -> T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Finding service from: T_in_Monitor (limited hop version)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Checking immediate neighbor: Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found immediate service: MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found reachable service: MonitorService
DEBUG main org.btsn.rulecontroller.RuleDeployer - Wrote meetsCondition: MonitorService:acknowledgeTokenArrival:GATEWAY_NODE:Network
INFO main org.btsn.rulecontroller.RuleDeployer - GatewayNode: Added meetsCondition for MonitorService:acknowledgeTokenArrival with decision_value='Network'
INFO main org.btsn.rulecontroller.RuleDeployer - === END SERVICE RULE GENERATION ===
DEBUG main org.btsn.rulecontroller.RuleDeployer - Searching for buffer value for service: Triage
DEBUG main org.btsn.rulecontroller.RuleDeployer - Found buffer=121 from transition: T_in_Triage
INFO main org.btsn.rulecontroller.RuleDeployer - Sending payload for TriageService:processTriageAssessment (commitment: 2), attempt: 1
INFO main org.btsn.rulecontroller.RuleDeployer - Using remote host: 192.168.1.152
INFO main org.btsn.rulecontroller.RuleDeployer - === Port Calculation for TriageService ===
INFO main org.btsn.rulecontroller.RuleDeployer - Channel: ip0 (#0)
INFO main org.btsn.rulecontroller.RuleDeployer - Base Port: 2100
INFO main org.btsn.rulecontroller.RuleDeployer - Channel Offset: 0 (channel x 1000)
INFO main org.btsn.rulecontroller.RuleDeployer - Target Port: 22100 (20000 + 0 + 2100)
INFO main org.btsn.rulecontroller.RuleDeployer - Sent UDP payload to 192.168.1.152:22100 (RuleHandler for TriageService:processTriageAssessment, channel 0)
INFO CommitmentListener-v002 org.btsn.rulecontroller.RuleDeployer - [OK] UDP commitment confirmation received: v002:2
DEBUG main org.btsn.rulecontroller.RuleDeployer - Commitment confirmed for TriageService:processTriageAssessment in 102ms
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed rule for: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: TriageService:processTriageAssessment
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUMMARY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Total services processed: 2
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully deployed: 2
INFO main org.btsn.rulecontroller.RuleDeployer - Floating nodes skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Event generators skipped: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Total in manifest: 2
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYING STANDALONE MONITOR NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer - === JSON-BASED DEPLOYMENT COMPLETED SUCCESSFULLY ===
INFO main org.btsn.rulecontroller.RuleDeployer - Deployed 2 service operations from JSON workflow
INFO main org.btsn.rulecontroller.RuleDeployer - === DEPLOYMENT SUCCESSFUL ===
INFO main org.btsn.rulecontroller.RuleDeployer - Commitments: 2
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted version number 1 from 'v001'
INFO main org.btsn.rulecontroller.RuleDeployer - Calculated commitment listener port for version 'v001': 35001 (base: 35000, offset: 1)
INFO main org.btsn.rulecontroller.RuleDeployer - Started commitment listener on port 35001 for version v001
INFO main org.btsn.rulecontroller.RuleDeployer - JSON-Based RuleDeployer initialized for process: healthcare/Workflow/Federated_Radiology_Workflow version: v001
INFO main org.btsn.rulecontroller.RuleDeployer - === STARTING RULE DEPLOYMENT ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process: healthcare/Workflow/Federated_Radiology_Workflow
INFO main org.btsn.rulecontroller.RuleDeployer - Version: v001
INFO main org.btsn.rulecontroller.RuleDeployer - Derived common folder from package: org.btsn.rulecontroller ? btsn.common
INFO main org.btsn.rulecontroller.RuleDeployer - Loading JSON workflow from: C:\DevShare\BTSN_R001\BTSN\btsn.common\ProcessDefinitionFolder\healthcare\Workflow\Federated_Radiology_Workflow.json
INFO main org.btsn.rulecontroller.RuleDeployer - Successfully loaded JSON workflow: 4275 characters
INFO main org.btsn.rulecontroller.RuleDeployer - === PARSING JSON WORKFLOW ===
INFO main org.btsn.rulecontroller.RuleDeployer - Process type: SOA
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=100 for T_in transition: T_in_Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Radiology -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: federatedRadiologyRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Radiology -> RadiologyService:federatedRadiologyRequest
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Captured buffer=10 for T_in transition: T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_in_Monitor -> EdgeNode:EDGE_NODE
DEBUG main org.btsn.rulecontroller.RuleDeployer - Extracted operation name from object: acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Place: Monitor -> MonitorService:acknowledgeTokenArrival
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Transition: T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - Registered EVENT_GENERATOR 'FEDERATED_RADIOLOGY_REQUEST' as EventGenerator transition (token generation handled externally)
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Radiology -> Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Radiology -> T_out_Radiology
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_in_Monitor -> Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: Monitor -> T_out_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: T_out_Radiology -> T_in_Monitor
DEBUG main org.btsn.rulecontroller.RuleDeployer - Parsed JSON Edge: FEDERATED_RADIOLOGY_REQUEST -> T_in_Radiology
INFO main org.btsn.rulecontroller.RuleDeployer - JSON parsing complete - 2 services, 5 transitions, 6 edges
INFO main org.btsn.rulecontroller.RuleDeployer - === POST-PARSING DEBUG ===
INFO main org.btsn.rulecontroller.RuleDeployer - Service nodes parsed: 2
INFO main org.btsn.rulecontroller.RuleDeployer - Multi-op services: 0
INFO main org.btsn.rulecontroller.RuleDeployer - Transition nodes parsed: 5
INFO main org.btsn.rulecontroller.RuleDeployer - Workflow edges parsed: 6
INFO main org.btsn.rulecontroller.RuleDeployer - === SERVICE NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> MonitorService:acknowledgeTokenArrival
INFO main org.btsn.rulecontroller.RuleDeployer -   Radiology -> RadiologyService:federatedRadiologyRequest
INFO main org.btsn.rulecontroller.RuleDeployer - === TRANSITION NODES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   FEDERATED_RADIOLOGY_REQUEST -> EventGenerator:EVENT_GENERATOR
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Monitor -> TerminateNode:TERMINATE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Radiology -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> EdgeNode:EDGE_NODE
INFO main org.btsn.rulecontroller.RuleDeployer - === WORKFLOW EDGES ===
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Radiology -> Radiology
INFO main org.btsn.rulecontroller.RuleDeployer -   Radiology -> T_out_Radiology
INFO main org.btsn.rulecontroller.RuleDeployer -   T_in_Monitor -> Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   Monitor -> T_out_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   T_out_Radiology -> T_in_Monitor
INFO main org.btsn.rulecontroller.RuleDeployer -   FEDERATED_RADIOLOGY_REQUEST -> T_in_Radiology
INFO main org.btsn.rulecontroller.RuleDeployer - Performing comprehensive workflow validation...
INFO main org.btsn.rulecontroller.RuleDeployer - Step 1: Validating service:operation pairs with OOjDREW...
DEBUG main org.btsn.rulecontroller.RuleDeployer - Validating service with OOjDREW: MonitorService:acknowledgeTokenArrival (node: Monitor)
